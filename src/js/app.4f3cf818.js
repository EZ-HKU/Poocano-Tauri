(function () {
  var __webpack_modules__ = {
      25902: function (e, t, i) {
        "use strict";
        i(57658);
        var s = i(27195),
          n = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { attrs: { id: "app" } },
              [
                t("notifications", {
                  attrs: { width: e.notice_width },
                  scopedSlots: e._u([
                    {
                      key: "body",
                      fn: function (i) {
                        return [
                          t(
                            "div",
                            {
                              staticClass: "notice-container",
                              on: {
                                click: function (e) {
                                  i.item.data.nav2().finally(i.close);
                                },
                              },
                            },
                            [
                              t("img", {
                                staticClass: "notice-image",
                                attrs: { src: i.item.data.image },
                              }),
                              t("div", { staticClass: "notice-main" }, [
                                i.item.data.title
                                  ? t("div", { staticClass: "notice-title" }, [
                                      e._v(e._s(i.item.data.title)),
                                    ])
                                  : e._e(),
                                t("div", { staticClass: "notice-msg" }, [
                                  e._v(e._s(i.item.data.content)),
                                ]),
                              ]),
                            ]
                          ),
                        ];
                      },
                    },
                  ]),
                }),
                t("router-view"),
              ],
              1
            );
          },
          o = [],
          a = i(25730),
          r = JSON.parse(
            '{"AppName":{"UNI":"Triple Uni —— 陆上行舟由你网站","HKU":"HKU Pupu","CUHK":"Ma Liu Shui Beeper","UST":"Stardust Space Station"},"AppNameTitle":{"UNI":"Triple Uni","HKU":"HKU Pupu","CUHK":"Beeper","UST":"Space Station"},"TeamName":{"HKU":"HKUPootal","CUHK":"CU Transformer","UST":"HKUST Stardust"},"Login":{"main_title":"Welcome to Triple Uni!","main_subtitle":"Sign in to view the treeholes posted by students of various universities in Hong Kong.","signin_with_wechat":"Sign in with WeChat","signin_with_microsoft":"Sign in with Outlook","signin_with_github":"Sign in with GitHub","signin_with_email":"Sign in / Sign up with Email","signin_with_password":"Sign in to Organization Account","privacy_declare_1":"By sign up / sign in, you are indicating that you have read and agree to ","privacy_declare_2":" and ","privacy_declare_3":" .","privacy_declare_agreement":"User Terms of Service","privacy_declare_privacy":"Privacy Policy","email_title":"Sign in / Sign up with Email","email_subtitle":"Enter your educational email address to verify your identity.","email_placeholder":"Input your educational email","send_vcode":"Send Verification Code","vcode_placeholder":"Input your verification code","login":"Sign In / Sign Up","password_title":"Sign in to Organization Account","password_subtitle":"Use by registered associations only.","account_placeholder":"Input organization account","password_placeholder":"Input password"},"Ban":{"title":"Description of Account Penalties","not_permanent_1":"Description of Account Penalties","not_permanent_2":"You have posted content in {app_name} that is","not_permanent_3":"Political Content Not Suitable for Public Discussion","not_permanent_4":"The content violates ","not_permanent_5":"\\"{app_name} User Terms of Service\\"","not_permanent_6":" and related laws and regulations, and your account will be frozen ","not_permanent_7":" day(s) until ","not_permanent_8":"This is the ","not_permanent_9":" time your account has been frozen and the next offense will be a ","not_permanent_10":" days freeze.","not_permanent_11":"After the freeze is over your account can resume normal use, please comply with the ","not_permanent_12":" and related laws and regulations.","permanent_1":"Description of Account Penalties","permanent_2":"Your posting in {app_name} violates ","permanent_3":"\\"{app_name} User Terms of Service\\"","permanent_4":" .","permanent_5":"Your account has been permanently banned."},"Main":{"home":"Home","search":"Search","notice":"Notifications","pm":"Messages","mine":"Mine","write":"Post","org":"Organization"},"MiddleHome":{"title":"Home","topic_all":"All"},"MiddleAbout":{"title":"About Us","developed_by":"Developed by HKUPootal","operated_by":"Operated by {team_name}","log":{"1-0-0":{"1":"The web version of Triple Uni is officially launched~","2":"Adapts a new UI design style.","3":"Adapts to multiple screen sizes and supports PWA.","4":"AI Chatbot Xiaotuo is now accessible on the web."},"1-1-0":{"1":"Adds search suggestions feature.","2":"Improves mobile UI.","3":"Fixes some known issues."},"1-2-0":{"1":"Supports Markdown in trehole content.","2":"Adds hyperlink feature.","3":"Supports jumping to treeholes and external websites."},"1-3-0":{"1":"Adds Markdown editor on PC to help you edit rich text more easily.","2":"Launches the \\"Sharing\\" section, gathering high-quality strategies from 3 schools.","3":"Adds AI search feature."}}},"MiddleSearch":{"title":"Search","placeholder":"Search treeholes, courses and more","default":"Default","latest":"Latest","hot":"Hotest"},"MiddleNotice":{"title":"Notifications","post_new_comment":"Your treehole #{post_id} has a new comment.","comment_new_reply":"There\'s a new reply to your comment on #{post_id}.","follow_post_update":"The post #{post_id} you\'re following has an update.","default":"You have a new notification."},"MiddlePm":{"title":"Messages","delete":"Delete and block this user","delete_modal_title":"Delete?","delete_modal_content":"After deletion, this user\'s private messages will be blocked and cannot be restored.","delete_modal_confirm":"Successfully deleted.","chatbot_name":"Xiaotuo","chatbot_intro":"Let\'s chat with AI chatbot Xiaotuo!"},"MiddleMine":{"title":"Homepage of {user_serial}","post":"Treeholes","follow":"Following","more":"More","audit_user_info":"Edit Profile","open_setting":"Open Setting","switch_language":"Switch Language","logout":"Log out","logout_modal_content":"Log out of Triple Uni?"},"MiddleWrite":{"title":"Post","send":"Post","topic_null":"Topic","public_true":"Public","public_false":"Private","realname_true":"Realname","realname_false":"Anonymous","uni_true":"UNI","uni_false":"Local","placeholder":"I\'d like to say to the treehole...","nav_back_warning_title":"Exit?","nav_back_warning_content":"Treehole drafts will not be saved after exiting.","preview_image":"View","delete_image":"Delete","media_image":"Image","media_netease":"NetEase CloudMusic","media_bilibili":"Bilibili","media_vote":"Poll","media_quote":"Quote","media_file":"File","file_type_not_support":"This file type is not supported.","preview_media":"View","delete_media":"Delete","markdown_placeholder":"Please write using Markdown\\nor use the functions provided by the editor"},"MiddleUser":{"title":"Homepage of {user_serial}","pm":"Private Mesaage","realname_pm":"Realname Private Mesaage","anonymous_pm":"Anonymous Private Mesaage"},"MiddleOrg":{"title":"Organization {org_name}","realname_pm":"Realname Private Mesaage","anonymous_pm":"Anonymous Private Mesaage","miniapp_not_support":"The web version does not support jumping to mini programs."},"MiddleEdit":{"title":"Edit Profile","save":"Save","not_owned":"(not owned)","edit_user_id_title":"Edit User ID","edit_user_id_info":"Can only contain numbers and lowercase letters","edit_user_id_placeholder":"Input new ID","exchange_avatar_title":"Avatar Redemption Code","exchange_avatar_info":"Enter a redemption code to unlock an unowned avatar","exchange_avatar_placeholder":"Input the code","exchange":"Get","user_id_at_least_3_char":"Minimum 3 characters for user ID.","user_id_illegal":"User ID can only contain numbers and lowercase letters."},"MiddlePostDetail":{"title":"Treehole","vote_not_vote_yet":"You haven\'t voted yet.","vote_have_already_vote":"You have choose: ","function_miniapp_not_support":"The web version does not support jumping to mini programs.","copy_link_success":"You\'ve copied the treehole link.","copy_link_fail":"Link copying failed.","delete_title":"Delete the treehole?","delete_content":"After deletion, the treehole cannot be restored.","delete_comment_title":"Delete the comment?","delete_comment_content":"After deletion, the comment cannot be restored.","menu_share":"Copy Link","menu_private":"Set as Private","menu_public":"Set as Public","menu_delete":"Delete","menu_follow":"Follow","menu_unfollow":"Unfollow","menu_realname_pm":"Realname Private Mesaage","menu_anonymous_pm":"Anonymous Private Mesaage","translate":"Translate","post_owner":"Owner","is_me":"(Me)","hku_group_title":"Join WeChat Group: ","hku_group_app_name":"HKUer Find Group"},"RightRecommend":{"agreement":"User Terms of Service","privacy":"Privacy Policy","about":"About Us"},"RightChat":{"title":"Messages of {user_alias}","copy":"Copy","copy_success":"Successfully copied.","copy_fail":"Copying failed.","delete":"Delete","delete_success":"Successfully deleted.","null_title":"Select a Chat","null_content":"Select a chat from the list on the left to start the conversation."},"RightChatbot":{"title":"AI Chatbot - Xiaotuo","loading":"AI is thinking...","cannot_be_empty":"The message cannot be empty."},"RightWrite":{"choose_topic":"Choose a Topic","public":"Public","realname":"Realname","uni":"Sync to UNI","markdown":"Markdown","insert":"Insert","post":"Post"},"OrgMain":{"title":"Organization"},"One":{"load_more":"Show More","translate":"Translate","hku_group_title":"Join WeChat Group: "},"Banner":{"miniapp":"The web version does not support jumping to mini programs.","inner":"The web version does not support opening this link."},"Modal":{"title":"Notification","content":"System Error","error":"Error","confirm":"Confirm","cancel":"Cancel","terms_title":"User Terms of Service and Privacy Policy has been updated.","terms_1":"You need to agree to our latest version of ","terms_2":" and ","terms_3":" to continue using this service.","terms_agreement":"User Terms of Service","terms_privacy":"Privacy Policy","terms_confirm":"Agree","terms_cancel":"Disagree and Exit"},"Reply":{"title":"Comment","send":"Send","realname":"Real Name","placeholder":"Want to say something to the Owner?"},"Report":{"title":"Report","send":"Send","placeholder":"Please specify the reason for your report"},"Media":{"netease_title":"Add NetEase CloudMusic","netease_info":"Please paste link to the NetEase song (can contain text)","netease_placeholder":"Paste the link","netease_button":"Get","bilibili_title":"Add BiliBili Video","bilibili_info":"Please paste link to the Bilibili video or BV of the video","bilibili_placeholder":"Paste link or BV","bilibili_button":"Get","quote_title":"Quote Treehole","quote_info":"Please enter treehole number and floor (if quoting the owner, leave the floor blank)","quote_placeholder_post_id":"Please input treehole number","quote_placeholder_comment_order":"Please input treehole floor(if quoting the owner, leave it blank)","quote_button":"Get","quote_post_id_error":"Treehole number is wrong, please check.","quote_comment_order_error":"Floor is wrong, please check.","vote_title":"Add Poll","vote_button":"Set","vote_multi_true":"Multiple Choice","vote_multi_false":"Single Choice","vote_title_placeholder":"Please input the title","vote_option_placeholder":"Please input the option","vote_add_option":"Add an option"},"LoadMore":{"no_more":"Nothing more."},"Notice":{"title":"Notification"},"Webpush":{"success":"Successfully turned on notifications!","deny_title":"It\'s seems that you\'re rejecting all notifications.","deny_content":"We will not send you harassing messages, only alerts about comments, replies and private messages to you. To turn on notifications, please do so in your browser/system settings.","login_title":"Turn on notifications?","login_content":"Don\'t miss comments, replies, private messages to you, and the updates of your following treeholes!","follow_title":"Turn on notifications?","follow_content":"Don\'t miss the treehole\'s updates! We\'ll let you know when this treehole updates.","post_title":"Turn on notifications?","post_content":"Stay tuned! We\'ll let you know when someone comments on your treehole.","comment_title":"Turn on notifications?","comment_content":"Stay tuned! We\'ll let you know when your comment receives a reply.","pm_title":"Turn on notifications?","pm_content":"Don\'t miss private messages! With notifications turned on, we\'ll keep you informed of new private messages."},"Install":{"wechat_title":"Open with your browser for a better experience","wechat_content":"Click on the top right corner ··· and choose to open it with your browser.","ios_safari_title":"Save to home screen for a better experience","ios_safari_content":"Choose \\"Share\\" => \\"Add To Home Screen\\" to get the Web App experience.","ios_safari_title_again":"Are you sure you want to skip?","ios_safari_content_again":"Saving this web to home screen can really leads to a better experience. Choose \\"Share\\" => \\"Add To Home Screen\\" to get the Web App experience.","ios_nonsafari_title":"Open with Safari for a better experience","ios_nonsafari_content":"This site is adapted for Safari, so please open it with the latest version of Safari.","android_chrome_title":"Install for a better experience","android_chrome_content":"Install Triple Uni to home page to get the Web App experience.","android_nonchrome_title":"Open with Chrome for a better experience","android_nonchrome_content":"This site is adapted for Chrome, so please open it with the latest version of Chrome."},"Request":{"802":"The user does not exist.","803":"Your account has been frozen.","804":"Your account has been permanently banned.","805":"No permission to call this API.","901":"The system is under maintenance. Check back in a little while.","903":"Parameter Error","error":"System Error","network_error":"Request failed, please check network connection."},"Time":{"today":"Today","yesterday":"Yestarday","the_day_before_yesterday":"2 days ago"},"/comment/post":{"200":"Successfully posted!","400":"Contains content not suitable for this platform, please check.","401":"Contains content not suitable for this platform, please check.","402":"You\'ve been banned from posting until {silence_until} . Please be kind!","500":"Please input content.","501":"Internal error, please refresh and try again.","502":"Internal error, please refresh and try again."},"/comment/delete":{"200":"Successfully deleted.","400":"This comment is locked and cannot be deleted.","500":"Internal error, please refresh and try again."},"/info/avatar":{"500":"Internal error, please refresh and try again."},"/notice/read":{"400":"Internal error, please refresh and try again."},"/post/list/search":{"500":"Please input what you want to search."},"/post/list/topic":{"500":"Please choose the topic first."},"/post/list/user":{"400":"The user does not exist, please check.","500":"Please provide User ID.","501":"Please select the university the user belongs to."},"/post/single/delete":{"200":"Successfully deleted.","400":"This treehole is locked and cannot be deleted.","500":"Internal error, please refresh and try again."},"/post/single/follow":{"200":"Start following ⭐w⭐","201":"Successfully unfollowed.","500":"Internal error, please refresh and try again."},"/post/single/get":{"400":"This treehole seems to have disappeared.  >.<","500":"Please select the treehole you want to view."},"/post/single/private":{"200":"Successfully set as private.","400":"This treehole is locked and cannot be set as private.","500":"Internal error, please refresh and try again."},"/post/single/public":{"200":"Successfully set as public.","400":"This treehole is locked and cannot be set as public.","500":"Internal error, please refresh and try again."},"/post/single/post":{"200":"A new treehole is born. ⭐","400":"Contains content not suitable for this platform, please check.","401":"Contains content not suitable for this platform, please check.","402":"You\'ve been banned from posting until {silence_until} . Please be kind!","500":"Please input content.","501":"Please choose the topic first.","502":"Internal error, please refresh and try again.","503":"Internal error, please refresh and try again."},"/post/single/report":{"200":"Report successful, we will review it as soon as possible.","500":"Internal error, please refresh and try again.","501":"Please specify the reason for your report."},"/post/media/netease/create":{"400":"Wrong link, failed to get.","401":"Wrong link, failed to get.","402":"Wrong link, failed to get.","500":"Please input the link to the NetEase song."},"/post/media/bilibili/create":{"400":"Wrong link, failed to get.","500":"Please input the link to the Bilibili video or the BV of the video."},"/post/media/quote/create":{"400":"Treehole does not exist, please check.","500":"Please input number of the treehole."},"/post/media/vote/create":{"400":"Please add at least one option.","401":"Multiple choice please add at least two options.","500":"Internal error, please refresh and try again.","501":"Please enter the title.","502":"Internal error, please refresh and try again."},"/post/media/vote/vote":{"200":"Successfully voted.","201":"Successfully unvoted.","400":"Internal error, please refresh and try again.","500":"Internal error, please refresh and try again."},"/pm/message/send":{"400":"You\'ve been banned from posting until {silence_until} . Please be kind!","501":"Please input content."},"/user/avatar/exchange":{"200":"The redemption was successful. Go get your new avatar now!","400":"The redemption code is wrong :(","401":"You\'ve already got this collection `^`","402":"You\'ve already got this collection `^`","500":"Please input the redemption code."},"/user/profile/org":{"400":"What?! This organization has been disappeared!?（⊙口⊙）","500":"Please provide User ID"},"/user/profile/update":{"200":"Successfully saved.","400":"This ID has been taken by someone else :(","401":"You don\'t have this avatar yet :P","500":"Please input your new User ID.","501":"Please choose new avatar."},"/user/profile/visit":{"400":"What?! This user has been disappeared!?（⊙口⊙）","500":"Please provide User ID.","501":"Please select the university the user belongs to."},"/user/register/web/email":{"200":"Email sent, please check your inbox (and spam).","400":"Your email is not on the supported list, please enter the educational email address provided by the university.","401":"Your email is not formatted correctly, please check.","402":"Please log in with numeric ID.","500":"Please input your eductional email address."},"/user/register/web/verify":{"400":"Your email is not on the supported list, please enter the educational email address provided by the university.","401":"The verification code is wrong, please check.","402":"Please use the password to sign in to your organization account.","500":"Your email is not on the supported list, please enter the educational email address provided by the university.","501":"Internal error, please refresh and try again.","502":"Please input the verification code.","503":"Internal error, please refresh and try again.","504":"Internal error, please refresh and try again."},"/user/register/web/org":{"400":"The password is wrong, please check.","401":"The account doesn\'t exist.","500":"Please input the account.","501":"Please input the password."},"/org/article/post":{"200":"Successly posted.","400":"The link is incorrect, please check.","401":"The link is incorrect, please check.","402":"The link is incorrect, please check.","500":"Please input the article link.","501":"Please choose whether to open the comment area.","502":"Please input the content."}}'
          ),
          l = JSON.parse(
            '{"AppName":{"UNI":"Triple Uni","HKU":"HKU 噗噗","CUHK":"马料水哔哔机","UST":"Stardust 科大空间站"},"AppNameTitle":{"UNI":"Triple Uni","HKU":"HKU噗噗","CUHK":"马料水哔哔机","UST":"科大空间站"},"TeamName":{"HKU":"HKUPootal","CUHK":"CU 转换器","UST":"Stardust 科大星尘"},"Login":{"main_title":"欢迎使用 Triple Uni !","main_subtitle":"登录以查看香港各校学生发布的树洞","signin_with_wechat":"微信扫码登录","signin_with_microsoft":"Outlook 邮箱登录","signin_with_github":"GitHub 账号登录","signin_with_email":"邮箱验证码登录/注册","signin_with_password":"社团账号登录","privacy_declare_1":"登录即代表你已阅读并同意 ","privacy_declare_2":" 和 ","privacy_declare_3":" 。","privacy_declare_agreement":"用户服务协议","privacy_declare_privacy":"隐私政策","email_title":"邮箱验证码登录/注册","email_subtitle":"输入你的教育邮箱以验证身份","email_placeholder":"在此处输入你的教育邮箱","send_vcode":"发送验证码","vcode_placeholder":"在此处输入验证码","login":"登录","password_title":"社团账号登录","password_subtitle":"仅限已登记的社团使用","account_placeholder":"在此处输入社团账号","password_placeholder":"在此处输入密码"},"Ban":{"title":"账号处罚说明","not_permanent_1":"账号处罚说明","not_permanent_2":"你在「{app_name}」中发表的内容涉及","not_permanent_3":"不宜公开讨论的政治内容","not_permanent_4":"该内容违反了 ","not_permanent_5":"《{app_name}用户服务协议》","not_permanent_6":" 及相关法律法规，你的账号将被冻结 ","not_permanent_7":" 天至","not_permanent_8":"这是你的帐号第 ","not_permanent_9":" 次被冻结，下一次违规将被冻结 ","not_permanent_10":" 天。","not_permanent_11":"冻结结束后你的账号可以恢复正常使用，请你遵守 ","not_permanent_12":" 及相关法律法规。","permanent_1":"账号处罚说明","permanent_2":"你在「{app_name}」中发表的内容违反了","permanent_3":"《{app_name}用户服务协议》","permanent_4":"。","permanent_5":"你的账号已被永久封禁"},"Main":{"home":"主页","search":"搜索","notice":"通知","pm":"私信","mine":"我的","write":"发布","org":"社团"},"MiddleHome":{"title":"主页","topic_all":"全部"},"MiddleAbout":{"title":"关于我们","developed_by":"由 HKUPootal 开发","operated_by":"由 {team_name} 运营","log":{"1-0-0":{"1":"网页版 Triple Uni 正式上线～","2":"采用全新的UI设计风格","3":"适配多种屏幕尺寸，支持PWA","4":"聊天机器人小妥现在可以在网页端访问了"},"1-1-0":{"1":"新增搜索建议功能","2":"优化了移动端UI","3":"修复了一些已知问题"},"1-2-0":{"1":"新增树洞对 Markdown 的支持","2":"新增树洞超链接功能","3":"支持跳转到树洞以及外部网站"},"1-3-0":{"1":"PC端新增 Markdown 编辑器，帮助你更轻松的编辑富文本","2":"「分享」分区新上线，汇聚港校精品攻略","3":"新增 AI 搜索功能"}}},"MiddleSearch":{"title":"搜索","placeholder":"搜索树洞、课程以及更多","default":"默认","latest":"最新","hot":"最热"},"MiddleNotice":{"title":"通知","post_new_comment":"你的树洞 #{post_id} 有一条新评论","comment_new_reply":"你在 #{post_id} 的评论有一条新回复","follow_post_update":"你围观的树洞 #{post_id} 有更新","default":"你有一条新通知"},"MiddlePm":{"title":"私信","delete":"删除并屏蔽用户","delete_modal_title":"确认删除？","delete_modal_content":"删除后将屏蔽对方的私信，且无法恢复","delete_modal_confirm":"删除成功","chatbot_name":"小妥","chatbot_intro":"快来跟AI聊天机器人小妥聊聊吧～"},"MiddleMine":{"title":"{user_serial} 的主页","post":"树洞","follow":"围观","more":"更多","audit_user_info":"编辑用户资料","open_setting":"打开设置","switch_language":"切换语言","logout":"退出登录","logout_modal_content":"确认退出登录？"},"MiddleWrite":{"title":"发布树洞","send":"发布","topic_null":"选择话题","public_true":"公开","public_false":"私密","realname_true":"实名","realname_false":"匿名","uni_true":"UNI","uni_false":"本校","placeholder":"我想对树洞说...","nav_back_warning_title":"确认返回？","nav_back_warning_content":"返回后树洞草稿将不会被保存","preview_image":"查看","delete_image":"删除","media_image":"图片","media_netease":"网易云音乐","media_bilibili":"Bilibili","media_vote":"投票","media_quote":"引用","media_file":"文件","file_type_not_support":"不支持该文件类型","preview_media":"查看","delete_media":"删除","markdown_placeholder":"请使用 Markdown 编写\\n或使用编辑器提供的功能"},"MiddleUser":{"title":"{user_serial} 的主页","pm":"私信","realname_pm":"实名私信","anonymous_pm":"匿名私信"},"MiddleOrg":{"title":"{org_name} 的社团主页","realname_pm":"实名私信","anonymous_pm":"匿名私信","miniapp_not_support":"网页版暂不支持打开微信小程序"},"MiddleEdit":{"title":"编辑用户资料","save":"保存","not_owned":"（未拥有）","edit_user_id_title":"编辑用户ID","edit_user_id_info":"只能含有数字和小写字母","edit_user_id_placeholder":"请输入新用户ID","exchange_avatar_title":"头像兑换码","exchange_avatar_info":"输入兑换码以解锁未拥有的头像","exchange_avatar_placeholder":"请输入兑换码","exchange":"兑换","user_id_at_least_3_char":"用户ID最短3位","user_id_illegal":"用户ID只能含有数字和小写字母"},"MiddlePostDetail":{"title":"树洞","vote_not_vote_yet":"你尚未投票","vote_have_already_vote":"你已选择：","function_miniapp_not_support":"网页版暂不支持打开微信小程序","copy_link_success":"树洞链接复制成功","copy_link_fail":"链接复制失败","delete_title":"确认删除树洞？","delete_content":"删除后将无法恢复","delete_comment_title":"确认删除评论？","delete_comment_content":"删除后将无法恢复","menu_share":"复制链接","menu_private":"设为私密","menu_public":"设为公开","menu_delete":"删除","menu_follow":"围观","menu_unfollow":"取消围观","menu_realname_pm":"实名私信","menu_anonymous_pm":"匿名私信","translate":"翻译","post_owner":"洞主","is_me":"(你)","hku_group_title":"加入群聊：","hku_group_app_name":"HKUer找群","hku_group_scan":"请使用微信扫码加群"},"RightRecommend":{"agreement":"用户服务协议","privacy":"隐私政策","about":"关于我们"},"RightChat":{"title":"{user_alias} 的私信","copy":"复制","copy_success":"复制成功","copy_fail":"复制失败，请手动复制","delete":"删除","delete_success":"删除成功","null_title":"选择一个聊天","null_content":"从左侧列表中选择一个聊天以开始对话"},"RightChatbot":{"title":"聊天机器人 - 小妥","loading":"AI思考中...","cannot_be_empty":"内容不能为空"},"RightWrite":{"choose_topic":"选择话题","public":"公开发布","realname":"实名发布","uni":"同步到UNI","markdown":"Markdown（富文本编辑）","insert":"插入","post":"发布"},"OrgMain":{"title":"社团后台"},"One":{"load_more":"查看完整树洞","translate":"翻译","hku_group_title":"加入群聊："},"Banner":{"miniapp":"网页版不支持跳转小程序","inner":"网页版不支持打开该链接"},"Modal":{"title":"提示","content":"系统错误","error":"错误","confirm":"确认","cancel":"取消","terms_title":"用户服务协议和隐私政策已更新","terms_1":"你需要同意我们最新版本的 ","terms_2":" 和 ","terms_3":" 才能继续使用我们的服务。","terms_agreement":"用户服务协议","terms_privacy":"隐私政策","terms_confirm":"同意","terms_cancel":"不同意并退出"},"Reply":{"title":"评论","send":"发送","realname":"实名回复","placeholder":"想对洞主说些什么？"},"Report":{"title":"举报","send":"发送","placeholder":"请具体说明举报理由"},"Media":{"netease_title":"添加网易云音乐","netease_info":"请粘贴网易云音乐歌曲链接或者分享链接（可包含文字）","netease_placeholder":"粘贴链接","netease_button":"获取","bilibili_title":"添加 BiliBili 视频","bilibili_info":"请粘贴视频链接或BV号","bilibili_placeholder":"粘贴链接或BV号","bilibili_button":"获取","quote_title":"引用树洞","quote_info":"请输入树洞号和楼层（如果引用洞主，楼层留空）","quote_placeholder_post_id":"请输入树洞号","quote_placeholder_comment_order":"请输入楼层（如果引用洞主，楼层留空）","quote_button":"获取","quote_post_id_error":"树洞号有误，请检查","quote_comment_order_error":"楼层有误，请检查","vote_title":"添加投票","vote_button":"设置","vote_multi_true":"多选","vote_multi_false":"单选","vote_title_placeholder":"请输入投票标题","vote_option_placeholder":"请输入投票选项","vote_add_option":"新增选项","post_warning_tag":{"none":"无","nsfw":"NSFW","sex":"性相关","controversial":"引战","gross":"令人不适"}},"LoadMore":{"no_more":"已经到底了"},"Notice":{"title":"通知"},"Webpush":{"success":"成功开启通知！","deny_title":"看起来你好像拒绝了所有通知","deny_content":"我们不会向你发送骚扰信息，只会提醒对你的评论、回复和私信。如需开启通知，请在浏览器/系统设置中操作。","login_title":"开启通知功能？","login_content":"不要错过对你的评论、回复、私信以及你围观树洞的更新！","follow_title":"开启通知功能？","follow_content":"不要错过围观树洞的更新！当洞主更新时，我们会通知你。","post_title":"开启通知功能？","post_content":"保持关注！当有人评论你的树洞时，我们会通知你。","comment_title":"开启通知功能？","comment_content":"保持关注！当你的评论收到回复时，我们会通知你。","pm_title":"开启通知功能？","pm_content":"不要错过私信消息！开启通知功能后，我们会及时通知你新的私信消息。"},"Install":{"wechat_title":"使用浏览器打开体验更佳","wechat_content":"点击右上角···，选择使用浏览器打开。","ios_safari_title":"保存到主屏幕后体验更佳","ios_safari_content":"浏览器选择「分享」=> 「保存到主屏幕」，获取独立Web App体验。","ios_safari_title_again":"你确定要跳过吗？","ios_safari_content_again":"保存到主屏幕后体验真的会更好。浏览器选择「分享」=> 「保存到主屏幕」，获取独立Web App体验。","ios_nonsafari_title":"使用 Safari 打开体验更佳","ios_nonsafari_content":"此网站针对 Safari 进行适配，请使用 Safari 打开。","android_chrome_title":"安装后体验更佳","android_chrome_content":"将 Triple Uni 安装到桌面，获取独立Web App体验。","android_nonchrome_title":"使用 Chrome 打开体验更佳","android_nonchrome_content":"此网站针对 Chrome 进行适配，请使用最新版 Chrome 打开。"},"Request":{"802":"该用户不存在","803":"你的账号已被冻结","804":"你的账号已被永久封禁","805":"无权限调用该接口","901":"系统正在维护中，过一会再来看看吧～","903":"参数错误","error":"系统错误","network_error":"请求失败，请检查网络连接"},"Time":{"today":"今天","yesterday":"昨天","the_day_before_yesterday":"前天"},"/comment/post":{"200":"发布成功","400":"含有不宜发表的内容","401":"含有不宜发表的内容","402":"你已被禁言至 {silence_until} ，请注意友善发言","500":"请输入评论内容","501":"内部错误，请刷新后重试","502":"内部错误，请刷新后重试"},"/comment/delete":{"200":"删除成功","400":"这条评论已被锁定，无法删除","500":"内部错误，请刷新后重试"},"/info/avatar":{"500":"内部错误，请刷新后重试"},"/notice/read":{"400":"内部错误，请刷新后重试"},"/post/list/search":{"500":"请输入搜索关键词"},"/post/list/topic":{"500":"请选择话题"},"/post/list/user":{"400":"不存在该用户，请检查","500":"请提供用户ID","501":"请选择用户所属学校"},"/post/single/delete":{"200":"删除成功","400":"这条树洞已被锁定，无法删除","500":"内部错误，请刷新后重试"},"/post/single/follow":{"200":"开始围观⭐w⭐","201":"停止了围观","500":"内部错误，请刷新后重试"},"/post/single/get":{"400":"这条树洞好像不见了>.<","500":"请选择要查看的树洞"},"/post/single/private":{"200":"已设置为私密","400":"这条树洞已被锁定，无法设为私密","500":"内部错误，请刷新后重试"},"/post/single/public":{"200":"已设置为公开","400":"这条树洞已被锁定，无法设为公开","500":"内部错误，请刷新后重试"},"/post/single/post":{"200":"新的树洞诞生了⭐","400":"含有不宜发表的内容","401":"含有不宜发表的内容","402":"你已被禁言至 {silence_until} ，请注意友善发言","500":"请输入树洞内容","501":"请先选择话题","502":"内部错误，请刷新后重试","503":"内部错误，请刷新后重试"},"/post/single/report":{"200":"举报成功，我们会尽快处理","500":"内部错误，请刷新后重试","501":"请输入举报原因"},"/post/media/netease/create":{"400":"链接有误，获取失败","401":"链接有误，获取失败","402":"链接有误，获取失败","500":"请输入网易云分享链接"},"/post/media/bilibili/create":{"400":"链接有误，获取失败","500":"请输入视频链接或BV号"},"/post/media/quote/create":{"400":"树洞不存在，请检查","500":"请输入树洞号"},"/post/media/vote/create":{"400":"请至少添加一个选项","401":"多选请至少添加两个选项","500":"内部错误，请刷新后重试","501":"请输入投票标题","502":"内部错误，请刷新后重试"},"/post/media/vote/vote":{"200":"投票成功","201":"取消投票成功","400":"内部错误，请刷新后重试","500":"内部错误，请刷新后重试"},"/pm/message/send":{"400":"你已被禁言至 {silence_until} ，请注意友善发言","501":"请输入私信内容"},"/user/avatar/exchange":{"200":"兑换成功，快去换上新头像吧～","400":"兑换码有误:(","401":"你已经拥有它啦`^`","402":"你已经拥有它啦`^`","500":"请输入兑换码"},"/user/profile/org":{"400":"这个社团居然消失了（⊙口⊙）","500":"请提供用户ID"},"/user/profile/update":{"200":"修改成功","400":"这个id被别人抢注了:(","401":"你还未拥有这个头像:P","500":"请输入新ID","501":"请选择新头像"},"/user/profile/visit":{"400":"这名用户居然消失了（⊙口⊙）","500":"请提供用户ID","501":"请选择用户所属学校"},"/user/register/web/email":{"200":"邮件已发送，请检查你的收件箱（包括垃圾邮件）","400":"你的邮箱不在支持的列表中，请输入学校提供的教育邮箱地址","401":"你的邮箱格式不正确，请检查","402":"请使用数字ID登录","500":"请输入你的教育邮箱"},"/user/register/web/verify":{"400":"你的邮箱不在支持的列表中，请输入学校提供的教育邮箱地址","401":"验证码有误，请检查","402":"社团账号请使用账号密码登录","500":"你的邮箱不在支持的列表中，请输入学校提供的教育邮箱地址","501":"内部错误，请刷新后重试","502":"请输入验证码","503":"内部错误，请刷新后重试","504":"内部错误，请刷新后重试"},"/user/register/web/org":{"400":"密码有误，请检查","401":"该账号不存在，请联系管理员","500":"请输入账号","501":"请输入密码"},"/org/article/post":{"200":"发表成功","400":"链接格式不正确，请检查","401":"链接格式不正确，请检查","402":"链接格式不正确，请检查","500":"请输入文章链接","501":"请选择是否开启评论","502":"请输入树洞正文"},"/org/profile/update":{"200":"保存成功","400":"功能不再支持跳转页面，请修改或移除","401":"功能不再支持跳转其他小程序，请修改或移除","402":"二级菜单至少需要一个二级选项","403":"功能类型有误","404":"轮播图不再支持跳转页面，请修改或移除","405":"轮播图不再支持跳转其他小程序，请修改或移除","406":"轮播图链接类型有误","500":"请输入社团简介","501":"请上传社团头像","502":"请上传背景图","503":"内部错误，请刷新后重试","504":"内部错误，请刷新后重试","505":"请输入功能名称","506":"请选择功能类型","507":"请在功能中输入文章链接","508":"请在功能中输入UNI树洞号","509":"请在功能列表中添加二级选项","510":"请上传轮播图图片","511":"请选择轮播图链接类型","512":"请在轮播图中输入文章链接","513":"请在轮播图中输入UNI树洞号"}}'
          );
        s["default"].use(a.Z);
        const c = new a.Z({
            fallbackLocale: "zh_CN",
            messages: { en: r, zh_CN: l },
          }),
          u =
            localStorage.getItem("language") ||
            navigator.language ||
            navigator.userLanguage;
        u.startsWith("zh") ? (c.locale = "zh_CN") : (c.locale = "en");
        var d = c;
        function h() {
          const e = localStorage.getItem("user_school_label");
          "HKU" == e
            ? (document.documentElement.style.setProperty("--main", "#D85050"),
              document.documentElement.style.setProperty(
                "--main-darker",
                "#C41919"
              ),
              (document.title = d.t("AppName.HKU")))
            : "CUHK" == e
            ? (document.documentElement.style.setProperty("--main", "#80C5D2"),
              document.documentElement.style.setProperty(
                "--main-darker",
                "#77A4AD"
              ),
              (document.title = d.t("AppName.CUHK")))
            : "UST" == e
            ? (document.documentElement.style.setProperty("--main", "#7A4BED"),
              document.documentElement.style.setProperty(
                "--main-darker",
                "#682CFB"
              ),
              (document.title = d.t("AppName.UST")))
            : (document.documentElement.style.setProperty("--main", "#1F9BF0"),
              document.documentElement.style.setProperty(
                "--main-darker",
                "#366ABD"
              ),
              (document.title = d.t("AppName.UNI")));
        }
        var p = i(20306),
          _ = i(93069),
          m = i.n(_),
          g = i(42241),
          f = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { staticClass: "body" },
              [
                t("LanguageSvg", {
                  staticClass: "language-button",
                  nativeOn: {
                    click: function (t) {
                      return e.switchLanguage.apply(null, arguments);
                    },
                  },
                }),
                t("div", { staticClass: "beian", on: { click: e.nav2Beian } }, [
                  e._v("津ICP备2021008274号"),
                ]),
                "login" == e.status
                  ? t("div", { staticClass: "signup-container" }, [
                      t("div", { staticClass: "signup-inner" }, [
                        t("h2", [e._v(e._s(e.$t("Login.main_title")))]),
                        t("p", [e._v(e._s(e.$t("Login.main_subtitle")))]),
                        t("div", { staticClass: "mobile-padding" }),
                        t(
                          "div",
                          {
                            staticClass: "signup-btn",
                            on: { click: e.emailLogin },
                          },
                          [
                            t("p", { staticStyle: { "font-weight": "600" } }, [
                              e._v(e._s(e.$t("Login.signin_with_email"))),
                            ]),
                          ]
                        ),
                        t(
                          "div",
                          {
                            staticClass: "signup-btn",
                            on: { click: e.passwordLogin },
                          },
                          [
                            t("p", { staticStyle: { "font-weight": "600" } }, [
                              e._v(e._s(e.$t("Login.signin_with_password"))),
                            ]),
                          ]
                        ),
                        t("div", { staticClass: "mobile-padding" }),
                        t("p", [
                          e._v(
                            " " + e._s(e.$t("Login.privacy_declare_1")) + " "
                          ),
                          t(
                            "a",
                            {
                              attrs: {
                                href: "https://terms.tripleuni.com/uni/agreement",
                                target: "_blank",
                              },
                            },
                            [
                              e._v(
                                e._s(e.$t("Login.privacy_declare_agreement"))
                              ),
                            ]
                          ),
                          e._v(e._s(e.$t("Login.privacy_declare_2")) + " "),
                          t(
                            "a",
                            {
                              attrs: {
                                href: "https://terms.tripleuni.com/uni/privacy",
                                target: "_blank",
                              },
                            },
                            [e._v(e._s(e.$t("Login.privacy_declare_privacy")))]
                          ),
                          e._v(e._s(e.$t("Login.privacy_declare_3")) + " "),
                        ]),
                      ]),
                    ])
                  : e._e(),
                "email_login" == e.status
                  ? t("div", { staticClass: "signup-container" }, [
                      t("div", { staticClass: "signup-inner" }, [
                        t("h2", [e._v(e._s(e.$t("Login.email_title")))]),
                        t("p", [e._v(e._s(e.$t("Login.email_subtitle")))]),
                        t("div", { staticClass: "mobile-padding" }),
                        t("input", {
                          directives: [
                            {
                              name: "model",
                              rawName: "v-model",
                              value: e.user_email,
                              expression: "user_email",
                            },
                          ],
                          staticClass: "input",
                          attrs: {
                            placeholder: e.$t("Login.email_placeholder"),
                            disabled: e.vcode_is_sent,
                          },
                          domProps: { value: e.user_email },
                          on: {
                            keyup: function (t) {
                              return !t.type.indexOf("key") &&
                                e._k(t.keyCode, "enter", 13, t.key, "Enter")
                                ? null
                                : e.sendVcode.apply(null, arguments);
                            },
                            input: function (t) {
                              t.target.composing ||
                                (e.user_email = t.target.value);
                            },
                          },
                        }),
                        t("input", {
                          directives: [
                            {
                              name: "model",
                              rawName: "v-model",
                              value: e.vcode_vcode,
                              expression: "vcode_vcode",
                            },
                            {
                              name: "show",
                              rawName: "v-show",
                              value: e.vcode_is_sent,
                              expression: "vcode_is_sent",
                            },
                          ],
                          staticClass: "input",
                          attrs: {
                            placeholder: e.$t("Login.vcode_placeholder"),
                          },
                          domProps: { value: e.vcode_vcode },
                          on: {
                            keyup: function (t) {
                              return !t.type.indexOf("key") &&
                                e._k(t.keyCode, "enter", 13, t.key, "Enter")
                                ? null
                                : e.emailVerify.apply(null, arguments);
                            },
                            input: function (t) {
                              t.target.composing ||
                                (e.vcode_vcode = t.target.value);
                            },
                          },
                        }),
                        t(
                          "div",
                          {
                            directives: [
                              {
                                name: "show",
                                rawName: "v-show",
                                value: !e.vcode_is_sent,
                                expression: "!vcode_is_sent",
                              },
                            ],
                            staticClass: "signup-btn-main",
                            on: { click: e.sendVcode },
                          },
                          [
                            t("p", { staticStyle: { "font-weight": "600" } }, [
                              e._v(e._s(e.$t("Login.send_vcode"))),
                            ]),
                          ]
                        ),
                        t(
                          "div",
                          {
                            directives: [
                              {
                                name: "show",
                                rawName: "v-show",
                                value: e.vcode_is_sent,
                                expression: "vcode_is_sent",
                              },
                            ],
                            staticClass: "signup-btn-main",
                            on: { click: e.emailVerify },
                          },
                          [
                            t("p", { staticStyle: { "font-weight": "600" } }, [
                              e._v(e._s(e.$t("Login.login"))),
                            ]),
                          ]
                        ),
                        t("div", { staticClass: "mobile-padding" }),
                        t("p", [
                          e._v(
                            " " + e._s(e.$t("Login.privacy_declare_1")) + " "
                          ),
                          t(
                            "a",
                            {
                              attrs: {
                                href: "https://terms.tripleuni.com/uni/agreement",
                                target: "_blank",
                              },
                            },
                            [
                              e._v(
                                e._s(e.$t("Login.privacy_declare_agreement"))
                              ),
                            ]
                          ),
                          e._v(e._s(e.$t("Login.privacy_declare_2")) + " "),
                          t(
                            "a",
                            {
                              attrs: {
                                href: "https://terms.tripleuni.com/uni/privacy",
                                target: "_blank",
                              },
                            },
                            [e._v(e._s(e.$t("Login.privacy_declare_privacy")))]
                          ),
                          e._v(e._s(e.$t("Login.privacy_declare_3")) + " "),
                        ]),
                      ]),
                    ])
                  : e._e(),
                "password_login" == e.status
                  ? t("div", { staticClass: "signup-container" }, [
                      t("div", { staticClass: "signup-inner" }, [
                        t("h2", [e._v(e._s(e.$t("Login.password_title")))]),
                        t("p", [e._v(e._s(e.$t("Login.password_subtitle")))]),
                        t("div", { staticClass: "mobile-padding" }),
                        t("input", {
                          directives: [
                            {
                              name: "model",
                              rawName: "v-model",
                              value: e.org_itsc,
                              expression: "org_itsc",
                            },
                          ],
                          staticClass: "input",
                          attrs: {
                            placeholder: e.$t("Login.account_placeholder"),
                          },
                          domProps: { value: e.org_itsc },
                          on: {
                            keyup: function (t) {
                              return !t.type.indexOf("key") &&
                                e._k(t.keyCode, "enter", 13, t.key, "Enter")
                                ? null
                                : e.orgLogin.apply(null, arguments);
                            },
                            input: function (t) {
                              t.target.composing ||
                                (e.org_itsc = t.target.value);
                            },
                          },
                        }),
                        t("input", {
                          directives: [
                            {
                              name: "model",
                              rawName: "v-model",
                              value: e.org_password,
                              expression: "org_password",
                            },
                          ],
                          staticClass: "input",
                          attrs: {
                            placeholder: e.$t("Login.password_placeholder"),
                            type: "password",
                          },
                          domProps: { value: e.org_password },
                          on: {
                            keyup: function (t) {
                              return !t.type.indexOf("key") &&
                                e._k(t.keyCode, "enter", 13, t.key, "Enter")
                                ? null
                                : e.orgLogin.apply(null, arguments);
                            },
                            input: function (t) {
                              t.target.composing ||
                                (e.org_password = t.target.value);
                            },
                          },
                        }),
                        t(
                          "div",
                          {
                            staticClass: "signup-btn-main",
                            on: { click: e.orgLogin },
                          },
                          [
                            t("p", { staticStyle: { "font-weight": "600" } }, [
                              e._v(e._s(e.$t("Login.login"))),
                            ]),
                          ]
                        ),
                        t("div", { staticClass: "mobile-padding" }),
                        t("p", [
                          e._v(
                            " " + e._s(e.$t("Login.privacy_declare_1")) + " "
                          ),
                          t(
                            "a",
                            {
                              attrs: {
                                href: "https://terms.tripleuni.com/uni/agreement",
                                target: "_blank",
                              },
                            },
                            [
                              e._v(
                                e._s(e.$t("Login.privacy_declare_agreement"))
                              ),
                            ]
                          ),
                          e._v(e._s(e.$t("Login.privacy_declare_2")) + " "),
                          t(
                            "a",
                            {
                              attrs: {
                                href: "https://terms.tripleuni.com/uni/privacy",
                                target: "_blank",
                              },
                            },
                            [e._v(e._s(e.$t("Login.privacy_declare_privacy")))]
                          ),
                          e._v(e._s(e.$t("Login.privacy_declare_3")) + " "),
                        ]),
                      ]),
                    ])
                  : e._e(),
              ],
              1
            );
          },
          v = [];
        i(82801), i(1439), i(87585), i(55315);
        async function y({
          title: e,
          content: t,
          user_avatar: n = null,
          url: o = null,
          notice_id: a = null,
        } = {}) {
          e || (e = d.t("Notice.title"));
          let r = null;
          r = n
            ? "https://i.boatonland.com/avatar/" + n + ".svg"
            : i(55652)(
                "./logo-" + localStorage.getItem("user_school_label") + ".png"
              );
          let l = null;
          (l =
            o && a
              ? () =>
                  Promise.resolve().then(() => {
                    o.startsWith("/post/") &&
                    window.location.pathname.startsWith("/post/")
                      ? (Es.push(o), window.location.reload())
                      : Es.push(o),
                      Ms("/notice/read", { notice_id: a });
                  })
              : o
              ? () =>
                  Promise.resolve().then(() => {
                    Es.push(o);
                  })
              : () => Promise.resolve().then(() => {})),
            s["default"].notify({
              text: "default",
              duration: 5e3,
              data: { title: e, content: t, image: r, nav2: l },
            });
        }
        const w = (e = !1) => {
            window.notificationRegistration.pushManager
              .subscribe({
                userVisibleOnly: !0,
                applicationServerKey: b(
                  "BNhUZY4dfgi1It6k03kxGSIiQp-TAQnLuPE6QqfwWyH3tc9xBWXnGvAQ-r8Q5Py7NW_89RdbusOYv60jPYyiOxk"
                ),
              })
              .then((t) => {
                e && s["default"].$loading.show();
                const i = JSON.parse(JSON.stringify(t));
                Ms("/notice/webpush/subscribe", {
                  webpush_endpoint: i.endpoint,
                  webpush_p256dh: i.keys.p256dh,
                  webpush_auth: i.keys.auth,
                }).then((t) => {
                  e && s["default"].$loading.hide(),
                    t && e && y({ content: d.t("Webpush.success") });
                });
              });
          },
          C = (e) => {
            window.notificationRegistration.pushManager
              .subscribe({
                userVisibleOnly: !0,
                applicationServerKey: b(
                  "BNhUZY4dfgi1It6k03kxGSIiQp-TAQnLuPE6QqfwWyH3tc9xBWXnGvAQ-r8Q5Py7NW_89RdbusOYv60jPYyiOxk"
                ),
              })
              .then((t) => {
                const i = JSON.parse(JSON.stringify(t));
                Ms(
                  "/notice/webpush/unsubscribe",
                  { webpush_endpoint: i.endpoint, token: e },
                  !1
                );
              });
          },
          b = (e) => {
            const t = "=".repeat((4 - (e.length % 4)) % 4),
              i = (e + t).replace(/\-/g, "+").replace(/_/g, "/"),
              s = window.atob(i),
              n = new Uint8Array(s.length);
            for (var o = 0; o < s.length; ++o) n[o] = s.charCodeAt(o);
            return n;
          },
          k = () => {
            Ms("/notice/checkunread").then((e) => {
              if (!e) return;
              localStorage.setItem("unread_notice", e.notice_count);
              let t = new Event("updateUnreadNotice");
              window.dispatchEvent(t);
            });
          };
        let x = !1,
          D = () => {
            x = !0;
          };
        ["fullscreen", "standalone", "minimal-ui"].some(
          (e) => window.matchMedia("(display-mode: " + e + ")").matches
        ) && (x = !0);
        var S = function () {
            var e = this,
              t = e._self._c;
            return t(
              "svg",
              {
                staticClass: "icon",
                attrs: {
                  t: "1690380496586",
                  viewBox: "0 0 1024 1024",
                  version: "1.1",
                  xmlns: "http://www.w3.org/2000/svg",
                  "p-id": "2765",
                  "xmlns:xlink": "http://www.w3.org/1999/xlink",
                  width: "200",
                  height: "200",
                },
              },
              [
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M846.04 866.77c-17.08 2.03-32.57-10.18-34.59-27.26-0.22-1.9-0.27-3.81-0.15-5.71v-123c0-33.73-22.17-33.73-30.53-33.73-21.28-0.46-38.91 16.43-39.36 37.72-0.01 0.46-0.01 0.92 0 1.37v117.66c-0.76 18.9-16.71 33.61-35.61 32.84-17.83-0.72-32.12-15.01-32.84-32.84V647.68c-1.23-17.23 11.74-32.19 28.97-33.41 1.69-0.12 3.39-0.1 5.08 0.05a31.953 31.953 0 0 1 31.33 17.76 89.435 89.435 0 0 1 54.99-17.76c54.11 0 86.45 33.59 86.45 90.03V833.8a32.25 32.25 0 0 1-8.88 23.72 34.026 34.026 0 0 1-24.82 9.33l-0.04-0.08z m-233.12-7.46h-134.7c-42.77 0-61.85-18.96-61.85-61.57V608.07c0-42.52 19.09-61.57 61.85-61.57h128.74c17.92 0 32.45 14.53 32.45 32.45s-14.53 32.45-32.45 32.45H490.73c-1.22-0.08-2.45 0.09-3.6 0.5 0.13 0-0.15 0.8-0.15 2.89v52.58h106c16.33-1.66 30.91 10.24 32.57 26.57 0.17 1.68 0.2 3.37 0.08 5.06 0.98 16.66-11.73 30.97-28.4 31.95-1.41 0.08-2.83 0.07-4.24-0.05H486.9V791c-0.04 1.06 0.08 2.13 0.35 3.15 1.12 0.15 2.25 0.23 3.38 0.24h122.31c16.96-1.07 31.58 11.81 32.65 28.76 0.07 1.16 0.08 2.33 0.02 3.5 1.35 16.68-11.07 31.3-27.75 32.65-1.64 0.13-3.28 0.13-4.92 0h-0.02zM327.54 482.85c-17.36 2.36-33.34-9.8-35.7-27.16-0.3-2.21-0.37-4.44-0.2-6.67V370.5h-85.27c-45.86 0-66.31-20.52-66.31-66.31v-93.87c0-45.58 20.52-65.9 66.31-65.9h85.27v-31.53c-1.38-17.11 11.37-32.11 28.48-33.49 1.92-0.15 3.84-0.13 5.76 0.07 30.26 0 36.63 18.17 36.63 33.42v31.59h86.09c45.86 0 66.33 20.34 66.33 65.88v93.89c0 45.86-20.52 66.29-66.33 66.29h-86.05v78.52c1.25 17.47-11.9 32.65-29.37 33.91-1.88 0.13-3.76 0.1-5.63-0.1v-0.02zM217.21 211.27c-6.47 0-7.07 0.6-7.07 7.07v78.2c0 6.53 0.6 7.15 7.07 7.15h74.43v-92.42h-74.43z m145.35 92.38h75.29c6.29 0 7.09-0.8 7.09-7.07v-78.25c0-6.29-0.8-7.09-7.09-7.09h-75.31v92.42h0.02z m151.42 655.91C266.43 958.82 66.36 757.55 67.1 510c0.1-35 4.31-69.86 12.52-103.88 4.81-19 23.92-30.68 43.03-26.29 19.1 4.61 30.86 23.81 26.29 42.91-48.93 202.33 75.42 406.01 277.75 454.94a376.924 376.924 0 0 0 87.29 10.56c19.69 0.02 35.64 15.99 35.63 35.69-0.02 19.67-15.96 35.61-35.63 35.63z m398.49-310.05c-19.69 0-35.66-15.96-35.66-35.65 0-2.95 0.37-5.9 1.09-8.76 51.31-201.82-70.7-407.02-272.52-458.33-29.89-7.6-60.59-11.5-91.43-11.62-19.68 0-35.64-15.95-35.64-35.63 0-19.68 15.95-35.64 35.63-35.64h0.01c247.57 0.76 447.65 202.08 446.89 449.65-0.11 36.8-4.76 73.44-13.83 109.1-4 15.8-18.23 26.88-34.54 26.88z",
                    "p-id": "2766",
                  },
                }),
              ]
            );
          },
          A = [],
          E = i(1001),
          T = {},
          B = (0, E.Z)(T, S, A, !1, null, null, null),
          $ = B.exports,
          R = {
            name: "UniLogin",
            components: { LanguageSvg: $ },
            created() {
              localStorage.getItem("token") ? this.$router.push("/home") : h(),
                D();
            },
            data() {
              return {
                status: "login",
                user_email: "",
                vcode_is_sent: !1,
                vcode_key: "",
                vcode_vcode: "",
                user_itsc: "",
                user_email_suffix: "",
                user_school_label: "",
                org_itsc: "",
                org_password: "",
              };
            },
            methods: {
              emailLogin() {
                this.status = "email_login";
              },
              passwordLogin() {
                this.status = "password_login";
              },
              sendVcode() {
                this.$loading.show(),
                  Ms(
                    "/user/register/web/email",
                    { user_email: this.user_email },
                    !1
                  ).then((e) => {
                    this.$loading.hide(),
                      e &&
                        (this.$modal.show({
                          content: this.$t("/user/register/web/email.200"),
                          show_cancel: !1,
                        }),
                        (this.vcode_key = e.vcode_key),
                        (this.user_itsc = e.user_itsc),
                        (this.user_email_suffix = e.user_email_suffix),
                        (this.user_school_label = e.user_school_label),
                        (this.vcode_is_sent = !0));
                  });
              },
              emailVerify() {
                this.$loading.show(),
                  Ms(
                    "/user/register/web/verify",
                    {
                      vcode_vcode: this.vcode_vcode,
                      vcode_key: this.vcode_key,
                      user_itsc: this.user_itsc,
                      user_email_suffix: this.user_email_suffix,
                      user_school_label: this.user_school_label,
                    },
                    !1
                  ).then((e) => {
                    this.$loading.hide(),
                      e &&
                        (this.$route.query.callback
                          ? this.$router.push(this.$route.query.callback)
                          : this.$router.push("/home"),
                        localStorage.setItem("token", e.token),
                        localStorage.setItem("user_itsc", this.user_itsc),
                        localStorage.setItem(
                          "user_school_label",
                          this.user_school_label
                        ),
                        h(),
                        Os(),
                        k(),
                        this.checkWebpush());
                  });
              },
              orgLogin() {
                this.$loading.show(),
                  Ms(
                    "/user/register/web/org",
                    {
                      user_itsc: this.org_itsc,
                      org_password: this.org_password,
                    },
                    !1
                  ).then((e) => {
                    this.$loading.hide(),
                      e &&
                        (this.$route.query.callback
                          ? this.$router.push(this.$route.query.callback)
                          : this.$router.push("/home"),
                        localStorage.setItem("token", e.token),
                        localStorage.setItem("user_itsc", this.org_itsc),
                        localStorage.setItem(
                          "user_school_label",
                          e.user_school_label
                        ),
                        localStorage.setItem("user_is_org", !0),
                        h(),
                        Os(),
                        k(),
                        this.checkWebpush());
                  });
              },
              checkWebpush() {
                "Notification" in window &&
                  ("granted" === Notification.permission
                    ? w()
                    : "denied" == Notification.permission
                    ? this.$modal.show({
                        title: this.$t("Webpush.deny_title"),
                        content: this.$t("Webpush.deny_content"),
                        show_cancel: !1,
                      })
                    : this.$modal.show({
                        title: this.$t("Webpush.login_title"),
                        content: this.$t("Webpush.login_content"),
                        show_cancel: !0,
                        success: (e) => {
                          e &&
                            Notification.requestPermission().then((e) => {
                              "granted" === e
                                ? w(!0)
                                : this.$modal.show({
                                    title: this.$t("Webpush.deny_title"),
                                    content: this.$t("Webpush.deny_content"),
                                    show_cancel: !1,
                                  });
                            });
                        },
                      }));
              },
              switchLanguage() {
                const e =
                  localStorage.getItem("language") ||
                  navigator.language ||
                  navigator.userLanguage;
                this.$loading.show(),
                  e.startsWith("zh")
                    ? (localStorage.setItem("language", "en"),
                      location.reload())
                    : (localStorage.setItem("language", "zh"),
                      location.reload());
              },
              nav2Beian() {
                window.open("https://beian.miit.gov.cn");
              },
            },
          },
          M = R,
          P = (0, E.Z)(M, f, v, !1, null, "2045d2f5", null),
          I = P.exports,
          F = function () {
            var e = this,
              t = e._self._c;
            return t("div", { staticClass: "body" }, [
              "not_permanent" == e.status
                ? t("div", { staticClass: "ban-container" }, [
                    t("div", { staticClass: "ban-inner" }, [
                      t("div", { staticClass: "title_container" }, [
                        t("h2", [e._v(e._s(e.$t("Ban.not_permanent_1")))]),
                      ]),
                      t("p", [
                        e._v(
                          e._s(
                            e.$t("Ban.not_permanent_2", {
                              app_name: e.app_name,
                            })
                          )
                        ),
                      ]),
                      t("h3", [e._v(e._s(e.$t("Ban.not_permanent_3")))]),
                      t("p", [
                        e._v(e._s(e.$t("Ban.not_permanent_4"))),
                        t(
                          "span",
                          {
                            staticStyle: {
                              "font-weight": "bold",
                              "text-decoration": "underline",
                              cursor: "pointer",
                            },
                            on: { click: e.nav2Agreement },
                          },
                          [
                            e._v(
                              e._s(
                                e.$t("Ban.not_permanent_5", {
                                  app_name: e.app_name,
                                })
                              )
                            ),
                          ]
                        ),
                        e._v(e._s(e.$t("Ban.not_permanent_6"))),
                        t("span", { staticStyle: { "font-weight": "bold" } }, [
                          e._v(e._s(e.ban_detail.ban_period_now)),
                        ]),
                        e._v(e._s(e.$t("Ban.not_permanent_7"))),
                      ]),
                      t("h3", [e._v(e._s(e.ban_detail.user_ban_until))]),
                      t("p", [
                        e._v(e._s(e.$t("Ban.not_permanent_8"))),
                        t("span", { staticStyle: { "font-weight": "bold" } }, [
                          e._v(e._s(e.ban_detail.user_ban_times)),
                        ]),
                        e._v(e._s(e.$t("Ban.not_permanent_9"))),
                        t("span", { staticStyle: { "font-weight": "bold" } }, [
                          e._v(e._s(e.ban_detail.ban_period_next)),
                        ]),
                        e._v(e._s(e.$t("Ban.not_permanent_10"))),
                      ]),
                      t("p", [
                        e._v(e._s(e.$t("Ban.not_permanent_11"))),
                        t(
                          "span",
                          {
                            staticStyle: {
                              "font-weight": "bold",
                              "text-decoration": "underline",
                              cursor: "pointer",
                            },
                            on: { click: e.nav2Agreement },
                          },
                          [
                            e._v(
                              e._s(
                                e.$t("Ban.not_permanent_5", {
                                  app_name: e.app_name,
                                })
                              )
                            ),
                          ]
                        ),
                        e._v(e._s(e.$t("Ban.not_permanent_12"))),
                      ]),
                    ]),
                  ])
                : e._e(),
              "permanent" == e.status
                ? t("div", { staticClass: "ban-container" }, [
                    t("div", { staticClass: "ban-inner" }, [
                      t("div", { staticClass: "title_container" }, [
                        t("h2", [e._v(e._s(e.$t("Ban.permanent_1")))]),
                      ]),
                      t("p", [
                        e._v(
                          e._s(
                            e.$t("Ban.permanent_2", { app_name: e.app_name })
                          )
                        ),
                        t(
                          "span",
                          {
                            staticStyle: {
                              "font-weight": "bold",
                              "text-decoration": "underline",
                              cursor: "pointer",
                            },
                            on: { click: e.nav2Agreement },
                          },
                          [
                            e._v(
                              e._s(
                                e.$t("Ban.permanent_3", {
                                  app_name: e.app_name,
                                })
                              )
                            ),
                          ]
                        ),
                        e._v(e._s(e.$t("Ban.permanent_4"))),
                      ]),
                      t("h3", [e._v(e._s(e.$t("Ban.permanent_5")))]),
                    ]),
                  ])
                : e._e(),
            ]);
          },
          U = [],
          N = {
            name: "UniBan",
            created() {
              this.getBanDetail();
              const e = localStorage.getItem("user_school_label");
              "HKU" == e &&
                ((this.app_name = this.$t("AppName.HKU")),
                (document.title =
                  this.$t("Ban.title") + " / " + this.$t("AppNameTitle.HKU"))),
                "CUHK" == e &&
                  ((this.app_name = this.$t("AppName.CUHK")),
                  (document.title =
                    this.$t("Ban.title") +
                    " / " +
                    this.$t("AppNameTitle.CUHK"))),
                "UST" == e &&
                  ((this.app_name = this.$t("AppName.UST")),
                  (document.title =
                    this.$t("Ban.title") +
                    " / " +
                    this.$t("AppNameTitle.UST")));
            },
            data() {
              return {
                status: "login",
                user_school_label: null,
                app_name: null,
                ban_detail: {},
              };
            },
            methods: {
              getBanDetail() {
                this.$loading.show(),
                  Ms("/user/ban/web").then((e) => {
                    this.$loading.hide(),
                      e &&
                        (200 == e.code
                          ? ((this.ban_detail = e.ban_detail),
                            (this.status = "not_permanent"))
                          : 201 == e.code
                          ? (this.status = "permanent")
                          : this.$router.push("/home"));
                  });
              },
              nav2Agreement() {
                const e = localStorage.getItem("user_school_label");
                window.open(
                  "https://terms.tripleuni.com/" +
                    e.toLocaleLowerCase() +
                    "/agreement"
                );
              },
            },
          },
          O = N,
          H = (0, E.Z)(O, F, U, !1, null, "922d3ca6", null),
          L = H.exports,
          K = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              [
                t("Splash", {
                  directives: [
                    {
                      name: "show",
                      rawName: "v-show",
                      value: !e.finish_loading,
                      expression: "!finish_loading",
                    },
                  ],
                }),
                t(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: e.finish_loading,
                        expression: "finish_loading",
                      },
                    ],
                    staticClass: "body",
                  },
                  [
                    t("div", { staticClass: "left-sidebar" }, [
                      t("div", { staticClass: "links-flex" }, [
                        t(
                          "div",
                          {
                            staticClass: "logo",
                            on: {
                              click: function (t) {
                                return e.nav2("/home");
                              },
                            },
                          },
                          [
                            t("img", {
                              staticClass: "main-logo",
                              attrs: { src: e.logo_src, alt: "Logo" },
                            }),
                          ]
                        ),
                        t(
                          "div",
                          {
                            class:
                              "/home" == e.$route.path
                                ? "link-flex link-active"
                                : "link-flex",
                            on: {
                              click: function (t) {
                                return e.nav2("/home");
                              },
                            },
                          },
                          [
                            t("HomeSvg", { staticClass: "link-icon" }),
                            t("p", { staticClass: "link-text" }, [
                              e._v(e._s(e.$t("Main.home"))),
                            ]),
                          ],
                          1
                        ),
                        t(
                          "div",
                          {
                            class: e.$route.path.startsWith("/search")
                              ? "link-flex link-active"
                              : "link-flex",
                            on: {
                              click: function (t) {
                                return e.nav2("/search/");
                              },
                            },
                          },
                          [
                            t("SearchSvg", { staticClass: "link-icon" }),
                            t("p", { staticClass: "link-text" }, [
                              e._v(e._s(e.$t("Main.search"))),
                            ]),
                          ],
                          1
                        ),
                        t(
                          "div",
                          {
                            class:
                              "/notice" == e.$route.path
                                ? "link-flex link-active"
                                : "link-flex",
                            on: {
                              click: function (t) {
                                return e.nav2("/notice", { method: "refresh" });
                              },
                            },
                          },
                          [
                            t("NoticeSvg", { staticClass: "link-icon" }),
                            t("p", { staticClass: "link-text" }, [
                              e._v(e._s(e.$t("Main.notice"))),
                            ]),
                            e.unread_notice > 0
                              ? t("div", { staticClass: "notice-tip" }, [
                                  e._v(e._s(e.unread_notice)),
                                ])
                              : e._e(),
                          ],
                          1
                        ),
                        t(
                          "div",
                          {
                            class: e.$route.path.startsWith("/chat")
                              ? "link-flex link-active"
                              : "link-flex",
                            on: {
                              click: function (t) {
                                return e.nav2("/chat");
                              },
                            },
                          },
                          [
                            t("PmSvg", { staticClass: "link-icon" }),
                            t("p", { staticClass: "link-text" }, [
                              e._v(e._s(e.$t("Main.pm"))),
                            ]),
                          ],
                          1
                        ),
                        t(
                          "div",
                          {
                            class:
                              "/mine" == e.$route.path
                                ? "link-flex link-active"
                                : "link-flex",
                            on: {
                              click: function (t) {
                                return e.nav2("/mine");
                              },
                            },
                          },
                          [
                            t("MineSvg", { staticClass: "link-icon" }),
                            t("p", { staticClass: "link-text" }, [
                              e._v(e._s(e.$t("Main.mine"))),
                            ]),
                          ],
                          1
                        ),
                        t(
                          "div",
                          {
                            class:
                              "/write" == e.$route.path
                                ? "link-flex link-active"
                                : "link-flex",
                            on: {
                              click: function (t) {
                                return e.nav2("/write");
                              },
                            },
                          },
                          [
                            t("WriteSvg", { staticClass: "link-icon" }),
                            t("p", { staticClass: "link-text" }, [
                              e._v(e._s(e.$t("Main.write"))),
                            ]),
                          ],
                          1
                        ),
                        e.user_is_org
                          ? t(
                              "div",
                              {
                                class:
                                  "/orgadmin" == e.$route.path
                                    ? "link-flex link-active"
                                    : "link-flex",
                                on: {
                                  click: function (t) {
                                    return e.nav2("/orgadmin");
                                  },
                                },
                              },
                              [
                                t("OrgSvg", { staticClass: "link-icon" }),
                                t("p", { staticClass: "link-text" }, [
                                  e._v(e._s(e.$t("Main.org"))),
                                ]),
                              ],
                              1
                            )
                          : e._e(),
                      ]),
                    ]),
                    "/chat" == e.$route.path
                      ? [
                          t(
                            "div",
                            { staticClass: "middle-section-chat-list" },
                            [
                              t(
                                "keep-alive",
                                [
                                  e.$route.meta.keepAlive
                                    ? t("router-view", {
                                        attrs: { name: "middle" },
                                      })
                                    : e._e(),
                                ],
                                1
                              ),
                              e.$route.meta.keepAlive
                                ? e._e()
                                : t("router-view", {
                                    attrs: { name: "middle" },
                                  }),
                            ],
                            1
                          ),
                          t(
                            "div",
                            { staticClass: "right-sidebar-chat-list" },
                            [
                              t(
                                "keep-alive",
                                [
                                  e.$route.meta.keepAlive
                                    ? t("router-view", {
                                        attrs: { name: "right" },
                                      })
                                    : e._e(),
                                ],
                                1
                              ),
                              e.$route.meta.keepAlive
                                ? e._e()
                                : t("router-view", {
                                    attrs: { name: "right" },
                                  }),
                            ],
                            1
                          ),
                        ]
                      : e.$route.path.startsWith("/chat/")
                      ? [
                          t(
                            "div",
                            { staticClass: "middle-section-chat-detail" },
                            [
                              t(
                                "keep-alive",
                                [
                                  e.$route.meta.keepAlive
                                    ? t("router-view", {
                                        attrs: { name: "middle" },
                                      })
                                    : e._e(),
                                ],
                                1
                              ),
                              e.$route.meta.keepAlive
                                ? e._e()
                                : t("router-view", {
                                    attrs: { name: "middle" },
                                  }),
                            ],
                            1
                          ),
                          t(
                            "div",
                            { staticClass: "right-sidebar-chat-detail" },
                            [
                              t(
                                "keep-alive",
                                [
                                  e.$route.meta.keepAlive
                                    ? t("router-view", {
                                        key: e.$route.params.chat_id,
                                        attrs: { name: "right" },
                                      })
                                    : e._e(),
                                ],
                                1
                              ),
                              e.$route.meta.keepAlive
                                ? e._e()
                                : t("router-view", {
                                    key: e.$route.params.chat_id,
                                    attrs: { name: "right" },
                                  }),
                            ],
                            1
                          ),
                        ]
                      : "/home" == e.$route.path ||
                        e.$route.path.startsWith("/search") ||
                        "/chat" == e.$route.path ||
                        "/mine" == e.$route.path
                      ? [
                          t(
                            "div",
                            { staticClass: "middle-section-tab" },
                            [
                              t(
                                "keep-alive",
                                [
                                  e.$route.meta.keepAlive
                                    ? t("router-view", {
                                        attrs: { name: "middle" },
                                      })
                                    : e._e(),
                                ],
                                1
                              ),
                              e.$route.meta.keepAlive
                                ? e._e()
                                : t("router-view", {
                                    attrs: { name: "middle" },
                                  }),
                            ],
                            1
                          ),
                          t(
                            "div",
                            { staticClass: "right-sidebar" },
                            [
                              t(
                                "keep-alive",
                                [
                                  t("router-view", {
                                    attrs: { name: "right" },
                                  }),
                                ],
                                1
                              ),
                            ],
                            1
                          ),
                        ]
                      : [
                          t(
                            "div",
                            { staticClass: "middle-section" },
                            [
                              t(
                                "keep-alive",
                                [
                                  e.$route.meta.keepAlive
                                    ? t("router-view", {
                                        key: e.$route.fullPath,
                                        attrs: { name: "middle" },
                                      })
                                    : e._e(),
                                ],
                                1
                              ),
                              e.$route.meta.keepAlive
                                ? e._e()
                                : t("router-view", {
                                    attrs: { name: "middle" },
                                  }),
                            ],
                            1
                          ),
                          t(
                            "div",
                            { staticClass: "right-sidebar" },
                            [
                              t(
                                "keep-alive",
                                [
                                  t("router-view", {
                                    attrs: { name: "right" },
                                  }),
                                ],
                                1
                              ),
                            ],
                            1
                          ),
                        ],
                    t(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value:
                              "/home" == e.$route.path ||
                              e.$route.path.startsWith("/search") ||
                              "/chat" == e.$route.path ||
                              "/mine" == e.$route.path,
                            expression:
                              "$route.path == '/home' || $route.path.startsWith('/search') || $route.path == '/chat' || $route.path == '/mine'",
                          },
                        ],
                        staticClass: "tabbar",
                      },
                      [
                        t(
                          "div",
                          {
                            class:
                              "/home" == e.$route.path
                                ? "link-flex link-active"
                                : "link-flex",
                            on: {
                              click: function (t) {
                                return e.nav2("/home");
                              },
                            },
                          },
                          [t("HomeSvg", { staticClass: "link-icon" })],
                          1
                        ),
                        t(
                          "div",
                          {
                            class: e.$route.path.startsWith("/search")
                              ? "link-flex link-active"
                              : "link-flex",
                            on: {
                              click: function (t) {
                                return e.nav2("/search/");
                              },
                            },
                          },
                          [t("SearchSvg", { staticClass: "link-icon" })],
                          1
                        ),
                        t(
                          "div",
                          {
                            class:
                              "/chat" == e.$route.path
                                ? "link-flex link-active"
                                : "link-flex",
                            on: {
                              click: function (t) {
                                return e.nav2("/chat");
                              },
                            },
                          },
                          [
                            t("PmSvg", { staticClass: "link-icon" }),
                            e.unread_notice > 0
                              ? t("div", { staticClass: "pm-tip" }, [
                                  e._v(e._s(e.unread_notice)),
                                ])
                              : e._e(),
                          ],
                          1
                        ),
                        t(
                          "div",
                          {
                            class:
                              "/mine" == e.$route.path
                                ? "link-flex link-active"
                                : "link-flex",
                            on: {
                              click: function (t) {
                                return e.nav2("/mine");
                              },
                            },
                          },
                          [t("MineSvg", { staticClass: "link-icon" })],
                          1
                        ),
                      ]
                    ),
                    t("img", {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: "/home" == e.$route.path,
                          expression: "$route.path == '/home'",
                        },
                      ],
                      staticClass: "write-button",
                      attrs: { src: e.write_src },
                      on: {
                        click: function (t) {
                          return e.nav2("/write");
                        },
                      },
                    }),
                  ],
                  2
                ),
              ],
              1
            );
          },
          z = [],
          q = function () {
            var e = this,
              t = e._self._c;
            return t(
              "svg",
              {
                staticClass: "icon",
                attrs: {
                  t: "1688026581355",
                  viewBox: "0 0 1024 1024",
                  version: "1.1",
                  xmlns: "http://www.w3.org/2000/svg",
                  "p-id": "3855",
                  "xmlns:xlink": "http://www.w3.org/1999/xlink",
                  width: "200",
                  height: "200",
                },
              },
              [
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M923.733333 394.666667c-85.333333-70.4-206.933333-174.933333-362.666666-309.333334C533.333333 61.866667 490.666667 61.866667 462.933333 85.333333c-155.733333 134.4-277.333333 238.933333-362.666666 309.333334-14.933333 14.933333-25.6 34.133333-25.6 53.333333 0 38.4 32 70.4 70.4 70.4H192v358.4c0 29.866667 23.466667 53.333333 53.333333 53.333333H405.333333c29.866667 0 53.333333-23.466667 53.333334-53.333333v-206.933333h106.666666v206.933333c0 29.866667 23.466667 53.333333 53.333334 53.333333h160c29.866667 0 53.333333-23.466667 53.333333-53.333333V518.4h46.933333c38.4 0 70.4-32 70.4-70.4 0-21.333333-10.666667-40.533333-25.6-53.333333z m-44.8 59.733333h-57.6c-29.866667 0-53.333333 23.466667-53.333333 53.333333v358.4h-138.666667V661.333333c0-29.866667-23.466667-53.333333-53.333333-53.333333h-128c-29.866667 0-53.333333 23.466667-53.333333 53.333333v206.933334H256V507.733333c0-29.866667-23.466667-53.333333-53.333333-53.333333H145.066667c-4.266667 0-6.4-2.133333-6.4-6.4 0-2.133333 2.133333-4.266667 2.133333-6.4 85.333333-70.4 206.933333-174.933333 362.666667-309.333333 4.266667-4.266667 10.666667-4.266667 14.933333 0 155.733333 134.4 277.333333 238.933333 362.666667 309.333333 2.133333 2.133333 2.133333 2.133333 2.133333 4.266667 2.133333 6.4-2.133333 8.533333-4.266667 8.533333z",
                    "p-id": "3856",
                  },
                }),
              ]
            );
          },
          W = [],
          j = {},
          G = (0, E.Z)(j, q, W, !1, null, null, null),
          V = G.exports,
          X = function () {
            var e = this,
              t = e._self._c;
            return t(
              "svg",
              {
                staticClass: "icon",
                attrs: {
                  t: "1688026564392",
                  viewBox: "0 0 1024 1024",
                  version: "1.1",
                  xmlns: "http://www.w3.org/2000/svg",
                  "p-id": "3665",
                  "xmlns:xlink": "http://www.w3.org/1999/xlink",
                  width: "200",
                  height: "200",
                },
              },
              [
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M945.066667 898.133333l-189.866667-189.866666c55.466667-64 87.466667-149.333333 87.466667-241.066667 0-204.8-168.533333-373.333333-373.333334-373.333333S96 264.533333 96 469.333333 264.533333 842.666667 469.333333 842.666667c91.733333 0 174.933333-34.133333 241.066667-87.466667l189.866667 189.866667c6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333c8.533333-12.8 8.533333-34.133333-2.133333-46.933334zM469.333333 778.666667C298.666667 778.666667 160 640 160 469.333333S298.666667 160 469.333333 160 778.666667 298.666667 778.666667 469.333333 640 778.666667 469.333333 778.666667z",
                    "p-id": "3666",
                  },
                }),
              ]
            );
          },
          Z = [],
          Y = {},
          Q = (0, E.Z)(Y, X, Z, !1, null, null, null),
          J = Q.exports,
          ee = function () {
            var e = this,
              t = e._self._c;
            return t(
              "svg",
              {
                staticClass: "icon",
                attrs: {
                  t: "1688026614053",
                  viewBox: "0 0 1024 1024",
                  version: "1.1",
                  xmlns: "http://www.w3.org/2000/svg",
                  "p-id": "4256",
                  "xmlns:xlink": "http://www.w3.org/1999/xlink",
                  width: "200",
                  height: "200",
                },
              },
              [
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M800 625.066667V448c0-117.333333-70.4-217.6-170.666667-262.4-4.266667-61.866667-55.466667-110.933333-117.333333-110.933333s-113.066667 49.066667-117.333333 110.933333c-100.266667 44.8-170.666667 145.066667-170.666667 262.4v177.066667c-57.6 46.933333-85.333333 110.933333-85.333333 185.6 0 17.066667 14.933333 32 32 32h206.933333c14.933333 61.866667 70.4 106.666667 134.4 106.666666s119.466667-44.8 134.4-106.666666H853.333333c17.066667 0 32-14.933333 32-32 0-76.8-27.733333-138.666667-85.333333-185.6zM512 138.666667c19.2 0 36.266667 10.666667 44.8 25.6-14.933333-2.133333-29.866667-4.266667-44.8-4.266667-14.933333 0-29.866667 2.133333-44.8 4.266667 8.533333-14.933333 25.6-25.6 44.8-25.6z m0 746.666666c-29.866667 0-55.466667-17.066667-66.133333-42.666666h134.4c-12.8 25.6-38.4 42.666667-68.266667 42.666666z m-307.2-106.666666c6.4-46.933333 29.866667-83.2 70.4-113.066667 8.533333-6.4 12.8-14.933333 12.8-25.6v-192c0-123.733333 100.266667-224 224-224S736 324.266667 736 448v192c0 10.666667 4.266667 19.2 12.8 25.6 40.533333 29.866667 64 66.133333 70.4 113.066667H204.8z",
                    "p-id": "4257",
                  },
                }),
              ]
            );
          },
          te = [],
          ie = {},
          se = (0, E.Z)(ie, ee, te, !1, null, null, null),
          ne = se.exports,
          oe = function () {
            var e = this,
              t = e._self._c;
            return t(
              "svg",
              {
                staticClass: "icon",
                attrs: {
                  t: "1688026684932",
                  viewBox: "0 0 1024 1024",
                  version: "1.1",
                  xmlns: "http://www.w3.org/2000/svg",
                  "p-id": "4454",
                  "xmlns:xlink": "http://www.w3.org/1999/xlink",
                  width: "200",
                  height: "200",
                },
              },
              [
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M853.333333 138.666667H170.666667c-40.533333 0-74.666667 34.133333-74.666667 74.666666v512c0 40.533333 34.133333 74.666667 74.666667 74.666667h151.466666V917.333333c0 12.8 8.533333 25.6 19.2 29.866667 4.266667 2.133333 8.533333 2.133333 12.8 2.133333 8.533333 0 17.066667-4.266667 23.466667-10.666666l136.533333-138.666667H853.333333c40.533333 0 74.666667-34.133333 74.666667-74.666667V213.333333c0-40.533333-34.133333-74.666667-74.666667-74.666666z m10.666667 586.666666c0 6.4-4.266667 10.666667-10.666667 10.666667H501.333333c-8.533333 0-17.066667 4.266667-23.466666 10.666667l-89.6 93.866666V768c0-17.066667-14.933333-32-32-32H170.666667c-6.4 0-10.666667-4.266667-10.666667-10.666667V213.333333c0-6.4 4.266667-10.666667 10.666667-10.666666h682.666666c6.4 0 10.666667 4.266667 10.666667 10.666666v512z",
                    "p-id": "4455",
                  },
                }),
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M512 490.666667H298.666667c-17.066667 0-32 14.933333-32 32S281.6 554.666667 298.666667 554.666667h213.333333c17.066667 0 32-14.933333 32-32S529.066667 490.666667 512 490.666667zM672 341.333333H298.666667c-17.066667 0-32 14.933333-32 32S281.6 405.333333 298.666667 405.333333h373.333333c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32z",
                    "p-id": "4456",
                  },
                }),
              ]
            );
          },
          ae = [],
          re = {},
          le = (0, E.Z)(re, oe, ae, !1, null, null, null),
          ce = le.exports,
          ue = function () {
            var e = this,
              t = e._self._c;
            return t(
              "svg",
              {
                staticClass: "icon",
                attrs: {
                  t: "1688026730223",
                  viewBox: "0 0 1024 1024",
                  version: "1.1",
                  xmlns: "http://www.w3.org/2000/svg",
                  "p-id": "4653",
                  "xmlns:xlink": "http://www.w3.org/1999/xlink",
                  width: "200",
                  height: "200",
                },
              },
              [
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667zM288 810.666667c0-123.733333 100.266667-224 224-224S736 686.933333 736 810.666667c-61.866667 46.933333-140.8 74.666667-224 74.666666s-162.133333-27.733333-224-74.666666z m128-384c0-53.333333 42.666667-96 96-96s96 42.666667 96 96-42.666667 96-96 96-96-42.666667-96-96z m377.6 328.533333c-19.2-96-85.333333-174.933333-174.933333-211.2 32-29.866667 51.2-70.4 51.2-117.333333 0-87.466667-72.533333-160-160-160s-160 72.533333-160 160c0 46.933333 19.2 87.466667 51.2 117.333333-89.6 36.266667-155.733333 115.2-174.933334 211.2-55.466667-66.133333-91.733333-149.333333-91.733333-243.2 0-204.8 168.533333-373.333333 373.333333-373.333333S885.333333 307.2 885.333333 512c0 93.866667-34.133333 177.066667-91.733333 243.2z",
                    "p-id": "4654",
                  },
                }),
              ]
            );
          },
          de = [],
          he = {},
          pe = (0, E.Z)(he, ue, de, !1, null, null, null),
          _e = pe.exports,
          me = function () {
            var e = this,
              t = e._self._c;
            return t(
              "svg",
              {
                staticClass: "icon",
                attrs: {
                  t: "1688026587960",
                  viewBox: "0 0 1024 1024",
                  version: "1.1",
                  xmlns: "http://www.w3.org/2000/svg",
                  "p-id": "4053",
                  "xmlns:xlink": "http://www.w3.org/1999/xlink",
                  width: "200",
                  height: "200",
                },
              },
              [
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z",
                    "p-id": "4054",
                  },
                }),
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M682.666667 480h-138.666667V341.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v138.666667H341.333333c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h138.666667V682.666667c0 17.066667 14.933333 32 32 32s32-14.933333 32-32v-138.666667H682.666667c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32z",
                    "p-id": "4055",
                  },
                }),
              ]
            );
          },
          ge = [],
          fe = {},
          ve = (0, E.Z)(fe, me, ge, !1, null, null, null),
          ye = ve.exports,
          we = function () {
            var e = this,
              t = e._self._c;
            return t(
              "svg",
              {
                staticClass: "icon",
                attrs: {
                  t: "1690477371321",
                  viewBox: "0 0 1024 1024",
                  version: "1.1",
                  xmlns: "http://www.w3.org/2000/svg",
                  "p-id": "1715",
                  "xmlns:xlink": "http://www.w3.org/1999/xlink",
                  width: "200",
                  height: "200",
                },
              },
              [
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M512 165.58L835.44 335 512 504.42 188.56 335 512 165.58m0-67.1c-7.6 0-15.2 2.1-21.87 6.3L114.96 301.3c-24.96 15.73-24.96 51.66 0 67.39l375.18 196.52c6.67 4.2 14.27 6.3 21.87 6.3s15.2-2.1 21.87-6.3L909.04 368.7c24.96-15.73 24.96-51.66 0-67.39L533.87 104.79A40.941 40.941 0 0 0 512 98.48z",
                    "p-id": "1716",
                  },
                }),
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M511.57 765.92c-12.81 0-25.62-3.39-36.91-10.17L112.18 566.36c-15.66-8.18-21.73-27.52-13.54-43.18 8.18-15.66 27.52-21.73 43.18-13.54l364.59 190.49 1.09 0.68c2.5 1.57 5.75 1.55 8.28-0.05l1.08-0.68 1.13-0.59 364.14-191.21c15.65-8.22 34.99-2.19 43.21 13.45 8.22 15.65 2.19 34.99-13.45 43.21L548.7 755.64c-11.36 6.85-24.25 10.28-37.13 10.28z",
                    "p-id": "1717",
                  },
                }),
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M511.57 960.31c-12.81 0-25.62-3.39-36.91-10.17L112.18 760.75c-15.66-8.18-21.73-27.52-13.54-43.18 8.18-15.66 27.52-21.73 43.18-13.54l364.59 190.49 1.09 0.68c2.5 1.57 5.75 1.55 8.28-0.05l1.08-0.68 1.13-0.59 364.14-191.21c15.65-8.22 34.99-2.19 43.21 13.45 8.22 15.65 2.19 34.99-13.45 43.21L548.7 950.04c-11.36 6.85-24.25 10.27-37.13 10.27z",
                    "p-id": "1718",
                  },
                }),
              ]
            );
          },
          Ce = [],
          be = {},
          ke = (0, E.Z)(be, we, Ce, !1, null, null, null),
          xe = ke.exports,
          De = function () {
            var e = this,
              t = e._self._c;
            return t("div", { staticClass: "body body-anim-open" }, [
              t("img", { staticClass: "logo", attrs: { src: i(89078) } }),
              t("img", {
                staticClass: "title title-anim-open",
                attrs: { src: e.title_src },
              }),
            ]);
          },
          Se = [],
          Ae = {
            name: "UniSplash",
            data() {
              return { title_src: null };
            },
            mounted() {
              window.matchMedia &&
              window.matchMedia("(prefers-color-scheme: dark)").matches
                ? (this.title_src = i(28353))
                : (this.title_src = i(22010));
            },
          },
          Ee = Ae,
          Te = (0, E.Z)(Ee, De, Se, !1, null, "c08b93c0", null),
          Be = Te.exports,
          $e = {
            name: "UniMain",
            components: {
              HomeSvg: V,
              SearchSvg: J,
              NoticeSvg: ne,
              PmSvg: ce,
              MineSvg: _e,
              WriteSvg: ye,
              OrgSvg: xe,
              Splash: Be,
            },
            mounted() {
              (this.logo_src = i(55652)(
                "./logo-" + localStorage.getItem("user_school_label") + ".png"
              )),
                (this.write_src = i(1207)(
                  "./write-" +
                    localStorage.getItem("user_school_label") +
                    ".svg"
                )),
                (this.user_is_org = localStorage.getItem("user_is_org")),
                this.updateUnreadCount(),
                window.addEventListener("updateUnreadNotice", () => {
                  this.updateUnreadCount();
                }),
                window.addEventListener("finishInitLoading", () => {
                  this.finishInitLoading();
                });
            },
            data() {
              return {
                logo_src: null,
                write_src: null,
                user_is_org: !1,
                unread_notice: 0,
                finish_loading: x,
              };
            },
            methods: {
              nav2(e, t = {}) {
                this.$router.push({ path: e, query: t });
              },
              updateUnreadCount() {
                this.unread_notice = localStorage.getItem("unread_notice");
              },
              finishInitLoading() {
                this.finish_loading || (this.finish_loading = !0);
              },
            },
          },
          Re = $e,
          Me = (0, E.Z)(Re, K, z, !1, null, "197f55b5", null),
          Pe = Me.exports,
          Ie = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { staticStyle: { width: "100%", "max-width": "100%" } },
              [
                t("Navbar", {
                  attrs: { title: e.title, show_back: !1, sticky: !1 },
                }),
                t("div", { staticClass: "topic-bar" }, [
                  t(
                    "div",
                    { staticClass: "topic-tab" },
                    e._l(e.topic_list, function (i, s) {
                      return t(
                        "button",
                        {
                          key: s,
                          class:
                            e.current_topic_index == s
                              ? "topic-button active"
                              : "topic-button",
                          on: {
                            click: function (t) {
                              return e.switchTopic(s);
                            },
                          },
                        },
                        [e._v(e._s(i.topic_show))]
                      );
                    }),
                    0
                  ),
                ]),
                t(
                  "Refresh",
                  { attrs: { "on-refresh": e.onRefresh } },
                  [
                    e.show_banner && e.banner_list.length > 0
                      ? t(
                          "div",
                          { staticClass: "banner-outer" },
                          [
                            t(
                              "Swiper",
                              {
                                staticClass: "banner-container",
                                attrs: { showIndicator: !1, interval: "3500" },
                              },
                              e._l(e.banner_list, function (i, s) {
                                return t("Slide", { key: s }, [
                                  t("img", {
                                    staticClass: "banner-image",
                                    attrs: { src: i.banner_image },
                                    on: {
                                      click: function (t) {
                                        return e.onTapBanner(i);
                                      },
                                    },
                                  }),
                                ]);
                              }),
                              1
                            ),
                          ],
                          1
                        )
                      : e._e(),
                    e._l(e.one_list, function (e, i) {
                      return t("One", {
                        key: i,
                        attrs: { type: e.type, data: e.data },
                      });
                    }),
                    t("LoadMore", {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: e.is_loading_more || e.is_last,
                          expression: "is_loading_more || is_last",
                        },
                      ],
                      attrs: { is_last: e.is_last },
                    }),
                  ],
                  2
                ),
              ],
              1
            );
          },
          Fe = [];
        function Ue(e) {
          const t =
              localStorage.getItem("language") ||
              navigator.language ||
              navigator.userLanguage,
            i = {
              情感: "Emotions",
              随写: "Sketch",
              学业: "Academics",
              求职: "Jobs",
              美食: "Food",
              跳蚤: "Flea",
              投票: "Poll",
              树洞: "Treehole",
              信息: "Info",
              交易: "Flea",
              分享: "Sharing",
            };
          return t.startsWith("zh") ? e : i.hasOwnProperty(e) ? i[e] : e;
        }
        async function Ne(e) {
          const t =
            localStorage.getItem("language") ||
            navigator.language ||
            navigator.userLanguage;
          if (t.startsWith("zh")) return e;
          {
            const t = await Ms("/translate/string", { string: e });
            return t.result;
          }
        }
        var Oe = function () {
            var e = this,
              t = e._self._c;
            return t("div", { staticStyle: { width: "100%" } }, [
              "post" == e.type
                ? t(
                    "div",
                    {
                      class: e.show_border
                        ? "post-outer"
                        : "post-outer no-border",
                      on: { click: e.nav2PostDetail },
                    },
                    [
                      t("img", {
                        staticClass: "post-avatar",
                        attrs: {
                          src:
                            "https://i.boatonland.com/avatar/" +
                            e.data.user_avatar +
                            ".svg",
                        },
                      }),
                      t("div", { staticClass: "post-main" }, [
                        t("div", { staticClass: "post-header" }, [
                          t("div", { staticClass: "post-header-title" }, [
                            t("div", { staticClass: "post-id" }, [
                              e._v("#" + e._s(e.data.post_id)),
                            ]),
                            t("div", { staticClass: "post-topic" }, [
                              e._v(e._s(e.data.post_topic)),
                            ]),
                          ]),
                          t(
                            "div",
                            { staticClass: "post-follower-comment-outer" },
                            [
                              t(
                                "div",
                                { staticStyle: { "padding-right": "8px" } },
                                [
                                  e.data.is_following
                                    ? t("img", {
                                        staticClass: "post-follower-icon",
                                        attrs: { src: i(14498) },
                                      })
                                    : t("img", {
                                        staticClass: "post-follower-icon",
                                        attrs: { src: i(38510) },
                                      }),
                                ]
                              ),
                              t(
                                "div",
                                {
                                  staticClass: "post-follower-num",
                                  staticStyle: { "padding-right": "20px" },
                                },
                                [e._v(e._s(e.data.post_follower_num))]
                              ),
                              e._m(0),
                              t("div", { staticClass: "post-follower-num" }, [
                                e._v(e._s(e.data.post_comment_num)),
                              ]),
                            ]
                          ),
                        ]),
                        t(
                          "div",
                          [
                            e.data.post_media &&
                            "netease" == e.data.post_media.media_type
                              ? t(
                                  "div",
                                  { staticClass: "post-function-outer" },
                                  [
                                    t(
                                      "div",
                                      { staticClass: "post-function-title" },
                                      [
                                        e._v(
                                          e._s(
                                            e.data.post_media.netease_title
                                          ) +
                                            " - " +
                                            e._s(
                                              e.data.post_media.netease_artist
                                            )
                                        ),
                                      ]
                                    ),
                                    e._m(1),
                                  ]
                                )
                              : e._e(),
                            e.data.post_media &&
                            "bilibili" == e.data.post_media.media_type
                              ? t(
                                  "div",
                                  { staticClass: "post-function-outer" },
                                  [
                                    t(
                                      "div",
                                      { staticClass: "post-function-title" },
                                      [
                                        e._v(
                                          e._s(e.data.post_media.bilibili_title)
                                        ),
                                      ]
                                    ),
                                    e._m(2),
                                  ]
                                )
                              : e._e(),
                            e.data.post_media &&
                            "vote" == e.data.post_media.media_type
                              ? t(
                                  "div",
                                  { staticClass: "post-function-outer" },
                                  [
                                    t(
                                      "div",
                                      { staticClass: "post-function-title" },
                                      [e._v(e._s(e.data.post_media.vote_title))]
                                    ),
                                    e._m(3),
                                  ]
                                )
                              : e._e(),
                            e.data.post_media &&
                            "quote" == e.data.post_media.media_type
                              ? t(
                                  "div",
                                  { staticClass: "post-function-outer" },
                                  [
                                    t(
                                      "div",
                                      { staticClass: "post-function-title" },
                                      [
                                        e._v(
                                          e._s(e.data.post_media.quote_title)
                                        ),
                                      ]
                                    ),
                                  ]
                                )
                              : e._e(),
                            e.data.post_media &&
                            "miniapp" == e.data.post_media.media_type
                              ? t(
                                  "div",
                                  { staticClass: "post-function-outer" },
                                  [
                                    t(
                                      "div",
                                      { staticClass: "post-function-title" },
                                      [
                                        e._v(
                                          e._s(e.data.post_media.miniapp_name)
                                        ),
                                      ]
                                    ),
                                    e._m(4),
                                  ]
                                )
                              : e._e(),
                            e.data.post_media &&
                            "article" == e.data.post_media.media_type
                              ? t(
                                  "div",
                                  { staticClass: "post-function-outer" },
                                  [
                                    t(
                                      "div",
                                      { staticClass: "post-function-title" },
                                      [
                                        e._v(
                                          e._s(e.data.post_media.article_title)
                                        ),
                                      ]
                                    ),
                                    e._m(5),
                                  ]
                                )
                              : e._e(),
                            e.data.post_media &&
                            "file" == e.data.post_media.media_type
                              ? t(
                                  "div",
                                  { staticClass: "post-function-outer" },
                                  [
                                    t(
                                      "div",
                                      { staticClass: "post-function-title" },
                                      [e._v(e._s(e.data.post_media.file_name))]
                                    ),
                                    e._m(6),
                                  ]
                                )
                              : e._e(),
                            e.data.post_media &&
                            "hku_group" == e.data.post_media.media_type
                              ? t(
                                  "div",
                                  { staticClass: "post-function-outer" },
                                  [
                                    t(
                                      "div",
                                      { staticClass: "post-function-title" },
                                      [
                                        e._v(
                                          e._s(e.$t("One.hku_group_title")) +
                                            e._s(e.data.post_media.group_name) +
                                            " "
                                        ),
                                      ]
                                    ),
                                    e._m(7),
                                  ]
                                )
                              : e._e(),
                            t("div", { staticClass: "post-msg" }, [
                              e._v(e._s(e.data.post_msg_short)),
                              e.data.post_msg_short_is_complete
                                ? e._e()
                                : t("span", [e._v("...")]),
                            ]),
                            e.show_translate
                              ? [
                                  e.data.post_msg_en || e.post_msg_en
                                    ? t("div", { staticClass: "post-msg" }, [
                                        e._v(
                                          e._s(
                                            e.data.post_msg_en || e.post_msg_en
                                          ) + " "
                                        ),
                                      ])
                                    : e._e(),
                                  e.data.post_msg_en ||
                                  e.post_msg_en ||
                                  e.is_translating
                                    ? e._e()
                                    : t(
                                        "div",
                                        {
                                          staticClass: "post-translate",
                                          on: {
                                            click: function (t) {
                                              return (
                                                t.stopPropagation(),
                                                e.translate.apply(
                                                  null,
                                                  arguments
                                                )
                                              );
                                            },
                                          },
                                        },
                                        [e._v(e._s(e.$t("One.translate")))]
                                      ),
                                  e.is_translating
                                    ? t("img", {
                                        staticClass: "post-translate-loading",
                                        attrs: { src: e.loading_src },
                                      })
                                    : e._e(),
                                ]
                              : e._e(),
                            e.data.post_msg_short_is_complete
                              ? e._e()
                              : t("div", { staticClass: "post-loadmore" }, [
                                  e._v(e._s(e.$t("One.load_more"))),
                                ]),
                            e.data.post_image
                              ? t(
                                  "div",
                                  {
                                    class: e.data.post_msg_short_is_complete
                                      ? "post-image-container"
                                      : "post-image-container-margin",
                                  },
                                  [
                                    t("img", {
                                      staticClass: "post-image",
                                      attrs: { src: e.data.post_image[0] },
                                      on: {
                                        click: function (t) {
                                          return (
                                            t.stopPropagation(),
                                            e.previewImage(e.data.post_image[0])
                                          );
                                        },
                                      },
                                    }),
                                  ]
                                )
                              : e._e(),
                          ],
                          2
                        ),
                      ]),
                    ]
                  )
                : e._e(),
              "article" == e.type
                ? t(
                    "div",
                    {
                      class: e.show_border
                        ? "post-outer"
                        : "post-outer no-border",
                      on: { click: e.nav2Article },
                    },
                    [
                      t("img", {
                        staticClass: "article-avatar",
                        attrs: {
                          src:
                            "https://i.boatonland.com/avatar/" +
                            e.data.user_avatar +
                            ".svg",
                        },
                        on: {
                          click: function (t) {
                            return (
                              t.stopPropagation(),
                              e.nav2Org.apply(null, arguments)
                            );
                          },
                        },
                      }),
                      t("div", { staticClass: "article-main" }, [
                        t("div", { staticClass: "article-header" }, [
                          t("div", { staticClass: "article-header-title" }, [
                            t(
                              "div",
                              {
                                staticClass: "article-alias",
                                on: {
                                  click: function (t) {
                                    return (
                                      t.stopPropagation(),
                                      e.nav2Org.apply(null, arguments)
                                    );
                                  },
                                },
                              },
                              [e._v(e._s(e.data.user_alias))]
                            ),
                          ]),
                        ]),
                        t("div", { staticClass: "article-card-container" }, [
                          t("img", {
                            staticClass: "article-image",
                            attrs: { src: e.data.article_image },
                          }),
                          t("div", { staticClass: "article-title" }, [
                            e._v(e._s(e.data.article_title)),
                          ]),
                        ]),
                      ]),
                    ]
                  )
                : e._e(),
              "hku_group_add" == e.type
                ? t(
                    "div",
                    {
                      class: e.show_border
                        ? "hku-group-add-outer"
                        : "hku-group-add-outer no-border",
                      on: { click: e.addHKUGroup },
                    },
                    [
                      t("div", { staticClass: "hku-group-add-container" }, [
                        t("img", {
                          staticClass: "hku-group-add-image",
                          attrs: {
                            src: "https://i.boatonland.com/HKU/post/jeD8ijwBDkrKn3GsZHp2JfYhjErnTN7Y.jpeg",
                          },
                        }),
                        t("div", { staticClass: "hku-group-add-right" }, [
                          t(
                            "div",
                            { staticClass: "hku-group-add-text-container" },
                            [
                              t(
                                "div",
                                { staticClass: "hku-group-add-text-title" },
                                [
                                  e._v(
                                    e._s(
                                      e.$t("MiddlePostDetail.hku_group_title")
                                    ) + e._s(e.data.group_name)
                                  ),
                                ]
                              ),
                              t(
                                "div",
                                { staticClass: "hku-group-add-text-detail" },
                                [
                                  e._v(
                                    e._s(
                                      e.$t(
                                        "MiddlePostDetail.hku_group_app_name"
                                      )
                                    )
                                  ),
                                ]
                              ),
                            ]
                          ),
                          t("img", {
                            staticClass: "hku-group-add-icon",
                            attrs: { src: i(29983) },
                          }),
                        ]),
                      ]),
                    ]
                  )
                : e._e(),
              "sharing" == e.type
                ? t(
                    "div",
                    {
                      class: e.show_border
                        ? "post-outer"
                        : "post-outer no-border",
                      on: { click: e.nav2PostDetail },
                    },
                    [
                      t("img", {
                        staticClass: "sharing-avatar",
                        attrs: {
                          src:
                            "https://i.boatonland.com/avatar/" +
                            e.data.user_avatar +
                            ".svg",
                        },
                      }),
                      t("div", { staticClass: "sharing-main" }, [
                        t("div", { staticClass: "sharing-header" }, [
                          t("div", { staticClass: "sharing-header-title" }, [
                            t("div", { staticClass: "sharing-alias" }, [
                              e._v(e._s(e.data.user_alias)),
                            ]),
                          ]),
                        ]),
                        t("div", { staticClass: "sharing-card-container" }, [
                          t("img", {
                            staticClass: "sharing-image",
                            attrs: { src: e.data.post_media.sharing_image },
                          }),
                          t("div", { staticClass: "sharing-title" }, [
                            e._v(e._s(e.data.post_media.sharing_title)),
                          ]),
                          t("div", { staticClass: "sharing-abstract" }, [
                            e._v(e._s(e.data.post_media.sharing_abstract)),
                          ]),
                          t(
                            "div",
                            { staticClass: "sharing-info-container" },
                            [
                              t("div", { staticClass: "sharing-info-item" }, [
                                t("img", {
                                  staticClass: "sharing-info-item-icon",
                                  attrs: { src: e.sharing_author_src },
                                }),
                                e._v(
                                  " " +
                                    e._s(e.data.post_media.sharing_author) +
                                    " "
                                ),
                              ]),
                              e._l(
                                e.data.post_media.sharing_tag_list,
                                function (i, s) {
                                  return t(
                                    "div",
                                    {
                                      key: s,
                                      staticClass: "sharing-info-item",
                                    },
                                    [
                                      t("img", {
                                        staticClass: "sharing-info-item-icon",
                                        attrs: { src: e.sharing_tag_src },
                                      }),
                                      e._v(" " + e._s(i) + " "),
                                    ]
                                  );
                                }
                              ),
                              t("div", { staticClass: "sharing-info-item" }, [
                                t("img", {
                                  staticClass: "sharing-info-item-icon",
                                  attrs: { src: e.sharing_time_src },
                                }),
                                e._v(
                                  " " +
                                    e._s(
                                      e.data.post_media
                                        .sharing_create_time_display
                                    ) +
                                    " "
                                ),
                              ]),
                            ],
                            2
                          ),
                        ]),
                      ]),
                    ]
                  )
                : e._e(),
            ]);
          },
          He = [
            function () {
              var e = this,
                t = e._self._c;
              return t("div", { staticStyle: { "padding-right": "8px" } }, [
                t("img", {
                  staticClass: "post-follower-icon",
                  attrs: { src: i(84193) },
                }),
              ]);
            },
            function () {
              var e = this,
                t = e._self._c;
              return t(
                "div",
                { staticClass: "post-function-icon-outer-netease" },
                [
                  t("img", {
                    staticClass: "post-icon-netease",
                    attrs: { src: i(95812) },
                  }),
                ]
              );
            },
            function () {
              var e = this,
                t = e._self._c;
              return t(
                "div",
                { staticClass: "post-function-icon-outer-bilibili" },
                [
                  t("img", {
                    staticClass: "post-icon-bilibili",
                    attrs: { src: i(6756) },
                  }),
                ]
              );
            },
            function () {
              var e = this,
                t = e._self._c;
              return t(
                "div",
                { staticClass: "post-function-icon-outer-vote" },
                [
                  t("img", {
                    staticClass: "post-icon-vote",
                    attrs: { src: i(73537) },
                  }),
                ]
              );
            },
            function () {
              var e = this,
                t = e._self._c;
              return t(
                "div",
                { staticClass: "post-function-icon-outer-miniapp" },
                [
                  t("img", {
                    staticClass: "post-icon-miniapp",
                    attrs: { src: i(29983) },
                  }),
                ]
              );
            },
            function () {
              var e = this,
                t = e._self._c;
              return t(
                "div",
                { staticClass: "post-function-icon-outer-article" },
                [
                  t("img", {
                    staticClass: "post-icon-article",
                    attrs: { src: i(36195) },
                  }),
                ]
              );
            },
            function () {
              var e = this,
                t = e._self._c;
              return t(
                "div",
                { staticClass: "post-function-icon-outer-file" },
                [
                  t("img", {
                    staticClass: "post-icon-file",
                    attrs: { src: i(90346) },
                  }),
                ]
              );
            },
            function () {
              var e = this,
                t = e._self._c;
              return t(
                "div",
                { staticClass: "post-function-icon-outer-miniapp" },
                [
                  t("img", {
                    staticClass: "post-icon-miniapp",
                    attrs: { src: i(29983) },
                  }),
                ]
              );
            },
          ];
        function Le(e) {
          var t = new Date(1e3 * e),
            i = new Date(),
            s = i.setHours(0, 0, 0, 0) - t.setHours(0, 0, 0, 0);
          return (
            (t = new Date(1e3 * e)),
            0 == s
              ? d.t("Time.today") +
                " " +
                String(t.getHours()).padStart(2, "0") +
                ":" +
                String(t.getMinutes()).padStart(2, "0")
              : 864e5 == s
              ? d.t("Time.yesterday") +
                " " +
                String(t.getHours()).padStart(2, "0") +
                ":" +
                String(t.getMinutes()).padStart(2, "0")
              : 1728e5 == s
              ? d.t("Time.the_day_before_yesterday") +
                " " +
                String(t.getHours()).padStart(2, "0") +
                ":" +
                String(t.getMinutes()).padStart(2, "0")
              : t.getYear() +
                1900 +
                "-" +
                (t.getMonth() + 1) +
                "-" +
                t.getDate() +
                " " +
                String(t.getHours()).padStart(2, "0") +
                ":" +
                String(t.getMinutes()).padStart(2, "0")
          );
        }
        function Ke(e) {
          const t = new Date(1e3 * e),
            i = t.getFullYear(),
            s = String(t.getMonth() + 1).padStart(2, "0"),
            n = String(t.getDate()).padStart(2, "0"),
            o = String(t.getHours()).padStart(2, "0"),
            a = String(t.getMinutes()).padStart(2, "0"),
            r = String(t.getSeconds()).padStart(2, "0"),
            l = `${i}-${s}-${n} ${o}:${a}:${r}`;
          return l;
        }
        var ze = {
            name: "UniOne",
            created() {
              const e =
                localStorage.getItem("language") ||
                navigator.language ||
                navigator.userLanguage;
              e.startsWith("zh") || (this.show_translate = !0),
                (this.sharing_author_src = i(24071)(
                  "./sharing-author-" +
                    localStorage.getItem("user_school_label") +
                    ".svg"
                )),
                (this.sharing_tag_src = i(90624)(
                  "./sharing-tag-" +
                    localStorage.getItem("user_school_label") +
                    ".svg"
                )),
                (this.sharing_time_src = i(18276)(
                  "./sharing-time-" +
                    localStorage.getItem("user_school_label") +
                    ".svg"
                ));
            },
            props: {
              type: String,
              data: Object,
              show_border: { type: Boolean, default: !0 },
            },
            data() {
              return {
                post_msg_en: "",
                is_translating: !1,
                loading_src: null,
                show_translate: !1,
                sharing_author_src: null,
                sharing_tag_src: null,
                sharing_time_src: null,
              };
            },
            methods: {
              translate() {
                const e = localStorage.getItem("user_school_label");
                (this.loading_src = e
                  ? i(44451)(
                      "./loading-" +
                        localStorage.getItem("user_school_label") +
                        ".svg"
                    )
                  : i(93005)),
                  (this.is_translating = !0),
                  Ne(this.data.post_msg).then((e) => {
                    (this.is_translating = !1), (this.post_msg_en = e);
                  });
              },
              nav2PostDetail() {
                console.log(this.data),
                  this.$router.push({
                    name: "post",
                    params: {
                      uni_post_id: this.data.uni_post_id,
                      post_detail: this.data,
                    },
                  });
              },
              nav2Article() {
                window.open(this.data.article_link);
              },
              nav2Org() {
                this.$router.push("/org/" + this.data.user_serial);
              },
              previewImage(e) {
                this.$hevueImgPreview({
                  url: e,
                  clickMaskCLose: !0,
                  controlBar: !1,
                });
              },
              addHKUGroup() {
                /(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)
                  ? (this.$loading.show(),
                    Ms("/hku/group/group/link", {
                      group_id: this.data.group_id,
                    }).then((e) => {
                      this.$loading.hide(),
                        e &&
                          setTimeout(() => {
                            window.open(e.link);
                          }, 10);
                    }))
                  : (y({ content: this.$t("MiddlePostDetail.hku_group_scan") }),
                    this.$hevueImgPreview({
                      url:
                        "https://i.boatonland.com/HKU/group/miniapp/" +
                        this.data.group_id +
                        ".png",
                      clickMaskCLose: !0,
                      controlBar: !1,
                    }));
              },
            },
          },
          qe = ze,
          We = (0, E.Z)(qe, Oe, He, !1, null, "ec97a62a", null),
          je = We.exports,
          Ge = function () {
            var e = this,
              t = e._self._c;
            return e.is_last
              ? t("div", { staticClass: "container-nomore" }, [
                  t("div", [e._v(e._s(e.$t("LoadMore.no_more")))]),
                ])
              : t("div", { staticClass: "container" }, [
                  t("img", {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: e.show,
                        expression: "show",
                      },
                    ],
                    staticClass: "icon",
                    attrs: { src: e.src },
                  }),
                ]);
          },
          Ve = [],
          Xe = {
            name: "UniLoadMore",
            created() {
              const e = localStorage.getItem("user_school_label");
              this.src = e
                ? i(44451)(
                    "./loading-" +
                      localStorage.getItem("user_school_label") +
                      ".svg"
                  )
                : i(93005);
            },
            props: { title: String, is_last: Boolean },
            data() {
              return { src: null, show: !0 };
            },
            methods: {},
          },
          Ze = Xe,
          Ye = (0, E.Z)(Ze, Ge, Ve, !1, null, "4db8d49c", null),
          Qe = Ye.exports,
          Je = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              {
                class: e.sticky ? "nav-bar-title sticky" : "nav-bar-title",
                style: e.show_back ? "" : "padding-left: 1.3rem",
              },
              [
                t("BackSvg", {
                  directives: [
                    {
                      name: "show",
                      rawName: "v-show",
                      value: e.show_back,
                      expression: "show_back",
                    },
                  ],
                  staticClass: "nav-bar-title-back",
                  nativeOn: {
                    click: function (t) {
                      return e.navBack.apply(null, arguments);
                    },
                  },
                }),
                t("div", { staticClass: "title" }, [e._v(e._s(e.title))]),
              ],
              1
            );
          },
          et = [],
          tt = function () {
            var e = this,
              t = e._self._c;
            return t(
              "svg",
              {
                staticClass: "icon",
                attrs: {
                  t: "1688019720418",
                  viewBox: "0 0 1142 1024",
                  version: "1.1",
                  xmlns: "http://www.w3.org/2000/svg",
                  "p-id": "4122",
                  width: "223.046875",
                  height: "200",
                  "xmlns:xlink": "http://www.w3.org/1999/xlink",
                },
              },
              [
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M1142.76662 421.476662H295.468175l318.64215-319.366337L512 0 0 512l512 512 102.110325-102.110325-354.851485-355.575672h883.50778v-144.837341z",
                    "p-id": "4123",
                  },
                }),
              ]
            );
          },
          it = [],
          st = {},
          nt = (0, E.Z)(st, tt, it, !1, null, null, null),
          ot = nt.exports,
          at = {
            name: "UniNavbar",
            components: { BackSvg: ot },
            props: {
              title: String,
              url: String,
              show_back: { type: Boolean, default: !0 },
              sticky: { type: Boolean, default: !0 },
            },
            methods: {
              navBack() {
                this.url
                  ? this.$router.push(this.url)
                  : window.history.length <= 1
                  ? this.$router.push("/home")
                  : this.$router.back();
              },
            },
          },
          rt = at,
          lt = (0, E.Z)(rt, Je, et, !1, null, "762105d7", null),
          ct = lt.exports,
          ut = i(12454),
          dt = {
            name: "UniMiddleHome",
            components: {
              One: je,
              LoadMore: Qe,
              Navbar: ct,
              Swiper: ut.t,
              Slide: ut.M,
            },
            created() {
              this.$loading.show(),
                this.getTopic(),
                this.getBanner(),
                this.getPostPre();
            },
            activated() {
              window.addEventListener("scroll", this.handleScroll),
                window.addEventListener("resize", this.handleScreenWidthChange),
                this.handleScreenWidthChange(),
                "refresh" == this.$route.query.method &&
                  (this.$loading.show(),
                  window.scrollTo(0, 0),
                  (this.page = 0),
                  (this.is_loading_more = !0),
                  (this.current_topic_index = 2),
                  this.getPostPre(),
                  this.$router.replace("/home"));
              const e = localStorage.getItem("user_school_label");
              "HKU" == e &&
                ((this.title = this.$t("AppName.HKU")),
                (document.title =
                  this.$t("MiddleHome.title") +
                  " / " +
                  this.$t("AppNameTitle.HKU"))),
                "CUHK" == e &&
                  ((this.title = this.$t("AppName.CUHK")),
                  (document.title =
                    this.$t("MiddleHome.title") +
                    " / " +
                    this.$t("AppNameTitle.CUHK"))),
                "UST" == e &&
                  ((this.title = this.$t("AppName.UST")),
                  (document.title =
                    this.$t("MiddleHome.title") +
                    " / " +
                    this.$t("AppNameTitle.UST")));
            },
            deactivated() {
              window.removeEventListener("scroll", this.handleScroll),
                window.removeEventListener(
                  "resize",
                  this.handleScreenWidthChange
                );
            },
            data() {
              return {
                title: "",
                current_topic_index: 2,
                page: 0,
                topic_list: [
                  { topic: "👀", topic_show: "👀" },
                  { topic: "🔥", topic_show: "🔥" },
                  {
                    topic: this.$t("MiddleHome.topic_all"),
                    topic_show: this.$t("MiddleHome.topic_all"),
                  },
                ],
                banner_list: [],
                show_banner: !1,
                one_list: [],
                is_last: !1,
                is_loading_more: !1,
                finishRefresh: null,
              };
            },
            methods: {
              getTopic() {
                Ms("/info/gettopic").then((e) => {
                  e &&
                    (this.topic_list = this.topic_list.concat(
                      e.topic_list.map((e) => ({ topic: e, topic_show: Ue(e) }))
                    ));
                });
              },
              getBanner() {
                Ms("/info/banner").then((e) => {
                  e && (this.banner_list = e.banner_list);
                });
              },
              switchTopic(e) {
                window.scrollTo(0, 0),
                  (this.page = 0),
                  (this.current_topic_index = e),
                  this.$loading.show(),
                  this.getPostPre();
              },
              getPostPre() {
                0 == this.current_topic_index
                  ? this.getPostByLatest()
                  : 1 == this.current_topic_index
                  ? this.getPostByHot()
                  : 2 == this.current_topic_index
                  ? this.getPostByAll()
                  : this.getPostByTopic();
              },
              getPostByAll() {
                Ms("/post/list/all", { page: this.page }).then((e) => {
                  this.$loading.hide(),
                    this.finishRefresh && this.finishRefresh(),
                    e &&
                      ((this.is_loading_more = !1),
                      (this.is_last = e.is_last),
                      e.one_list.forEach((e) => {
                        "post" == e.type &&
                          (e.data.post_topic = Ue(e.data.post_topic));
                      }),
                      0 == this.page
                        ? (this.one_list = e.one_list)
                        : (this.one_list = this.one_list.concat(e.one_list)));
                });
              },
              getPostByTopic() {
                Ms("/post/list/topic", {
                  post_topic: this.topic_list[this.current_topic_index].topic,
                  page: this.page,
                }).then((e) => {
                  this.$loading.hide(),
                    this.finishRefresh && this.finishRefresh(),
                    e &&
                      ((this.is_loading_more = !1),
                      (this.is_last = e.is_last),
                      e.one_list.forEach((e) => {
                        "post" == e.type &&
                          (e.data.post_topic = Ue(e.data.post_topic));
                      }),
                      0 == this.page
                        ? (this.one_list = e.one_list)
                        : (this.one_list = this.one_list.concat(e.one_list)));
                });
              },
              getPostByLatest() {
                Ms("/post/list/latest", { page: this.page }).then((e) => {
                  this.$loading.hide(),
                    this.finishRefresh && this.finishRefresh(),
                    e &&
                      ((this.is_loading_more = !1),
                      (this.is_last = e.is_last),
                      e.one_list.forEach((e) => {
                        "post" == e.type &&
                          (e.data.post_topic = Ue(e.data.post_topic));
                      }),
                      0 == this.page
                        ? (this.one_list = e.one_list)
                        : (this.one_list = this.one_list.concat(e.one_list)));
                });
              },
              getPostByHot() {
                Ms("/post/list/hot", { page: this.page }).then((e) => {
                  this.$loading.hide(),
                    this.finishRefresh && this.finishRefresh(),
                    e &&
                      ((this.is_loading_more = !1),
                      (this.is_last = e.is_last),
                      e.one_list.forEach((e) => {
                        "post" == e.type &&
                          (e.data.post_topic = Ue(e.data.post_topic));
                      }),
                      0 == this.page
                        ? (this.one_list = e.one_list)
                        : (this.one_list = this.one_list.concat(e.one_list)));
                });
              },
              onRefresh(e) {
                (this.finishRefresh = e),
                  (this.page = 0),
                  (this.is_loading_more = !0),
                  this.getPostPre();
              },
              loadMore() {
                this.is_loading_more ||
                  this.is_last ||
                  ((this.is_loading_more = !0),
                  (this.page = this.page + 1),
                  this.getPostPre());
              },
              handleScroll() {
                const e = document.documentElement.scrollHeight,
                  t =
                    document.documentElement.scrollTop ||
                    document.body.scrollTop,
                  i = document.documentElement.clientHeight;
                t + i >= e - 1400 && this.loadMore();
              },
              handleScreenWidthChange() {
                window.innerWidth <= 700
                  ? (this.show_banner = !0)
                  : (this.show_banner = !1);
              },
              onTapBanner(e) {
                switch (e.banner_type) {
                  case "article":
                    window.open(e.article_link);
                    break;
                  case "post":
                    this.$router.push("/post/" + e.uni_post_id);
                    break;
                  case "inner":
                    notice({ content: this.$t("Banner.inner") });
                    break;
                  case "miniapp":
                    notice({ content: this.$t("Banner.miniapp") });
                    break;
                  case "report2023":
                    /(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)
                      ? window.open("https://wxaurl.cn/aEqHCMrE15b")
                      : this.$hevueImgPreview({
                          url: "https://i.boatonland.com/HKU/post/BhAKpz7YnESXseP6tQsjz2z2BDNPK7w3.png",
                          clickMaskCLose: !0,
                          controlBar: !1,
                        });
                  case "none":
                  default:
                    break;
                }
              },
            },
          },
          ht = dt,
          pt = (0, E.Z)(ht, Ie, Fe, !1, null, "4a256304", null),
          _t = pt.exports,
          mt = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { staticStyle: { width: "100%" } },
              [
                t("div", { staticClass: "nav-bar-title sticky" }, [
                  t("div", { staticClass: "input-outer" }, [
                    t(
                      "label",
                      {
                        class: e.is_focus
                          ? "input-container input-container-focus"
                          : "input-container",
                      },
                      [
                        t(
                          "div",
                          { staticStyle: { display: "flex", width: "100%" } },
                          [
                            t("SearchSvg", {
                              staticClass: "input-icon-search",
                            }),
                            t("ClearSvg", {
                              directives: [
                                {
                                  name: "show",
                                  rawName: "v-show",
                                  value: e.is_focus && e.key_word,
                                  expression: "is_focus && key_word",
                                },
                              ],
                              staticClass: "input-icon-clear",
                              nativeOn: {
                                click: function (t) {
                                  return e.clear.apply(null, arguments);
                                },
                              },
                            }),
                            t("input", {
                              directives: [
                                {
                                  name: "model",
                                  rawName: "v-model",
                                  value: e.key_word,
                                  expression: "key_word",
                                },
                              ],
                              ref: "input",
                              staticClass: "input",
                              attrs: {
                                placeholder: e.placeholder,
                                id: "searchInput",
                              },
                              domProps: { value: e.key_word },
                              on: {
                                keyup: function (t) {
                                  return !t.type.indexOf("key") &&
                                    e._k(t.keyCode, "enter", 13, t.key, "Enter")
                                    ? null
                                    : e.search.apply(null, arguments);
                                },
                                focus: e.focus,
                                input: [
                                  function (t) {
                                    t.target.composing ||
                                      (e.key_word = t.target.value);
                                  },
                                  e.getSearchSuggestion,
                                ],
                                blur: e.blur,
                              },
                            }),
                          ],
                          1
                        ),
                        t(
                          "div",
                          {
                            directives: [
                              {
                                name: "show",
                                rawName: "v-show",
                                value: e.is_focus,
                                expression: "is_focus",
                              },
                            ],
                          },
                          e._l(e.search_suggestion_list, function (i, s) {
                            return t(
                              "div",
                              {
                                key: s,
                                class:
                                  s == e.search_suggestion_list.length - 1
                                    ? s == e.suggestion_index
                                      ? "search-suggestion-item search-suggestion-item-last search-suggestion-item-selected "
                                      : "search-suggestion-item  search-suggestion-item-last"
                                    : s == e.suggestion_index
                                    ? "search-suggestion-item search-suggestion-item-selected"
                                    : "search-suggestion-item",
                                on: {
                                  click: function (t) {
                                    return e.selectSuggestion(s);
                                  },
                                },
                              },
                              [
                                e._v(e._s(i.before)),
                                t(
                                  "span",
                                  {
                                    staticClass: "search-suggestion-item-bold",
                                  },
                                  [e._v(e._s(i.matched))]
                                ),
                                e._v(e._s(i.after)),
                              ]
                            );
                          }),
                          0
                        ),
                      ]
                    ),
                  ]),
                  t(
                    "div",
                    { staticClass: "topic-tab" },
                    e._l(e.search_mode_list, function (i, s) {
                      return t(
                        "button",
                        {
                          key: s,
                          class:
                            e.search_mode_index == s
                              ? "topic-button active"
                              : "topic-button",
                          on: {
                            click: function (t) {
                              return e.switchSearchMode(s);
                            },
                          },
                        },
                        [e._v(e._s(i.text))]
                      );
                    }),
                    0
                  ),
                ]),
                t(
                  "Refresh",
                  { attrs: { "on-refresh": e.onRefresh } },
                  [
                    e.aisearch_detail
                      ? t("div", { staticClass: "pm-container" }, [
                          t("div", { staticClass: "pm-main" }, [
                            t("img", {
                              staticClass: "pm-avatar",
                              attrs: {
                                src: "https://i.boatonland.com/avatar/chatbot.svg",
                              },
                            }),
                            t("div", { staticClass: "pm-msg" }, [
                              t(
                                "div",
                                { staticClass: "pm-msg-text-container" },
                                [
                                  t("div", { staticClass: "pm-msg-text" }, [
                                    t("span", {
                                      staticStyle: {
                                        "max-width": "100%",
                                        "overflow-x": "hidden",
                                      },
                                      domProps: {
                                        innerHTML: e._s(
                                          e.ai_answer_html
                                            ? e.ai_answer_html
                                            : "<p>" +
                                                this.$t(
                                                  "RightChatbot.loading"
                                                ) +
                                                "</p>"
                                        ),
                                      },
                                    }),
                                  ]),
                                ]
                              ),
                            ]),
                          ]),
                        ])
                      : e._e(),
                    e._l(e.one_list, function (e, i) {
                      return t("One", {
                        key: i,
                        attrs: { type: e.type, data: e.data },
                      });
                    }),
                    t("LoadMore", {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: e.is_loading_more || e.is_last,
                          expression: "is_loading_more || is_last",
                        },
                      ],
                      attrs: { is_last: e.is_last },
                    }),
                  ],
                  2
                ),
              ],
              1
            );
          },
          gt = [],
          ft = i(90175),
          vt = i.n(ft),
          yt = function () {
            var e = this,
              t = e._self._c;
            return t(
              "svg",
              {
                staticClass: "icon",
                attrs: {
                  t: "1688047706414",
                  viewBox: "0 0 1024 1024",
                  version: "1.1",
                  xmlns: "http://www.w3.org/2000/svg",
                  "p-id": "8375",
                  "xmlns:xlink": "http://www.w3.org/1999/xlink",
                  width: "200",
                  height: "200",
                },
              },
              [
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M685.4 354.8c0-4.4-3.6-8-8-8l-66 0.3L512 465.6l-99.3-118.4-66.1-0.3c-4.4 0-8 3.5-8 8 0 1.9 0.7 3.7 1.9 5.2l130.1 155L340.5 670c-1.2 1.5-1.9 3.3-1.9 5.2 0 4.4 3.6 8 8 8l66.1-0.3L512 564.4l99.3 118.4 66 0.3c4.4 0 8-3.5 8-8 0-1.9-0.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z",
                    "p-id": "8376",
                  },
                }),
                t("path", {
                  staticClass: "fill",
                  attrs: {
                    d: "M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",
                    "p-id": "8377",
                  },
                }),
              ]
            );
          },
          wt = [],
          Ct = {},
          bt = (0, E.Z)(Ct, yt, wt, !1, null, null, null),
          kt = bt.exports,
          xt = {
            name: "UniMiddleSearchNew",
            components: { One: je, LoadMore: Qe, SearchSvg: J, ClearSvg: kt },
            created() {
              (this.key_word = this.$route.params.key_word),
                this.$loading.show(),
                this.getPostPre(),
                this.getPlaceholder();
              const e = localStorage.getItem("user_school_label");
              this.key_word
                ? ("HKU" == e &&
                    (this.title =
                      this.key_word +
                      " - " +
                      this.$t("MiddleSearch.title") +
                      " / " +
                      this.$t("AppNameTitle.HKU")),
                  "CUHK" == e &&
                    (this.title =
                      this.key_word +
                      " - " +
                      this.$t("MiddleSearch.title") +
                      " / " +
                      this.$t("AppNameTitle.CUHK")),
                  "UST" == e &&
                    (this.title =
                      this.key_word +
                      " - " +
                      this.$t("MiddleSearch.title") +
                      " / " +
                      this.$t("AppNameTitle.UST")))
                : ("HKU" == e &&
                    (this.title =
                      this.$t("MiddleSearch.title") +
                      " / " +
                      this.$t("AppNameTitle.HKU")),
                  "CUHK" == e &&
                    (this.title =
                      this.$t("MiddleSearch.title") +
                      " / " +
                      this.$t("AppNameTitle.CUHK")),
                  "UST" == e &&
                    (this.title =
                      this.$t("MiddleSearch.title") +
                      " / " +
                      this.$t("AppNameTitle.UST")));
            },
            activated() {
              if (
                (window.addEventListener("scroll", this.handleScroll),
                document.addEventListener("keydown", this.wathcKeyboard),
                "refresh" == this.$route.query.method &&
                  ((this.key_word = this.$route.params.key_word),
                  window.scrollTo(0, 0),
                  (this.page = 0),
                  (this.is_loading_more = !0),
                  this.getPostPre(),
                  this.$router.replace({
                    path: this.$route.path,
                    params: this.$route.params,
                  })),
                this.title)
              )
                document.title = this.title;
              else {
                const e = localStorage.getItem("user_school_label");
                "HKU" == e &&
                  (document.title =
                    this.$t("MiddleSearch.title") +
                    " / " +
                    this.$t("AppNameTitle.HKU")),
                  "CUHK" == e &&
                    (document.title =
                      this.$t("MiddleSearch.title") +
                      " / " +
                      this.$t("AppNameTitle.CUHK")),
                  "UST" == e &&
                    (document.title =
                      this.$t("MiddleSearch.title") +
                      " / " +
                      this.$t("AppNameTitle.UST"));
              }
            },
            deactivated() {
              window.removeEventListener("scroll", this.handleScroll),
                document.removeEventListener("keydown", this.wathcKeyboard);
            },
            data() {
              return {
                search_mode_index: 0,
                page: 0,
                key_word: "",
                last_key_word: "",
                placeholder: this.$t("MiddleSearch.placeholder"),
                search_mode_list: [
                  { mode: "default", text: this.$t("MiddleSearch.default") },
                  { mode: "latest", text: this.$t("MiddleSearch.latest") },
                  { mode: "hot", text: this.$t("MiddleSearch.hot") },
                ],
                one_list: [],
                is_last: !1,
                is_loading_more: !1,
                finishRefresh: null,
                is_focus: !1,
                title: "",
                search_suggestion_list: [],
                suggestion_index: -1,
                suggestion_keyword: "",
                orginal_key_word: "",
                aisearch_detail: null,
                ai_is_getting_answer: !1,
                ai_answer: "",
                ai_answer_html: "",
              };
            },
            methods: {
              clear() {
                (this.key_word = ""), window.scrollTo(0, 0);
              },
              focus() {
                (this.is_focus = !0),
                  (this.suggestion_index = -1),
                  this.getSearchSuggestion();
              },
              blur() {
                setTimeout(() => {
                  (this.is_focus = !1), (this.suggestion_index = -1);
                }, 100);
              },
              wathcKeyboard(e) {
                if (!this.is_focus) return;
                let t = document.all ? window.event : e;
                if (40 === t.keyCode) {
                  if (
                    this.suggestion_index >=
                    this.search_suggestion_list.length - 1
                  )
                    return;
                  (this.suggestion_index += 1),
                    -1 == this.suggestion_index
                      ? (this.key_word = "")
                      : (this.key_word =
                          this.search_suggestion_list[
                            this.suggestion_index
                          ].orginal),
                    setTimeout(() => {
                      var e = document.getElementById("searchInput");
                      e.focus(),
                        e.setSelectionRange(e.value.length, e.value.length);
                    }, 10);
                } else if (38 === t.keyCode) {
                  if (this.suggestion_index <= -1) return;
                  (this.suggestion_index -= 1),
                    -1 == this.suggestion_index
                      ? (this.key_word = this.orginal_key_word)
                      : (this.key_word =
                          this.search_suggestion_list[
                            this.suggestion_index
                          ].orginal),
                    setTimeout(() => {
                      var e = document.getElementById("searchInput");
                      e.focus(),
                        e.setSelectionRange(e.value.length, e.value.length);
                    }, 10);
                }
              },
              selectSuggestion(e) {
                (this.key_word = this.search_suggestion_list[e].orginal),
                  this.search();
              },
              switchSearchMode(e) {
                window.scrollTo(0, 0),
                  (this.page = 0),
                  (this.search_mode_index = e),
                  this.$loading.show(),
                  this.getPostPre();
              },
              getAiSearchResult() {
                if (this.ai_is_getting_answer) return;
                (this.ai_is_getting_answer = !0),
                  (this.ai_answer = ""),
                  (this.ai_answer_html = "");
                const e =
                    "https://chat.tripleuni.com/search.php?id=" +
                    this.aisearch_detail.ai_search_id +
                    "&token=" +
                    localStorage.getItem("token"),
                  t = new EventSource(e);
                t.addEventListener("open", (e) => {}),
                  t.addEventListener("message", (e) => {
                    try {
                      var t = JSON.parse(e.data);
                      t.content &&
                        ((this.ai_answer += t.content),
                        (this.ai_answer_html = vt().parse(this.ai_answer)));
                    } catch (i) {
                      console.log(i);
                    }
                  }),
                  t.addEventListener("error", (e) => {}),
                  t.addEventListener("close", (e) => {
                    t.close(),
                      (this.ai_is_getting_answer = !1),
                      (this.ai_answer += "  \n  \n参考链接："),
                      (this.ai_answer_html = vt().parse(this.ai_answer)),
                      this.aisearch_detail.reference_list.map((e, t) => {
                        (this.ai_answer +=
                          "  \n[" +
                          (t + 1) +
                          "] [" +
                          e.title +
                          "](" +
                          e.link +
                          ")"),
                          (this.ai_answer_html = vt().parse(this.ai_answer));
                      });
                  });
              },
              search() {
                this.$loading.show(),
                  this.$router.push("/search/" + this.key_word),
                  this.$refs.input.blur(),
                  (this.suggestion_index = -1),
                  (this.orginal_key_word = ""),
                  this.getPostPre(),
                  this.getPlaceholder();
              },
              getSearchSuggestion() {
                (this.is_focus = !0),
                  (this.orginal_key_word = this.key_word),
                  (this.suggestion_index = -1);
                const e = this.key_word;
                Ms("/info/searchsuggestion", { key_word: e }).then((t) => {
                  t &&
                    e == this.key_word &&
                    ((this.search_suggestion_list = []),
                    t.search_suggestion_list.forEach((e) => {
                      var t = e.split(new RegExp(this.key_word, "i"));
                      this.search_suggestion_list.push({
                        orginal: e,
                        before: t[0],
                        matched: this.key_word,
                        after: t[1],
                      });
                    }));
                });
              },
              getPostPre() {
                this.last_key_word != this.key_word &&
                  ((this.last_key_word = this.key_word),
                  window.scrollTo(0, 0),
                  (this.page = 0)),
                  this.key_word
                    ? this.getPostBySearch()
                    : this.getPostByTopic();
              },
              getPostBySearch() {
                Ms("/post/list/search", {
                  key_word: this.key_word,
                  search_mode:
                    this.search_mode_list[this.search_mode_index].mode,
                  page: this.page,
                }).then((e) => {
                  this.$loading.hide(),
                    this.finishRefresh && this.finishRefresh(),
                    e &&
                      ((this.is_loading_more = !1),
                      (this.is_last = e.is_last),
                      e.one_list.forEach((e) => {
                        "post" == e.type &&
                          (e.data.post_topic = Ue(e.data.post_topic));
                      }),
                      0 == this.page
                        ? (this.one_list = e.one_list)
                        : (this.one_list = this.one_list.concat(e.one_list)),
                      e.aisearch_detail
                        ? ((this.aisearch_detail = e.aisearch_detail),
                          this.getAiSearchResult())
                        : 0 == this.page && (this.aisearch_detail = null));
                });
              },
              getPostByTopic() {
                const e = localStorage.getItem("user_school_label");
                var t = "";
                "HKU" == e && (t = "ONE"),
                  "CUHK" == e && (t = "猫抓板"),
                  "UST" == e && (t = "小火鸟"),
                  Ms("/post/list/topic", {
                    post_topic: t,
                    page: this.page,
                  }).then((e) => {
                    this.$loading.hide(),
                      this.finishRefresh && this.finishRefresh(),
                      e &&
                        ((this.is_loading_more = !1),
                        (this.is_last = e.is_last),
                        e.one_list.forEach((e) => {
                          "post" == e.type &&
                            (e.data.post_topic = Ue(e.data.post_topic));
                        }),
                        0 == this.page
                          ? (this.one_list = e.one_list)
                          : (this.one_list = this.one_list.concat(e.one_list)));
                  });
              },
              getPlaceholder() {
                Ms("/info/placeholder").then((e) => {
                  e &&
                    Ne(e.placeholder).then((e) => {
                      this.placeholder = e;
                    });
                });
              },
              onRefresh(e) {
                (this.finishRefresh = e),
                  (this.page = 0),
                  (this.is_loading_more = !0),
                  this.getPostPre();
              },
              loadMore() {
                this.is_loading_more ||
                  this.is_last ||
                  ((this.is_loading_more = !0),
                  (this.page = this.page + 1),
                  this.getPostPre());
              },
              handleScroll() {
                const e = document.documentElement.scrollHeight,
                  t =
                    document.documentElement.scrollTop ||
                    document.body.scrollTop,
                  i = document.documentElement.clientHeight;
                t + i >= e - 1400 && this.loadMore();
              },
            },
          },
          Dt = xt,
          St = (0, E.Z)(Dt, mt, gt, !1, null, "41a0d654", null),
          At = St.exports,
          Et = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { staticStyle: { width: "100%" } },
              [
                t("Navbar", {
                  attrs: {
                    title: e.$t("MiddleNotice.title"),
                    show_back: e.show_back,
                  },
                }),
                t(
                  "Refresh",
                  { attrs: { "on-refresh": e.onRefresh } },
                  [
                    e._l(e.notice_list, function (i, s) {
                      return t(
                        "div",
                        {
                          key: s,
                          staticClass: "notice-outer",
                          on: {
                            click: function (t) {
                              return e.readNotice(i);
                            },
                          },
                        },
                        [
                          t("div", {
                            directives: [
                              {
                                name: "show",
                                rawName: "v-show",
                                value: !i.notice_is_read,
                                expression: "!notice.notice_is_read",
                              },
                            ],
                            staticClass: "notice-tip",
                          }),
                          "post_new_comment" == i.notice_type
                            ? t("div", { staticClass: "notice-msg" }, [
                                e._v(
                                  e._s(
                                    e.$t("MiddleNotice.post_new_comment", {
                                      post_id: i.notice_data.post_id,
                                    })
                                  )
                                ),
                              ])
                            : "comment_new_reply" == i.notice_type
                            ? t("div", { staticClass: "notice-msg" }, [
                                e._v(
                                  e._s(
                                    e.$t("MiddleNotice.comment_new_reply", {
                                      post_id: i.notice_data.post_id,
                                    })
                                  )
                                ),
                              ])
                            : "follow_post_update" == i.notice_type
                            ? t("div", { staticClass: "notice-msg" }, [
                                e._v(
                                  e._s(
                                    e.$t("MiddleNotice.follow_post_update", {
                                      post_id: i.notice_data.post_id,
                                    })
                                  )
                                ),
                              ])
                            : t("div", { staticClass: "notice-msg" }, [
                                e._v(e._s(e.$t("MiddleNotice.default"))),
                              ]),
                          t("div", { staticClass: "notice-time" }, [
                            e._v(e._s(i.notice_create_time_display)),
                          ]),
                        ]
                      );
                    }),
                    t("LoadMore", {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: e.is_loading_more || e.is_last,
                          expression: "is_loading_more || is_last",
                        },
                      ],
                      attrs: { is_last: e.is_last },
                    }),
                  ],
                  2
                ),
              ],
              1
            );
          },
          Tt = [],
          Bt = {
            name: "UniMiddleNotice",
            components: { Navbar: ct, LoadMore: Qe },
            created() {
              this.$loading.show(), this.getNotice();
            },
            activated() {
              window.addEventListener("scroll", this.handleScroll, !0),
                window.addEventListener("resize", this.handleScreenWidthChange),
                this.handleScreenWidthChange(),
                "refresh" == this.$route.query.method &&
                  (this.$loading.show(),
                  window.scrollTo(0, 0),
                  (this.page = 0),
                  (this.is_loading_more = !0),
                  this.getNotice(),
                  this.$router.replace("/notice"));
              const e = localStorage.getItem("user_school_label");
              "HKU" == e &&
                (document.title =
                  this.$t("MiddleNotice.title") +
                  " / " +
                  this.$t("AppNameTitle.HKU")),
                "CUHK" == e &&
                  (document.title =
                    this.$t("MiddleNotice.title") +
                    " / " +
                    this.$t("AppNameTitle.CUHK")),
                "UST" == e &&
                  (document.title =
                    this.$t("MiddleNotice.title") +
                    " / " +
                    this.$t("AppNameTitle.UST"));
            },
            deactivated() {
              window.removeEventListener("scroll", this.handleScroll, !0),
                window.removeEventListener(
                  "resize",
                  this.handleScreenWidthChange
                );
            },
            data() {
              return {
                page: 0,
                notice_list: [],
                is_last: !1,
                is_loading_more: !1,
                finishRefresh: null,
                show_back: !1,
              };
            },
            methods: {
              getNotice() {
                Ms("/notice/get", { page: this.page }).then((e) => {
                  this.$loading.hide(),
                    this.finishRefresh && this.finishRefresh(),
                    e &&
                      ((this.is_loading_more = !1),
                      (this.is_last = e.is_last),
                      e.notice_list.forEach((e) => {
                        e.notice_create_time_display = Le(e.notice_create_time);
                      }),
                      0 == this.page
                        ? (this.notice_list = e.notice_list)
                        : (this.notice_list = this.notice_list.concat(
                            e.notice_list
                          )));
                });
              },
              readNotice(e) {
                (this.notice_list = this.notice_list.map(
                  (t) => (
                    t.notice_url == e.notice_url &&
                      t.notice_type == e.notice_type &&
                      (t.notice_is_read = !0),
                    t
                  )
                )),
                  e.notice_data.uni_post_id &&
                    this.$router.push("/post/" + e.notice_data.uni_post_id),
                  Ms("/notice/read", { notice_id: e.notice_id }).then((e) => {
                    e && k();
                  });
              },
              onRefresh(e) {
                (this.finishRefresh = e),
                  (this.page = 0),
                  (this.is_loading_more = !0),
                  this.getNotice();
              },
              loadMore() {
                this.is_loading_more ||
                  this.is_last ||
                  ((this.is_loading_more = !0),
                  (this.page = this.page + 1),
                  this.getNotice());
              },
              handleScroll() {
                const e = document.documentElement.scrollHeight,
                  t =
                    document.documentElement.scrollTop ||
                    document.body.scrollTop,
                  i = document.documentElement.clientHeight;
                t + i >= e - 1400 && this.loadMore();
              },
              handleScreenWidthChange() {
                window.innerWidth <= 700
                  ? (this.show_back = !0)
                  : (this.show_back = !1);
              },
            },
          },
          $t = Bt,
          Rt = (0, E.Z)($t, Et, Tt, !1, null, "d1390eca", null),
          Mt = Rt.exports,
          Pt = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { staticStyle: { width: "100%" } },
              [
                t("Navbar", {
                  attrs: { title: e.$t("MiddlePm.title"), show_back: !1 },
                }),
                t(
                  "div",
                  {
                    staticClass: "pm-outer-notice",
                    on: {
                      click: function (t) {
                        return e.nav2("/notice", { method: "refresh" });
                      },
                    },
                  },
                  [
                    t("img", {
                      staticClass: "pm-avatar",
                      attrs: {
                        src: "https://i.boatonland.com/notification.png",
                      },
                    }),
                    t("div", { staticClass: "pm-main" }, [
                      t("div", { staticClass: "pm-info notice" }, [
                        t(
                          "div",
                          {
                            staticClass: "pm-info-alias notice",
                            staticStyle: { flex: "1", "max-width": "none" },
                          },
                          [e._v(" " + e._s(e.$t("MiddleNotice.title")))]
                        ),
                        e.unread_notice > 0
                          ? t("div", { staticClass: "pm-content-tip notice" }, [
                              e._v(e._s(e.unread_notice)),
                            ])
                          : e._e(),
                      ]),
                    ]),
                  ]
                ),
                t(
                  "div",
                  {
                    class:
                      "/chat/chatbot" == e.$route.path
                        ? "pm-outer pm-outer-active"
                        : "pm-outer",
                    on: {
                      click: function (t) {
                        return e.nav2("/chat/chatbot");
                      },
                    },
                  },
                  [
                    t("img", {
                      staticClass: "pm-avatar",
                      attrs: {
                        src: "https://i.boatonland.com/avatar/chatbot.svg",
                      },
                    }),
                    t("div", { staticClass: "pm-main" }, [
                      t("div", { staticClass: "pm-info" }, [
                        t("div", { staticClass: "pm-info-alias" }, [
                          e._v(" " + e._s(e.$t("MiddlePm.chatbot_name"))),
                        ]),
                      ]),
                      t("div", { staticClass: "pm-content" }, [
                        t("div", { staticClass: "pm-content-msg" }, [
                          e._v(e._s(this.$t("MiddlePm.chatbot_intro"))),
                        ]),
                      ]),
                    ]),
                  ]
                ),
                e._l(e.chat_list, function (i, s) {
                  return t(
                    "div",
                    {
                      key: s,
                      class:
                        e.$route.path == "/chat/" + i.chat_id
                          ? "pm-outer pm-outer-active"
                          : "pm-outer",
                      on: {
                        click: function (t) {
                          return e.nav2("/chat/" + i.chat_id);
                        },
                        contextmenu: function (t) {
                          return t.preventDefault(), e.rightClick(t, i);
                        },
                      },
                    },
                    [
                      t("img", {
                        staticClass: "pm-avatar",
                        attrs: {
                          src:
                            "https://i.boatonland.com/avatar/" +
                            i.user_avatar +
                            ".svg",
                        },
                      }),
                      t("div", { staticClass: "pm-main" }, [
                        t("div", { staticClass: "pm-info" }, [
                          t("div", { staticClass: "pm-info-alias" }, [
                            e._v(" " + e._s(i.user_alias)),
                          ]),
                          t("div", { staticClass: "pm-info-time" }, [
                            e._v(e._s(e.formatTime(i.chat_update_time))),
                          ]),
                        ]),
                        t("div", { staticClass: "pm-content" }, [
                          t("div", { staticClass: "pm-content-msg" }, [
                            e._v(e._s(i.chat_latest_msg)),
                          ]),
                          i.chat_unread_count > 0
                            ? t("div", { staticClass: "pm-content-tip" }, [
                                e._v(e._s(i.chat_unread_count)),
                              ])
                            : e._e(),
                        ]),
                      ]),
                    ]
                  );
                }),
              ],
              2
            );
          },
          It = [],
          Ft = i(38626),
          Ut = i(93682),
          Nt = {
            name: "UniMiddlePm",
            components: { Navbar: ct },
            setup() {
              return {
                chat_list: (0, Ft.mA)(
                  (0, Ut.Y1)(
                    async () =>
                      await Ns.chat
                        .orderBy("chat_update_time")
                        .reverse()
                        .toArray()
                  )
                ),
              };
            },
            mounted() {
              this.updateUnreadCount(),
                window.addEventListener("updateUnreadNotice", () => {
                  this.updateUnreadCount();
                });
            },
            data() {
              return {
                selected_chat_id: null,
                is_long_press: !1,
                unread_notice: 0,
              };
            },
            methods: {
              nav2(e, t = {}) {
                this.$router.push({ path: e, query: t });
              },
              delete() {
                const e = this.selected_chat_id;
                (this.selected_chat_id = null),
                  this.$modal.show({
                    title: this.$t("MiddlePm.delete_modal_title"),
                    content: this.$t("MiddlePm.delete_modal_content"),
                    show_cancel: !0,
                    success: (t) => {
                      t &&
                        (y({
                          content: this.$t("MiddlePm.delete_modal_confirm"),
                        }),
                        Ns.chat.delete(e),
                        Ms("/pm/chat/ban", { chat_id: e }));
                    },
                  });
              },
              rightClick(e, t) {
                return (
                  console.log(e),
                  (this.selected_chat_id = t.chat_id),
                  this.$contextmenu({
                    items: [
                      {
                        label: this.$t("MiddlePm.delete"),
                        onClick: () => {
                          this.delete();
                        },
                      },
                    ],
                    event: e,
                    customClass: "menu-theme",
                    zIndex: 99,
                    minWidth: 150,
                  }),
                  !1
                );
              },
              touchStart(e, t) {
                (this.is_long_press = !1),
                  (this.timer = setTimeout(() => {
                    this.is_long_press = !0;
                    const i = new PointerEvent("pointerdown", {
                      pointerId: e.touches[0].identifier,
                      clientX: e.touches[0].clientX,
                      clientY: e.touches[0].clientY,
                    });
                    this.rightClick(i, t);
                  }, 500));
              },
              touchEnd(e) {
                clearTimeout(this.timer),
                  this.is_long_press || this.$router.push("/chat/" + e.chat_id);
              },
              formatTime(e) {
                return Le(e);
              },
              updateUnreadCount() {
                this.unread_notice = localStorage.getItem("unread_notice");
              },
            },
          },
          Ot = Nt,
          Ht = (0, E.Z)(Ot, Pt, It, !1, null, "668e9bb4", null),
          Lt = Ht.exports,
          Kt = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { staticStyle: { width: "100%" } },
              [
                t("div", { staticClass: "header-container" }, [
                  t(
                    "div",
                    {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: e.user_info,
                          expression: "user_info",
                        },
                      ],
                      staticClass: "user-outer",
                    },
                    [
                      t("div", { staticClass: "user-left-container" }, [
                        t("img", {
                          directives: [
                            {
                              name: "show",
                              rawName: "v-show",
                              value: e.user_info.user_avatar,
                              expression: "user_info.user_avatar",
                            },
                          ],
                          staticClass: "user-avatar",
                          attrs: {
                            src:
                              "https://i.boatonland.com/avatar/" +
                              e.user_info.user_avatar +
                              ".svg",
                          },
                        }),
                        t("div", { staticClass: "user-serial" }, [
                          e._v(e._s(e.user_info.user_serial)),
                        ]),
                      ]),
                      t(
                        "div",
                        {
                          staticClass: "user-button",
                          on: {
                            click: function (t) {
                              return (
                                t.preventDefault(),
                                e.more.apply(null, arguments)
                              );
                            },
                          },
                        },
                        [e._v(e._s(e.$t("MiddleMine.more")))]
                      ),
                    ]
                  ),
                  t(
                    "div",
                    { staticClass: "topic-tab" },
                    e._l(e.function_list, function (i, s) {
                      return t(
                        "button",
                        {
                          key: s,
                          class:
                            e.function_index == s
                              ? "topic-button active"
                              : "topic-button",
                          on: {
                            click: function (t) {
                              return e.switchFunction(s);
                            },
                          },
                        },
                        [
                          e._v(e._s(i.text)),
                          t("span", { staticClass: "count-text" }, [
                            e._v(
                              e._s(
                                0 == s
                                  ? e.user_info.post_count
                                  : e.user_info.follow_count
                              )
                            ),
                          ]),
                        ]
                      );
                    }),
                    0
                  ),
                ]),
                t(
                  "Refresh",
                  { attrs: { "on-refresh": e.onRefresh } },
                  [
                    e._l(e.one_list, function (e, i) {
                      return t("One", {
                        key: i,
                        attrs: { type: e.type, data: e.data },
                      });
                    }),
                    t("LoadMore", {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: e.is_loading_more || e.is_last,
                          expression: "is_loading_more || is_last",
                        },
                      ],
                      attrs: { is_last: e.is_last },
                    }),
                  ],
                  2
                ),
              ],
              1
            );
          },
          zt = [],
          qt = {
            name: "UniMiddleMine",
            components: { Navbar: ct, LoadMore: Qe, One: je },
            created() {
              this.$loading.show(), this.getPostPre();
            },
            activated() {
              this.getUserProfile(),
                window.addEventListener("scroll", this.handleScroll),
                (document.title = this.title);
            },
            deactivated() {
              window.removeEventListener("scroll", this.handleScroll);
            },
            data() {
              return {
                function_index: 0,
                function_list: [
                  { mode: "post", text: this.$t("MiddleMine.post") },
                  { mode: "follow", text: this.$t("MiddleMine.follow") },
                ],
                page: 0,
                one_list: [],
                is_last: !1,
                is_loading_more: !1,
                finishRefresh: null,
                user_info: {},
                title: "",
              };
            },
            methods: {
              getUserProfile() {
                Ms("/user/profile/get").then((e) => {
                  if (!e) return;
                  this.user_info = e.user_info;
                  const t = localStorage.getItem("user_school_label");
                  "HKU" == t &&
                    (this.title =
                      this.$t("MiddleMine.title", {
                        user_serial: e.user_info.user_serial,
                      }) +
                      " / " +
                      this.$t("AppNameTitle.HKU")),
                    "CUHK" == t &&
                      (this.title =
                        this.$t("MiddleMine.title", {
                          user_serial: e.user_info.user_serial,
                        }) +
                        " / " +
                        this.$t("AppNameTitle.CUHK")),
                    "UST" == t &&
                      (this.title =
                        this.$t("MiddleMine.title", {
                          user_serial: e.user_info.user_serial,
                        }) +
                        " / " +
                        this.$t("AppNameTitle.UST")),
                    (document.title = this.title);
                });
              },
              getPostPre() {
                0 == this.function_index
                  ? this.getPostByMine()
                  : 1 == this.function_index && this.getPostByFollow();
              },
              getPostByMine() {
                Ms("/post/list/my", { page: this.page }).then((e) => {
                  this.$loading.hide(),
                    this.finishRefresh && this.finishRefresh(),
                    e &&
                      ((this.is_loading_more = !1),
                      (this.is_last = e.is_last),
                      e.one_list.forEach((e) => {
                        "post" == e.type &&
                          (e.data.post_topic = Ue(e.data.post_topic));
                      }),
                      0 == this.page
                        ? (this.one_list = e.one_list)
                        : (this.one_list = this.one_list.concat(e.one_list)));
                });
              },
              getPostByFollow() {
                Ms("/post/list/follow", { page: this.page }).then((e) => {
                  this.$loading.hide(),
                    this.finishRefresh && this.finishRefresh(),
                    e &&
                      ((this.is_loading_more = !1),
                      (this.is_last = e.is_last),
                      e.one_list.forEach((e) => {
                        "post" == e.type &&
                          (e.data.post_topic = Ue(e.data.post_topic));
                      }),
                      0 == this.page
                        ? (this.one_list = e.one_list)
                        : (this.one_list = this.one_list.concat(e.one_list)));
                });
              },
              switchFunction(e) {
                window.scrollTo(0, 0),
                  (this.page = 0),
                  (this.function_index = e),
                  this.$loading.show(),
                  this.getPostPre();
              },
              onRefresh(e) {
                (this.finishRefresh = e),
                  (this.page = 0),
                  (this.is_loading_more = !0),
                  this.getPostPre();
              },
              loadMore() {
                this.is_loading_more ||
                  this.is_last ||
                  ((this.is_loading_more = !0),
                  (this.page = this.page + 1),
                  this.getPostPre());
              },
              handleScroll() {
                const e = document.documentElement.scrollHeight,
                  t =
                    document.documentElement.scrollTop ||
                    document.body.scrollTop,
                  i = document.documentElement.clientHeight;
                t + i >= e - 1400 && this.loadMore();
              },
              more(e) {
                return (
                  this.$contextmenu({
                    items: [
                      {
                        label: this.$t("MiddleMine.audit_user_info"),
                        onClick: () => {
                          this.$router.push("/edit");
                        },
                      },
                      {
                        label: this.$t("MiddleMine.switch_language"),
                        onClick: () => {
                          const e =
                            localStorage.getItem("language") ||
                            navigator.language ||
                            navigator.userLanguage;
                          this.$loading.show(),
                            e.startsWith("zh")
                              ? (localStorage.setItem("language", "en"),
                                location.reload())
                              : (localStorage.setItem("language", "zh"),
                                location.reload());
                        },
                      },
                      {
                        label: this.$t("MiddleMine.logout"),
                        onClick: () => {
                          this.logout();
                        },
                      },
                    ],
                    event: e,
                    customClass: "menu-theme",
                    zIndex: 99,
                    minWidth: 150,
                  }),
                  !1
                );
              },
              logout() {
                this.$modal.show({
                  content: this.$t("MiddleMine.logout_modal_content"),
                  show_cancel: !0,
                  success: (e) => {
                    e &&
                      ("Notification" in window &&
                        "granted" === Notification.permission &&
                        C(localStorage.getItem("token")),
                      Ns.delete(),
                      Hs(),
                      localStorage.clear(),
                      h(),
                      this.$router.push("/login"));
                  },
                });
              },
            },
          },
          Wt = qt,
          jt = (0, E.Z)(Wt, Kt, zt, !1, null, "7ef63df7", null),
          Gt = jt.exports,
          Vt = function () {
            var e = this,
              t = e._self._c;
            return t("div", { staticStyle: { width: "100%" } }, [
              t("div", { staticClass: "write-nav-bar" }, [
                t(
                  "div",
                  { staticClass: "write-nav-bar-left" },
                  [
                    t("BackSvg", {
                      staticClass: "write-nav-bar-title-back",
                      nativeOn: {
                        click: function (t) {
                          return e.navBack.apply(null, arguments);
                        },
                      },
                    }),
                    t("div", { staticClass: "title" }, [
                      e._v(e._s(e.$t("MiddleWrite.title"))),
                    ]),
                  ],
                  1
                ),
                t(
                  "div",
                  {
                    staticClass: "write-nav-bar-send-button",
                    on: { click: e.post },
                  },
                  [e._v(e._s(e.$t("MiddleWrite.send")))]
                ),
              ]),
              t("div", {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: e.post_is_markdown,
                    expression: "post_is_markdown",
                  },
                ],
                ref: "markdowneditor",
                attrs: { id: "vditor" },
              }),
              e.post_is_markdown
                ? e._e()
                : t("div", { staticClass: "write-body" }, [
                    t("textarea", {
                      directives: [
                        {
                          name: "model",
                          rawName: "v-model",
                          value: e.post_msg,
                          expression: "post_msg",
                        },
                      ],
                      ref: "textarea",
                      staticClass: "write-textarea",
                      attrs: { placeholder: e.$t("MiddleWrite.placeholder") },
                      domProps: { value: e.post_msg },
                      on: {
                        input: [
                          function (t) {
                            t.target.composing || (e.post_msg = t.target.value);
                          },
                          e.adjustHeight,
                        ],
                      },
                    }),
                    e.post_image[0]
                      ? t("div", { staticClass: "write-image-container" }, [
                          t("img", {
                            staticClass: "write-image",
                            attrs: { src: e.post_image[0] },
                            on: { click: e.onTapImage },
                          }),
                        ])
                      : e._e(),
                    e.post_media_show &&
                    "netease" == e.post_media_show.media_type
                      ? t(
                          "div",
                          {
                            staticClass: "function-container",
                            on: { click: e.functionNetease },
                          },
                          [
                            t("img", {
                              staticClass: "function-netease-image",
                              attrs: { src: e.post_media_show.netease_image },
                            }),
                            t("div", { staticClass: "function-right" }, [
                              t(
                                "div",
                                { staticClass: "function-text-container" },
                                [
                                  t(
                                    "div",
                                    { staticClass: "function-text-title" },
                                    [
                                      e._v(
                                        e._s(e.post_media_show.netease_title)
                                      ),
                                    ]
                                  ),
                                  t(
                                    "div",
                                    { staticClass: "function-text-detail" },
                                    [
                                      e._v(
                                        e._s(e.post_media_show.netease_artist) +
                                          " - " +
                                          e._s(e.post_media_show.netease_epname)
                                      ),
                                    ]
                                  ),
                                ]
                              ),
                              t("img", {
                                staticClass: "function-netease-icon",
                                attrs: { src: i(95812) },
                              }),
                            ]),
                          ]
                        )
                      : e._e(),
                    e.post_media_show &&
                    "bilibili" == e.post_media_show.media_type
                      ? t(
                          "div",
                          {
                            staticClass: "function-container",
                            on: { click: e.functionBilibili },
                          },
                          [
                            t("img", {
                              staticClass: "function-bilibili-image",
                              attrs: { src: e.post_media_show.bilibili_image },
                            }),
                            t("div", { staticClass: "function-right" }, [
                              t(
                                "div",
                                { staticClass: "function-text-container" },
                                [
                                  t(
                                    "div",
                                    { staticClass: "function-text-title" },
                                    [
                                      e._v(
                                        e._s(e.post_media_show.bilibili_title)
                                      ),
                                    ]
                                  ),
                                  t(
                                    "div",
                                    { staticClass: "function-text-detail" },
                                    [
                                      e._v(
                                        e._s(e.post_media_show.bilibili_author)
                                      ),
                                    ]
                                  ),
                                ]
                              ),
                              t("img", {
                                staticClass: "function-bilibili-icon",
                                attrs: { src: i(6756) },
                              }),
                            ]),
                          ]
                        )
                      : e._e(),
                    e.post_media_show && "quote" == e.post_media_show.media_type
                      ? t(
                          "div",
                          {
                            staticClass: "function-container",
                            on: { click: e.functionQuote },
                          },
                          [
                            t("img", {
                              staticClass: "function-quote-image",
                              attrs: { src: e.logo_src },
                            }),
                            t("div", { staticClass: "function-right" }, [
                              t(
                                "div",
                                { staticClass: "function-text-container" },
                                [
                                  t(
                                    "div",
                                    { staticClass: "function-text-title" },
                                    [e._v(e._s(e.post_media_show.quote_title))]
                                  ),
                                  t(
                                    "div",
                                    { staticClass: "function-text-detail" },
                                    [
                                      e._v(
                                        e._s(e.post_media_show.quote_content)
                                      ),
                                    ]
                                  ),
                                ]
                              ),
                            ]),
                          ]
                        )
                      : e._e(),
                    e.post_media_show && "file" == e.post_media_show.media_type
                      ? t(
                          "div",
                          {
                            staticClass: "function-container",
                            on: { click: e.functionFile },
                          },
                          [
                            "doc" == e.post_media_show.file_type
                              ? t("img", {
                                  staticClass: "function-file-image",
                                  attrs: { src: i(35272) },
                                })
                              : "ppt" == e.post_media_show.file_type
                              ? t("img", {
                                  staticClass: "function-file-image",
                                  attrs: { src: i(60091) },
                                })
                              : "xls" == e.post_media_show.file_type
                              ? t("img", {
                                  staticClass: "function-file-image",
                                  attrs: { src: i(77180) },
                                })
                              : "pdf" == e.post_media_show.file_type
                              ? t("img", {
                                  staticClass: "function-file-image",
                                  attrs: { src: i(66475) },
                                })
                              : t("img", {
                                  staticClass: "function-file-image",
                                  attrs: { src: i(37453) },
                                }),
                            t("div", { staticClass: "function-right" }, [
                              t(
                                "div",
                                { staticClass: "function-text-container" },
                                [
                                  t(
                                    "div",
                                    { staticClass: "function-text-title" },
                                    [e._v(e._s(e.post_media_show.file_name))]
                                  ),
                                  t(
                                    "div",
                                    { staticClass: "function-text-detail" },
                                    [e._v(e._s(e.post_media_show.file_size))]
                                  ),
                                ]
                              ),
                            ]),
                          ]
                        )
                      : e._e(),
                    e.post_media_show && "vote" == e.post_media_show.media_type
                      ? t(
                          "div",
                          {
                            staticClass: "vote-container",
                            on: { click: e.functionVote },
                          },
                          [
                            t("div", { staticClass: "vote-title" }, [
                              e._v(e._s(e.post_media_show.vote_title)),
                            ]),
                            e.post_media_show.user_voted_option_title
                              ? t("div", { staticClass: "vote-subtitle" }, [
                                  e._v(
                                    " " +
                                      e._s(
                                        e.$t(
                                          "MiddlePostDetail.vote_have_already_vote"
                                        )
                                      ) +
                                      e._s(
                                        e.post_media_show
                                          .user_voted_option_title
                                      ) +
                                      " "
                                  ),
                                ])
                              : t("div", { staticClass: "vote-subtitle" }, [
                                  e._v(
                                    e._s(
                                      e.$t("MiddlePostDetail.vote_not_vote_yet")
                                    )
                                  ),
                                ]),
                            e._l(
                              e.post_media_show.option_list,
                              function (i, s) {
                                return t(
                                  "div",
                                  { key: s, staticClass: "vote-option-list" },
                                  [
                                    t(
                                      "div",
                                      { staticClass: "vote-option-lower" },
                                      [
                                        t(
                                          "div",
                                          {
                                            class: i.is_voted
                                              ? "vote-option-lower-text-left-voted"
                                              : "vote-option-lower-text-left",
                                          },
                                          [e._v(" " + e._s(i.option_title))]
                                        ),
                                        t(
                                          "div",
                                          {
                                            class: i.is_voted
                                              ? "vote-option-lower-text-right-voted"
                                              : "vote-option-lower-text-right",
                                          },
                                          [e._v(" " + e._s(i.option_num))]
                                        ),
                                      ]
                                    ),
                                    t(
                                      "div",
                                      {
                                        class: i.is_voted
                                          ? "vote-option-upper-voted"
                                          : "vote-option-upper",
                                        style:
                                          "width:" +
                                          100 * i.option_percentage +
                                          "%",
                                      },
                                      [
                                        t(
                                          "div",
                                          {
                                            staticClass:
                                              "vote-option-upper-inner",
                                            style:
                                              "width:" +
                                              (1 / i.option_percentage) * 100 +
                                              "%",
                                          },
                                          [
                                            t(
                                              "div",
                                              {
                                                staticClass:
                                                  "vote-option-upper-text-left",
                                              },
                                              [e._v(e._s(i.option_title))]
                                            ),
                                            t(
                                              "div",
                                              {
                                                staticClass:
                                                  "vote-option-upper-text-right",
                                              },
                                              [e._v(e._s(i.option_num))]
                                            ),
                                          ]
                                        ),
                                      ]
                                    ),
                                  ]
                                );
                              }
                            ),
                          ],
                          2
                        )
                      : e._e(),
                  ]),
              t("div", { staticClass: "write-tab-bar" }, [
                t(
                  "div",
                  {
                    staticClass: "write-tab-bar-choose",
                    staticStyle: { "margin-left": "10px" },
                    on: { click: e.changeTopic },
                  },
                  [
                    t("img", { attrs: { src: e.topic_src } }),
                    e.post_topic
                      ? t("span", [e._v(e._s(e.post_topic_show))])
                      : t("span", [e._v(e._s(e.$t("MiddleWrite.topic_null")))]),
                  ]
                ),
                t(
                  "div",
                  {
                    staticClass: "write-tab-bar-choose",
                    on: { click: e.changePublic },
                  },
                  [
                    t("img", { attrs: { src: e.public_src } }),
                    2 == e.post_public
                      ? t("span", [
                          e._v(e._s(e.$t("MiddleWrite.public_false"))),
                        ])
                      : t("span", [
                          e._v(e._s(e.$t("MiddleWrite.public_true"))),
                        ]),
                  ]
                ),
                t(
                  "div",
                  {
                    staticClass: "write-tab-bar-choose",
                    on: { click: e.changeRealname },
                  },
                  [
                    t("img", { attrs: { src: e.realname_src } }),
                    e.user_is_real_name
                      ? t("span", [
                          e._v(e._s(e.$t("MiddleWrite.realname_true"))),
                        ])
                      : t("span", [
                          e._v(e._s(e.$t("MiddleWrite.realname_false"))),
                        ]),
                  ]
                ),
                t(
                  "div",
                  {
                    staticClass: "write-tab-bar-choose",
                    on: { click: e.changeUni },
                  },
                  [
                    t("img", { attrs: { src: e.uni_src } }),
                    e.post_is_uni
                      ? t("span", [e._v(e._s(e.$t("MiddleWrite.uni_true")))])
                      : t("span", [e._v(e._s(e.$t("MiddleWrite.uni_false")))]),
                  ]
                ),
                t("img", {
                  staticClass: "write-tab-bar-icon",
                  attrs: { src: e.image_src },
                  on: { click: e.uploadImage },
                }),
                t("img", {
                  staticClass: "write-tab-bar-icon",
                  staticStyle: { "margin-right": "10px" },
                  attrs: { src: e.plus_src },
                  on: { click: e.setMedia },
                }),
              ]),
              t("input", {
                ref: "imageInput",
                staticStyle: { display: "none" },
                attrs: { type: "file", accept: "image/*" },
                on: { change: e.getImage },
              }),
              t("input", {
                ref: "fileInput",
                staticStyle: { display: "none" },
                attrs: {
                  type: "file",
                  accept: ".doc,.docx,.ppt,.pptx,.xls,.xlsx,.xlsm,.pdf",
                },
                on: { change: e.getFile },
              }),
            ]);
          },
          Xt = [];
        const Zt = (e, t, s) => {
            var n = "boatonland-1307992092",
              o = "ap-beijing",
              a = i(12014),
              r = new a({
                ForcePathStyle: !0,
                getAuthorization(e, t) {
                  var i =
                      "https://upload.tripleuni.com/index.php?bucket=" +
                      n +
                      "&region=" +
                      o,
                    s = new XMLHttpRequest();
                  s.open("GET", i, !0),
                    (s.onload = function (e) {
                      try {
                        var i = JSON.parse(e.target.responseText),
                          s = i.credentials;
                      } catch (e) {
                        console.log(e);
                      }
                      if (!i || !s)
                        return console.error(
                          "credentials invalid:\n" + JSON.stringify(i, null, 2)
                        );
                      t({
                        TmpSecretId: s.tmpSecretId,
                        TmpSecretKey: s.tmpSecretKey,
                        SecurityToken: s.sessionToken,
                        StartTime: i.startTime,
                        ExpiredTime: i.expiredTime,
                      });
                    }),
                    s.send();
                },
              });
            return new Promise((i, a) => {
              r.putObject(
                {
                  Bucket: n,
                  Region: o,
                  Key: t + "/" + s + "/" + Yt() + Qt(e.name),
                  StorageClass: "STANDARD",
                  Body: e,
                },
                function (e, n) {
                  if (n.Location) {
                    var o =
                      "https://i.boatonland.com/" +
                      t +
                      "/" +
                      s +
                      "/" +
                      n.Location.substr(n.Location.lastIndexOf("/") + 1);
                    i(o);
                  } else a();
                }
              );
            });
          },
          Yt = (e) => {
            e = e || 32;
            for (
              var t = "ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",
                i = t.length,
                s = "",
                n = 0;
              n < e;
              n++
            )
              s += t.charAt(Math.floor(Math.random() * i));
            return s;
          },
          Qt = (e) => {
            var t = e.lastIndexOf(".");
            return t < 1 ? "" : "." + e.substr(t + 1);
          };
        var Jt = i(39987),
          ei = i.n(Jt),
          ti = {
            name: "UniMiddleWrite",
            components: { BackSvg: ot },
            created() {
              this.getTopicList();
              const e = localStorage.getItem("user_school_label");
              "HKU" == e &&
                (document.title =
                  this.$t("MiddleWrite.title") +
                  " / " +
                  this.$t("AppNameTitle.HKU")),
                "CUHK" == e &&
                  (document.title =
                    this.$t("MiddleWrite.title") +
                    " / " +
                    this.$t("AppNameTitle.CUHK")),
                "UST" == e &&
                  (document.title =
                    this.$t("MiddleWrite.title") +
                    " / " +
                    this.$t("AppNameTitle.UST")),
                (this.topic_src = i(58953)(
                  "./write-topic-" +
                    localStorage.getItem("user_school_label") +
                    ".svg"
                )),
                (this.public_src = i(87235)(
                  "./write-public-" +
                    localStorage.getItem("user_school_label") +
                    ".svg"
                )),
                (this.realname_src = i(20001)(
                  "./write-realname-" +
                    localStorage.getItem("user_school_label") +
                    ".svg"
                )),
                (this.uni_src = i(4906)(
                  "./write-uni-" +
                    localStorage.getItem("user_school_label") +
                    ".svg"
                )),
                (this.image_src = i(54523)(
                  "./write-image-" +
                    localStorage.getItem("user_school_label") +
                    ".svg"
                )),
                (this.plus_src = i(43006)(
                  "./write-plus-" +
                    localStorage.getItem("user_school_label") +
                    ".svg"
                )),
                (this.logo_src = i(55652)(
                  "./logo-" + localStorage.getItem("user_school_label") + ".png"
                ));
            },
            mounted() {
              var e = document.querySelector(".write-nav-bar");
              e &&
                ((document.querySelector(".write-tab-bar").style.width =
                  e.offsetWidth + "px"),
                window.addEventListener("resize", this.listenResize),
                window.addEventListener(
                  "writeChangeTopic",
                  this.listenChangeTopic
                ),
                window.addEventListener(
                  "writeChangePublic",
                  this.listenChangePublic
                ),
                window.addEventListener(
                  "writeChangeRealname",
                  this.listenChangeRealname
                ),
                window.addEventListener("writeChangeUni", this.listenChangeUni),
                window.addEventListener(
                  "writeChangeMarkdown",
                  this.listenChangeMarkdown
                ),
                window.addEventListener(
                  "writeChangeMedia",
                  this.listenChangeMedia
                ),
                window.addEventListener("writePost", this.post),
                (this.markdown_editor = new (ei())("vditor", {
                  mode: "wysiwyg",
                  placeholder: this.$t("MiddleWrite.markdown_placeholder"),
                  height: window.innerHeight - 60,
                  tab: "\t",
                  toolbar: [
                    "headings",
                    "bold",
                    "italic",
                    "strike",
                    "link",
                    "|",
                    "list",
                    "ordered-list",
                    "check",
                    "|",
                    "line",
                    "quote",
                    "code",
                    "inline-code",
                    "|",
                    "upload",
                    "table",
                  ],
                  counter: { enable: !0, type: "text" },
                  cache: { enable: !1 },
                  preview: { delay: 50, markdown: { autoSpace: !0 } },
                  upload: {
                    multiple: !1,
                    accept: "image/*",
                    handler: (e) => {
                      this.$loading.show(),
                        Zt(
                          e[0],
                          localStorage.getItem("user_school_label"),
                          "post"
                        ).then((e) => {
                          this.$loading.hide(),
                            this.markdown_editor.insertValue(`![](${e})`);
                        });
                    },
                  },
                })));
            },
            destroyed() {
              window.removeEventListener("resize", this.listenResize),
                window.removeEventListener(
                  "writeChangeTopic",
                  this.listenChangeTopic
                ),
                window.removeEventListener(
                  "writeChangePublic",
                  this.listenChangePublic
                ),
                window.removeEventListener(
                  "writeChangeRealname",
                  this.listenChangeRealname
                ),
                window.removeEventListener(
                  "writeChangeUni",
                  this.listenChangeUni
                ),
                window.removeEventListener(
                  "writeChangeMarkdown",
                  this.listenChangeMarkdown
                ),
                window.removeEventListener(
                  "writeChangeMedia",
                  this.listenChangeMedia
                ),
                window.removeEventListener("writePost", this.post);
            },
            data() {
              return {
                post_msg: "",
                post_image: [],
                post_public: 1,
                user_is_real_name: !1,
                post_topic: "",
                post_topic_show: "",
                post_is_uni: !1,
                post_media: null,
                post_media_show: null,
                topic_list: [],
                markdown_editor: null,
                post_is_markdown: !1,
              };
            },
            methods: {
              getTopicList() {
                Ms("/info/posttopic").then((e) => {
                  e &&
                    (this.topic_list = e.topic_list.map((e) => ({
                      topic: e,
                      topic_show: Ue(e),
                    })));
                });
              },
              post() {
                this.$loading.show();
                var e = "false";
                this.user_is_real_name && (e = "true");
                var t = "false";
                if ((this.post_is_uni && (t = "true"), this.post_is_markdown))
                  var i =
                      "[Triple Uni Markdown]\n" +
                      this.markdown_editor.getValue(),
                    s = null,
                    n = "[]";
                else
                  (i = this.post_msg),
                    (s = this.post_media),
                    (n = JSON.stringify(this.post_image));
                var o = {
                  post_msg: i,
                  post_topic: this.post_topic,
                  user_is_real_name: e,
                  post_public: this.post_public,
                  post_is_uni: t,
                  post_image: n,
                };
                s &&
                  Object.assign(o, {
                    post_media: JSON.stringify(this.post_media),
                  }),
                  Ms("/post/single/post", o, !0, [402]).then((e) => {
                    this.$loading.hide(),
                      e &&
                        (402 != e.code
                          ? (y({ content: this.$t("/post/single/post.200") }),
                            this.$router.push({
                              path: "/home",
                              query: { method: "refresh" },
                            }),
                            this.checkWebpush())
                          : this.$modal.show({
                              title: this.$t("Modal.error"),
                              content: this.$t("/post/single/post.402", {
                                silence_until: Ke(e.silence_until),
                              }),
                              show_cancel: !1,
                            }));
                  });
              },
              adjustHeight() {
                const e = this.$refs.textarea;
                e.style.height = "auto";
                const t = e.scrollHeight - 30,
                  i = parseInt(window.getComputedStyle(e).lineHeight);
                var s = Math.ceil(t / i);
                s < 10 && (s = 10),
                  s >= 20
                    ? ((e.style.overflow = "auto"),
                      (e.style.height = 20 * i + "px"))
                    : ((e.style.overflow = "hidden"),
                      (e.style.height = i * s + "px"));
              },
              onTapImage(e) {
                this.$contextmenu({
                  items: [
                    {
                      label: this.$t("MiddleWrite.preview_image"),
                      onClick: () => {
                        this.$hevueImgPreview({
                          url: this.post_image[0],
                          clickMaskCLose: !0,
                          controlBar: !1,
                        });
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.delete_image"),
                      onClick: () => {
                        this.post_image = [];
                      },
                    },
                  ],
                  event: e,
                  customClass: "menu-theme",
                  zIndex: 99,
                  minWidth: 150,
                });
              },
              navBack() {
                this.$modal.show({
                  title: this.$t("MiddleWrite.nav_back_warning_title"),
                  content: this.$t("MiddleWrite.nav_back_warning_content"),
                  show_cancel: !0,
                  success: (e) => {
                    e &&
                      (window.history.length <= 1
                        ? this.$router.push("/home")
                        : this.$router.back());
                  },
                });
              },
              changeTopic(e) {
                this.$contextmenu({
                  items: this.topic_list.map((e) => ({
                    label: e.topic_show,
                    onClick: () => {
                      (this.post_topic = e.topic),
                        (this.post_topic_show = e.topic_show);
                    },
                  })),
                  event: e,
                  customClass: "menu-theme",
                  zIndex: 99,
                  minWidth: 150,
                });
              },
              changePublic(e) {
                this.$contextmenu({
                  items: [
                    {
                      label: this.$t("MiddleWrite.public_true"),
                      onClick: () => {
                        this.post_public = 1;
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.public_false"),
                      onClick: () => {
                        this.post_public = 2;
                      },
                    },
                  ],
                  event: e,
                  customClass: "menu-theme",
                  zIndex: 99,
                  minWidth: 150,
                });
              },
              changeRealname(e) {
                var t = this;
                this.$contextmenu({
                  items: [
                    {
                      label: this.$t("MiddleWrite.realname_false"),
                      onClick: () => {
                        t.user_is_real_name = !1;
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.realname_true"),
                      onClick: () => {
                        t.user_is_real_name = !0;
                      },
                    },
                  ],
                  event: e,
                  customClass: "menu-theme",
                  zIndex: 99,
                  minWidth: 150,
                });
              },
              changeUni(e) {
                this.$contextmenu({
                  items: [
                    {
                      label: this.$t("MiddleWrite.uni_false"),
                      onClick: () => {
                        this.post_is_uni = !1;
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.uni_true"),
                      onClick: () => {
                        this.post_is_uni = !0;
                      },
                    },
                  ],
                  event: e,
                  customClass: "menu-theme",
                  zIndex: 99,
                  minWidth: 150,
                });
              },
              uploadImage() {
                this.$refs.imageInput.click();
              },
              getImage(e) {
                this.$loading.show(),
                  Zt(
                    e.target.files[0],
                    localStorage.getItem("user_school_label"),
                    "post"
                  ).then((e) => {
                    (this.post_image = [e]), this.$loading.hide();
                  });
              },
              getFile(e) {
                this.$loading.show(),
                  Zt(
                    e.target.files[0],
                    localStorage.getItem("user_school_label"),
                    "file"
                  ).then((t) => {
                    const i = e.target.files[0].name,
                      s = Math.floor(e.target.files[0].size / 1024) + "KB",
                      n = Qt(t);
                    var o = null;
                    if (".doc" == n || ".docx" == n) o = "doc";
                    else if (".ppt" == n || ".pptx" == n) o = "ppt";
                    else if (".xls" == n || ".xlsx" == n || ".xlsx" == n)
                      o = "xls";
                    else {
                      if (".pdf" != n)
                        return void this.$modal.show({
                          content: this.$t("MiddleWrite.file_type_not_support"),
                        });
                      o = "pdf";
                    }
                    const a = {
                      media_type: "file",
                      file_link: t,
                      file_name: i,
                      file_type: o,
                      file_size: s,
                    };
                    (this.post_media = a),
                      (this.post_media_show = a),
                      this.$loading.hide();
                  });
              },
              setMedia(e) {
                this.$contextmenu({
                  items: [
                    {
                      label: this.$t("MiddleWrite.media_netease"),
                      onClick: () => {
                        this.$media.show({
                          media_type: "netease",
                          success: (e) => {
                            (this.post_media = e), (this.post_media_show = e);
                          },
                        });
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.media_bilibili"),
                      onClick: () => {
                        this.$media.show({
                          media_type: "bilibili",
                          success: (e) => {
                            (this.post_media = e), (this.post_media_show = e);
                          },
                        });
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.media_vote"),
                      onClick: () => {
                        this.$media.show({
                          media_type: "vote",
                          success: (e, t) => {
                            (this.post_media = e), (this.post_media_show = t);
                          },
                        });
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.media_quote"),
                      onClick: () => {
                        this.$media.show({
                          media_type: "quote",
                          success: (e, t) => {
                            (this.post_media = e), (this.post_media_show = t);
                          },
                        });
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.media_file"),
                      onClick: () => {
                        this.$refs.fileInput.click();
                      },
                    },
                  ],
                  event: e,
                  customClass: "menu-theme",
                  zIndex: 99,
                  minWidth: 150,
                });
              },
              functionNetease(e) {
                this.$contextmenu({
                  items: [
                    {
                      label: this.$t("MiddleWrite.preview_media"),
                      onClick: () => {
                        window.open(
                          "https://music.163.com/#/song?id=" +
                            this.post_media_show.netease_id
                        );
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.delete_media"),
                      onClick: () => {
                        (this.post_media = null), (this.post_media_show = null);
                      },
                    },
                  ],
                  event: e,
                  customClass: "menu-theme",
                  zIndex: 99,
                  minWidth: 150,
                });
              },
              functionBilibili(e) {
                this.$contextmenu({
                  items: [
                    {
                      label: this.$t("MiddleWrite.preview_media"),
                      onClick: () => {
                        window.open(
                          "https://www.bilibili.com/video/" +
                            this.post_media_show.bilibili_bv
                        );
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.delete_media"),
                      onClick: () => {
                        (this.post_media = null), (this.post_media_show = null);
                      },
                    },
                  ],
                  event: e,
                  customClass: "menu-theme",
                  zIndex: 99,
                  minWidth: 150,
                });
              },
              functionMiniapp() {
                this.$modal.show({
                  content: this.$t(
                    "MiddlePostDetail.function_miniapp_not_support"
                  ),
                });
              },
              functionQuote(e) {
                this.$contextmenu({
                  items: [
                    {
                      label: this.$t("MiddleWrite.preview_media"),
                      onClick: () => {
                        window.open(
                          "https://tripleuni.com/post/" +
                            this.post_media_show.uni_post_id
                        );
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.delete_media"),
                      onClick: () => {
                        (this.post_media = null), (this.post_media_show = null);
                      },
                    },
                  ],
                  event: e,
                  customClass: "menu-theme",
                  zIndex: 99,
                  minWidth: 150,
                });
              },
              functionFile(e) {
                this.$contextmenu({
                  items: [
                    {
                      label: this.$t("MiddleWrite.preview_media"),
                      onClick: () => {
                        window.open(this.post_media_show.file_link);
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.delete_media"),
                      onClick: () => {
                        (this.post_media = null), (this.post_media_show = null);
                      },
                    },
                  ],
                  event: e,
                  customClass: "menu-theme",
                  zIndex: 99,
                  minWidth: 150,
                });
              },
              functionVote(e) {
                this.$contextmenu({
                  items: [
                    {
                      label: this.$t("MiddleWrite.delete_media"),
                      onClick: () => {
                        (this.post_media = null), (this.post_media_show = null);
                      },
                    },
                  ],
                  event: e,
                  customClass: "menu-theme",
                  zIndex: 99,
                  minWidth: 150,
                });
              },
              checkWebpush() {
                "Notification" in window &&
                  "granted" !== Notification.permission &&
                  "denied" != Notification.permission &&
                  this.$modal.show({
                    title: this.$t("Webpush.post_title"),
                    content: this.$t("Webpush.post_content"),
                    show_cancel: !0,
                    success: (e) => {
                      e &&
                        Notification.requestPermission().then((e) => {
                          "granted" === e
                            ? w(!0)
                            : this.$modal.show({
                                title: this.$t("Webpush.deny_title"),
                                content: this.$t("Webpush.deny_content"),
                                show_cancel: !1,
                              });
                        });
                    },
                  });
              },
              listenResize() {
                var e = document.querySelector(".write-nav-bar");
                e &&
                  (document.querySelector(".write-tab-bar").style.width =
                    e.offsetWidth + "px");
              },
              listenChangeTopic(e) {
                (this.post_topic = e.detail.post_topic),
                  (this.post_topic_show = e.detail.post_topic_show);
              },
              listenChangePublic(e) {
                this.post_public = e.detail.post_public;
              },
              listenChangeRealname(e) {
                this.user_is_real_name = e.detail.user_is_real_name;
              },
              listenChangeUni(e) {
                this.post_is_uni = e.detail.post_is_uni;
              },
              listenChangeMarkdown(e) {
                this.post_is_markdown = e.detail.post_is_markdown;
              },
              listenChangeMedia(e) {
                "image" == e.detail.media_type
                  ? this.uploadImage()
                  : "netease" == e.detail.media_type
                  ? this.$media.show({
                      media_type: "netease",
                      success: (e) => {
                        (this.post_media = e), (this.post_media_show = e);
                      },
                    })
                  : "bilibili" == e.detail.media_type
                  ? this.$media.show({
                      media_type: "bilibili",
                      success: (e) => {
                        (this.post_media = e), (this.post_media_show = e);
                      },
                    })
                  : "vote" == e.detail.media_type
                  ? this.$media.show({
                      media_type: "vote",
                      success: (e, t) => {
                        (this.post_media = e), (this.post_media_show = t);
                      },
                    })
                  : "quote" == e.detail.media_type
                  ? this.$media.show({
                      media_type: "quote",
                      success: (e, t) => {
                        (this.post_media = e), (this.post_media_show = t);
                      },
                    })
                  : "file" == e.detail.media_type &&
                    this.$refs.fileInput.click();
              },
            },
          },
          ii = ti,
          si = (0, E.Z)(ii, Vt, Xt, !1, null, "364121f6", null),
          ni = si.exports,
          oi = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { staticStyle: { width: "100%" } },
              [
                t("Navbar", {
                  attrs: {
                    title: e.post_detail.post_id
                      ? e.$t("MiddlePostDetail.title") +
                        " #" +
                        e.post_detail.post_id
                      : e.$t("MiddlePostDetail.title"),
                  },
                }),
                t(
                  "Refresh",
                  { attrs: { "on-refresh": e.onRefresh } },
                  [
                    t(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: e.post_detail.uni_post_id,
                            expression: "post_detail.uni_post_id",
                          },
                        ],
                        staticClass: "post-outer",
                      },
                      [
                        t("div", { staticClass: "post-outer-inner" }, [
                          t("img", {
                            directives: [
                              {
                                name: "show",
                                rawName: "v-show",
                                value: e.post_detail.user_avatar,
                                expression: "post_detail.user_avatar",
                              },
                            ],
                            staticClass: "post-avatar",
                            attrs: {
                              src:
                                "https://i.boatonland.com/avatar/" +
                                e.post_detail.user_avatar +
                                ".svg",
                            },
                            on: {
                              click: function (t) {
                                return e.user(
                                  t,
                                  e.post_detail.user_is_real_name,
                                  e.post_detail.user_serial,
                                  e.post_detail.user_school_label,
                                  "null",
                                  e.post_detail.user_is_org
                                );
                              },
                            },
                          }),
                          t("div", { staticClass: "post-main" }, [
                            t("div", { staticClass: "post-header" }, [
                              t("div", { staticClass: "post-header-title" }, [
                                t(
                                  "div",
                                  {
                                    staticClass: "post-id",
                                    on: {
                                      click: function (t) {
                                        return e.user(
                                          t,
                                          e.post_detail.user_is_real_name,
                                          e.post_detail.user_serial,
                                          e.post_detail.user_school_label,
                                          "null",
                                          e.post_detail.user_is_org
                                        );
                                      },
                                    },
                                  },
                                  [
                                    e._v(
                                      " " +
                                        e._s(
                                          e.post_detail.user_is_real_name
                                            ? e.post_detail.user_serial
                                            : e.$t(
                                                "MiddlePostDetail.post_owner"
                                              )
                                        )
                                    ),
                                    e.post_detail.is_author
                                      ? t("span", [
                                          e._v(
                                            e._s(e.$t("MiddlePostDetail.is_me"))
                                          ),
                                        ])
                                      : e._e(),
                                    e.post_detail.user_school_label !=
                                    e.user_school_label
                                      ? t("span", [
                                          e._v(
                                            "@" +
                                              e._s(
                                                e.post_detail.user_school_label
                                              )
                                          ),
                                        ])
                                      : e._e(),
                                  ]
                                ),
                                t("div", { staticClass: "post-topic" }, [
                                  e._v(e._s(e.post_detail.post_topic)),
                                ]),
                                t("div", { staticClass: "post-time" }, [
                                  e.post_detail.post_is_uni
                                    ? t("span", [e._v("UNI · ")])
                                    : e._e(),
                                  e._v(
                                    " " +
                                      e._s(
                                        e.post_detail.post_create_time_display
                                      ) +
                                      " "
                                  ),
                                ]),
                              ]),
                              t("div", { staticClass: "post-more-outer" }, [
                                t("img", {
                                  staticClass: "comment-report-icon",
                                  attrs: { src: i(62859) },
                                  on: {
                                    click: function (t) {
                                      return e.report(
                                        e.post_detail.post_msg,
                                        -1
                                      );
                                    },
                                  },
                                }),
                                t("img", {
                                  staticClass: "post-more-icon",
                                  attrs: { src: i(42203) },
                                  on: { click: e.more },
                                }),
                              ]),
                            ]),
                            t(
                              "div",
                              [
                                t(
                                  "div",
                                  {
                                    class: e.post_detail.post_msg_markdown_html
                                      ? "post-msg-markdown markdown-body"
                                      : "post-msg",
                                  },
                                  [
                                    t("span", {
                                      domProps: {
                                        innerHTML: e._s(
                                          e.post_detail.post_msg_markdown_html
                                            ? e.post_detail
                                                .post_msg_markdown_html
                                            : e.post_detail.post_msg
                                        ),
                                      },
                                    }),
                                  ]
                                ),
                                e.show_translate
                                  ? [
                                      e.post_detail.post_msg_en
                                        ? t(
                                            "div",
                                            { staticClass: "post-msg" },
                                            [
                                              e._v(
                                                e._s(e.post_detail.post_msg_en)
                                              ),
                                            ]
                                          )
                                        : e._e(),
                                      e.post_detail.post_msg_en ||
                                      e.post_detail.is_translating
                                        ? e._e()
                                        : t(
                                            "div",
                                            {
                                              staticClass: "post-translate",
                                              on: {
                                                click: function (t) {
                                                  return (
                                                    t.stopPropagation(),
                                                    e.translatePost.apply(
                                                      null,
                                                      arguments
                                                    )
                                                  );
                                                },
                                              },
                                            },
                                            [
                                              e._v(
                                                e._s(
                                                  e.$t(
                                                    "MiddlePostDetail.translate"
                                                  )
                                                )
                                              ),
                                            ]
                                          ),
                                      e.post_detail.is_translating
                                        ? t("img", {
                                            staticClass:
                                              "post-translate-loading",
                                            attrs: { src: e.loading_src },
                                          })
                                        : e._e(),
                                    ]
                                  : e._e(),
                                e.post_detail.post_image
                                  ? t(
                                      "div",
                                      { staticClass: "post-image-container" },
                                      [
                                        t("img", {
                                          staticClass: "post-image",
                                          attrs: {
                                            src: e.post_detail.post_image[0],
                                          },
                                          on: {
                                            click: function (t) {
                                              return (
                                                t.stopPropagation(),
                                                e.previewImage(
                                                  e.post_detail.post_image[0]
                                                )
                                              );
                                            },
                                          },
                                        }),
                                      ]
                                    )
                                  : e._e(),
                                e.post_detail.post_media &&
                                "netease" == e.post_detail.post_media.media_type
                                  ? t(
                                      "div",
                                      {
                                        staticClass: "function-container",
                                        on: { click: e.functionNetease },
                                      },
                                      [
                                        t("img", {
                                          staticClass: "function-netease-image",
                                          attrs: {
                                            src: e.post_detail.post_media
                                              .netease_image,
                                          },
                                        }),
                                        t(
                                          "div",
                                          { staticClass: "function-right" },
                                          [
                                            t(
                                              "div",
                                              {
                                                staticClass:
                                                  "function-text-container",
                                              },
                                              [
                                                t(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "function-text-title",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.post_detail.post_media
                                                          .netease_title
                                                      )
                                                    ),
                                                  ]
                                                ),
                                                t(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "function-text-detail",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.post_detail.post_media
                                                          .netease_artist
                                                      ) +
                                                        " - " +
                                                        e._s(
                                                          e.post_detail
                                                            .post_media
                                                            .netease_epname
                                                        )
                                                    ),
                                                  ]
                                                ),
                                              ]
                                            ),
                                            t("img", {
                                              staticClass:
                                                "function-netease-icon",
                                              attrs: { src: i(95812) },
                                            }),
                                          ]
                                        ),
                                      ]
                                    )
                                  : e._e(),
                                e.post_detail.post_media &&
                                "bilibili" ==
                                  e.post_detail.post_media.media_type
                                  ? t(
                                      "div",
                                      {
                                        staticClass: "function-container",
                                        on: { click: e.functionBilibili },
                                      },
                                      [
                                        t("img", {
                                          staticClass:
                                            "function-bilibili-image",
                                          attrs: {
                                            src: e.post_detail.post_media
                                              .bilibili_image,
                                          },
                                        }),
                                        t(
                                          "div",
                                          { staticClass: "function-right" },
                                          [
                                            t(
                                              "div",
                                              {
                                                staticClass:
                                                  "function-text-container",
                                              },
                                              [
                                                t(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "function-text-title",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.post_detail.post_media
                                                          .bilibili_title
                                                      )
                                                    ),
                                                  ]
                                                ),
                                                t(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "function-text-detail",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.post_detail.post_media
                                                          .bilibili_author
                                                      )
                                                    ),
                                                  ]
                                                ),
                                              ]
                                            ),
                                            t("img", {
                                              staticClass:
                                                "function-bilibili-icon",
                                              attrs: { src: i(6756) },
                                            }),
                                          ]
                                        ),
                                      ]
                                    )
                                  : e._e(),
                                e.post_detail.post_media &&
                                "miniapp" == e.post_detail.post_media.media_type
                                  ? t(
                                      "div",
                                      {
                                        staticClass: "function-container",
                                        on: { click: e.functionMiniapp },
                                      },
                                      [
                                        t("img", {
                                          staticClass: "function-miniapp-image",
                                          attrs: {
                                            src: e.post_detail.post_media
                                              .miniapp_image,
                                          },
                                        }),
                                        t(
                                          "div",
                                          { staticClass: "function-right" },
                                          [
                                            t(
                                              "div",
                                              {
                                                staticClass:
                                                  "function-text-container",
                                              },
                                              [
                                                t(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "function-text-title",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.post_detail.post_media
                                                          .miniapp_msg
                                                      )
                                                    ),
                                                  ]
                                                ),
                                                t(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "function-text-detail",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.post_detail.post_media
                                                          .miniapp_name
                                                      )
                                                    ),
                                                  ]
                                                ),
                                              ]
                                            ),
                                            t("img", {
                                              staticClass:
                                                "function-miniapp-icon",
                                              attrs: { src: i(29983) },
                                            }),
                                          ]
                                        ),
                                      ]
                                    )
                                  : e._e(),
                                e.post_detail.post_media &&
                                "quote" == e.post_detail.post_media.media_type
                                  ? t(
                                      "div",
                                      {
                                        staticClass: "function-container",
                                        on: { click: e.functionQuote },
                                      },
                                      [
                                        t("img", {
                                          staticClass: "function-quote-image",
                                          attrs: { src: e.logo_src },
                                        }),
                                        t(
                                          "div",
                                          { staticClass: "function-right" },
                                          [
                                            t(
                                              "div",
                                              {
                                                staticClass:
                                                  "function-text-container",
                                              },
                                              [
                                                t(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "function-text-title",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.post_detail.post_media
                                                          .quote_title
                                                      )
                                                    ),
                                                  ]
                                                ),
                                                t(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "function-text-detail",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.post_detail.post_media
                                                          .quote_content
                                                      )
                                                    ),
                                                  ]
                                                ),
                                              ]
                                            ),
                                          ]
                                        ),
                                      ]
                                    )
                                  : e._e(),
                                e.post_detail.post_media &&
                                "file" == e.post_detail.post_media.media_type
                                  ? t(
                                      "div",
                                      {
                                        staticClass: "function-container",
                                        on: { click: e.functionFile },
                                      },
                                      [
                                        "doc" ==
                                        e.post_detail.post_media.file_type
                                          ? t("img", {
                                              staticClass:
                                                "function-file-image",
                                              attrs: { src: i(35272) },
                                            })
                                          : "ppt" ==
                                            e.post_detail.post_media.file_type
                                          ? t("img", {
                                              staticClass:
                                                "function-file-image",
                                              attrs: { src: i(60091) },
                                            })
                                          : "xls" ==
                                            e.post_detail.post_media.file_type
                                          ? t("img", {
                                              staticClass:
                                                "function-file-image",
                                              attrs: { src: i(77180) },
                                            })
                                          : "pdf" ==
                                            e.post_detail.post_media.file_type
                                          ? t("img", {
                                              staticClass:
                                                "function-file-image",
                                              attrs: { src: i(66475) },
                                            })
                                          : t("img", {
                                              staticClass:
                                                "function-file-image",
                                              attrs: { src: i(37453) },
                                            }),
                                        t(
                                          "div",
                                          { staticClass: "function-right" },
                                          [
                                            t(
                                              "div",
                                              {
                                                staticClass:
                                                  "function-text-container",
                                              },
                                              [
                                                t(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "function-text-title",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.post_detail.post_media
                                                          .file_name
                                                      )
                                                    ),
                                                  ]
                                                ),
                                                t(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "function-text-detail",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.post_detail.post_media
                                                          .file_size
                                                      )
                                                    ),
                                                  ]
                                                ),
                                              ]
                                            ),
                                          ]
                                        ),
                                      ]
                                    )
                                  : e._e(),
                                e.post_detail.post_media &&
                                "hku_group" ==
                                  e.post_detail.post_media.media_type
                                  ? t(
                                      "div",
                                      {
                                        staticClass: "function-container",
                                        on: { click: e.functionHKUGroup },
                                      },
                                      [
                                        t("img", {
                                          staticClass: "function-miniapp-image",
                                          attrs: {
                                            src: "https://i.boatonland.com/HKU/post/jeD8ijwBDkrKn3GsZHp2JfYhjErnTN7Y.jpeg",
                                          },
                                        }),
                                        t(
                                          "div",
                                          { staticClass: "function-right" },
                                          [
                                            t(
                                              "div",
                                              {
                                                staticClass:
                                                  "function-text-container",
                                              },
                                              [
                                                t(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "function-text-title",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.$t(
                                                          "MiddlePostDetail.hku_group_title"
                                                        )
                                                      ) +
                                                        e._s(
                                                          e.post_detail
                                                            .post_media
                                                            .group_name
                                                        )
                                                    ),
                                                  ]
                                                ),
                                                t(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "function-text-detail",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.$t(
                                                          "MiddlePostDetail.hku_group_app_name"
                                                        )
                                                      )
                                                    ),
                                                  ]
                                                ),
                                              ]
                                            ),
                                            t("img", {
                                              staticClass:
                                                "function-miniapp-icon",
                                              attrs: { src: i(29983) },
                                            }),
                                          ]
                                        ),
                                      ]
                                    )
                                  : e._e(),
                                e.post_detail.post_media &&
                                "vote" == e.post_detail.post_media.media_type
                                  ? t(
                                      "div",
                                      { staticClass: "vote-container" },
                                      [
                                        t(
                                          "div",
                                          { staticClass: "vote-title" },
                                          [
                                            e._v(
                                              e._s(
                                                e.post_detail.post_media
                                                  .vote_title
                                              )
                                            ),
                                          ]
                                        ),
                                        e.post_detail.post_media
                                          .user_voted_option_title
                                          ? t(
                                              "div",
                                              { staticClass: "vote-subtitle" },
                                              [
                                                e._v(
                                                  " " +
                                                    e._s(
                                                      e.$t(
                                                        "MiddlePostDetail.vote_have_already_vote"
                                                      )
                                                    ) +
                                                    e._s(
                                                      e.post_detail.post_media
                                                        .user_voted_option_title
                                                    ) +
                                                    " "
                                                ),
                                              ]
                                            )
                                          : t(
                                              "div",
                                              { staticClass: "vote-subtitle" },
                                              [
                                                e._v(
                                                  e._s(
                                                    e.$t(
                                                      "MiddlePostDetail.vote_not_vote_yet"
                                                    )
                                                  )
                                                ),
                                              ]
                                            ),
                                        e._l(
                                          e.post_detail.post_media.option_list,
                                          function (i, s) {
                                            return t(
                                              "div",
                                              {
                                                key: s,
                                                staticClass: "vote-option-list",
                                                on: {
                                                  click: function (t) {
                                                    return e.vote(i.option_id);
                                                  },
                                                },
                                              },
                                              [
                                                t(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "vote-option-lower",
                                                  },
                                                  [
                                                    t(
                                                      "div",
                                                      {
                                                        class: i.is_voted
                                                          ? "vote-option-lower-text-left-voted"
                                                          : "vote-option-lower-text-left",
                                                      },
                                                      [
                                                        e._v(
                                                          " " +
                                                            e._s(i.option_title)
                                                        ),
                                                      ]
                                                    ),
                                                    t(
                                                      "div",
                                                      {
                                                        class: i.is_voted
                                                          ? "vote-option-lower-text-right-voted"
                                                          : "vote-option-lower-text-right",
                                                      },
                                                      [
                                                        e._v(
                                                          " " +
                                                            e._s(i.option_num)
                                                        ),
                                                      ]
                                                    ),
                                                  ]
                                                ),
                                                t(
                                                  "div",
                                                  {
                                                    class: i.is_voted
                                                      ? "vote-option-upper-voted"
                                                      : "vote-option-upper",
                                                    style:
                                                      "width:" +
                                                      100 *
                                                        i.option_percentage +
                                                      "%",
                                                  },
                                                  [
                                                    t(
                                                      "div",
                                                      {
                                                        staticClass:
                                                          "vote-option-upper-inner",
                                                        style:
                                                          "width:" +
                                                          (1 /
                                                            i.option_percentage) *
                                                            100 +
                                                          "%",
                                                      },
                                                      [
                                                        t(
                                                          "div",
                                                          {
                                                            staticClass:
                                                              "vote-option-upper-text-left",
                                                          },
                                                          [
                                                            e._v(
                                                              e._s(
                                                                i.option_title
                                                              )
                                                            ),
                                                          ]
                                                        ),
                                                        t(
                                                          "div",
                                                          {
                                                            staticClass:
                                                              "vote-option-upper-text-right",
                                                          },
                                                          [
                                                            e._v(
                                                              e._s(i.option_num)
                                                            ),
                                                          ]
                                                        ),
                                                      ]
                                                    ),
                                                  ]
                                                ),
                                              ]
                                            );
                                          }
                                        ),
                                      ],
                                      2
                                    )
                                  : e._e(),
                                e.post_detail.post_media &&
                                "article" == e.post_detail.post_media.media_type
                                  ? t(
                                      "div",
                                      {
                                        staticClass: "article-card-container",
                                        on: { click: e.functionArticle },
                                      },
                                      [
                                        t("img", {
                                          staticClass: "article-image",
                                          attrs: {
                                            src: e.post_detail.post_media
                                              .article_image,
                                          },
                                        }),
                                        t(
                                          "div",
                                          { staticClass: "article-title" },
                                          [
                                            e._v(
                                              e._s(
                                                e.post_detail.post_media
                                                  .article_title
                                              )
                                            ),
                                          ]
                                        ),
                                      ]
                                    )
                                  : e._e(),
                              ],
                              2
                            ),
                          ]),
                        ]),
                        t("div", { staticClass: "topic-bar" }, [
                          t("div", { staticClass: "topic-tab" }, [
                            t(
                              "button",
                              {
                                staticClass: "topic-button",
                                on: {
                                  click: function (t) {
                                    return e.reply(null, null);
                                  },
                                },
                              },
                              [
                                t("img", {
                                  staticStyle: { height: "15px" },
                                  attrs: { src: i(84193) },
                                }),
                                t("span", { staticClass: "count-text" }, [
                                  e._v(e._s(e.post_detail.post_comment_num)),
                                ]),
                              ]
                            ),
                            t(
                              "button",
                              {
                                staticClass: "topic-button",
                                on: { click: e.follow },
                              },
                              [
                                e.post_detail.is_following
                                  ? t("img", {
                                      staticStyle: { height: "15px" },
                                      attrs: { src: i(14498) },
                                    })
                                  : t("img", {
                                      staticStyle: { height: "15px" },
                                      attrs: { src: i(38510) },
                                    }),
                                t("span", { staticClass: "count-text" }, [
                                  e._v(e._s(e.post_detail.post_follower_num)),
                                ]),
                              ]
                            ),
                            t(
                              "button",
                              {
                                staticClass: "topic-button",
                                on: { click: e.share },
                              },
                              [
                                t("img", {
                                  staticStyle: { height: "15px" },
                                  attrs: { src: i(30761) },
                                }),
                                t("span", { staticClass: "count-text" }),
                              ]
                            ),
                          ]),
                        ]),
                      ]
                    ),
                    e.post_detail.post_media &&
                    "sharing" == e.post_detail.post_media.media_type
                      ? t("div", { staticClass: "sharing-ad-outer" }, [
                          t(
                            "div",
                            {
                              staticStyle: {
                                "font-size": "20px",
                                "font-weight": "bold",
                              },
                            },
                            [
                              e._v(
                                "这是一篇来自于 Triple Uni「分享」区的精品文章。"
                              ),
                            ]
                          ),
                          t(
                            "div",
                            {
                              staticStyle: {
                                "font-size": "16px",
                                "margin-top": "10px",
                              },
                            },
                            [
                              e._v(
                                "这篇文章使用 Markdown 编写，经 Triple Uni 筛选后发布。"
                              ),
                            ]
                          ),
                          t(
                            "div",
                            {
                              staticStyle: {
                                "font-size": "16px",
                                "margin-top": "3px",
                              },
                            },
                            [
                              e._v(
                                "如果你觉得这篇文章对你有帮助，可以点击收藏支持作者。"
                              ),
                            ]
                          ),
                          t(
                            "div",
                            {
                              staticStyle: {
                                "font-size": "16px",
                                "margin-top": "3px",
                              },
                            },
                            [
                              e._v("如果你也想分享你的知识和经验，请阅读"),
                              t(
                                "a",
                                {
                                  attrs: {
                                    href: "https://tripleuni.com/post/655080",
                                  },
                                },
                                [e._v("此树洞")]
                              ),
                              e._v("。"),
                            ]
                          ),
                        ])
                      : e._e(),
                    e.ad_info.ad_image
                      ? t("div", { staticClass: "ad-outer" }, [
                          t("img", {
                            staticClass: "ad-img",
                            attrs: { src: e.ad_info.ad_image },
                            on: { click: e.nav2Ad },
                          }),
                        ])
                      : e._e(),
                    e._l(e.post_detail.post_comment_num, function (i) {
                      return t(
                        "div",
                        {
                          directives: [
                            {
                              name: "show",
                              rawName: "v-show",
                              value: e.is_skeleton,
                              expression: "is_skeleton",
                            },
                          ],
                          key: "skeleton" + i,
                          staticClass: "comment-outer",
                        },
                        [
                          t("div", {
                            staticClass:
                              "comment-avatar skeleton skeleton-comment-avatar",
                          }),
                          t("div", { staticClass: "comment-main" }, [
                            t("div", { staticClass: "comment-header" }, [
                              t(
                                "div",
                                { staticClass: "comment-header-title" },
                                [
                                  t("div", {
                                    staticClass:
                                      "comment-id skeleton skeleton-comment-id",
                                  }),
                                  t("div", {
                                    staticClass:
                                      "comment-order-and-time skeleton skeleton-order-and-time",
                                  }),
                                ]
                              ),
                              t("div", {
                                staticClass:
                                  "comment-reply-and-delete-outer skeleton skeleton-comment-reply-and-delete-outer",
                              }),
                            ]),
                            t("div", { staticClass: "comment-msg-holder" }, [
                              t("div", { staticClass: "comment-father-msg" }),
                              t("div", { staticClass: "comment-msg" }, [
                                t("div", {
                                  staticClass:
                                    "skeleton skeleton-comment-msg-line-1",
                                }),
                                t("div", {
                                  staticClass:
                                    "skeleton skeleton-comment-msg-line-2",
                                }),
                              ]),
                            ]),
                          ]),
                        ]
                      );
                    }),
                    e._l(e.comment_list, function (s, n) {
                      return t(
                        "div",
                        { key: n, staticClass: "comment-outer" },
                        [
                          t("img", {
                            staticClass: "comment-avatar",
                            attrs: {
                              src:
                                "https://i.boatonland.com/avatar/" +
                                s.user_avatar +
                                ".svg",
                            },
                            on: {
                              click: function (t) {
                                return e.user(
                                  t,
                                  s.user_is_real_name,
                                  s.user_serial,
                                  s.user_school_label,
                                  s.comment_order,
                                  s.user_is_org
                                );
                              },
                            },
                          }),
                          t("div", { staticClass: "comment-main" }, [
                            t("div", { staticClass: "comment-header" }, [
                              t(
                                "div",
                                { staticClass: "comment-header-title" },
                                [
                                  t(
                                    "div",
                                    {
                                      staticClass: "comment-id",
                                      on: {
                                        click: function (t) {
                                          return e.user(
                                            t,
                                            s.user_is_real_name,
                                            s.user_serial,
                                            s.user_school_label,
                                            s.comment_order
                                          );
                                        },
                                      },
                                    },
                                    [
                                      e._v(
                                        " " +
                                          e._s(
                                            s.user_is_real_name
                                              ? s.user_serial
                                              : s.user_is_post_owner
                                              ? e.$t(
                                                  "MiddlePostDetail.post_owner"
                                                )
                                              : s.user_simple_alias
                                          )
                                      ),
                                      s.is_author
                                        ? t("span", [
                                            e._v(
                                              e._s(
                                                e.$t("MiddlePostDetail.is_me")
                                              )
                                            ),
                                          ])
                                        : e._e(),
                                      s.user_school_label != e.user_school_label
                                        ? t("span", [
                                            e._v(
                                              "@" + e._s(s.user_school_label)
                                            ),
                                          ])
                                        : e._e(),
                                    ]
                                  ),
                                  t(
                                    "div",
                                    { staticClass: "comment-order-and-time" },
                                    [
                                      0 == s.comment_order
                                        ? t("span", [e._v("G ·")])
                                        : t("span", [
                                            e._v(
                                              "LG" +
                                                e._s(s.comment_order) +
                                                " · "
                                            ),
                                          ]),
                                      e._v(
                                        " " +
                                          e._s(s.comment_create_time_display) +
                                          " "
                                      ),
                                    ]
                                  ),
                                ]
                              ),
                              t(
                                "div",
                                {
                                  staticClass: "comment-reply-and-delete-outer",
                                },
                                [
                                  t("img", {
                                    staticClass: "comment-report-icon",
                                    attrs: { src: i(62859) },
                                    on: {
                                      click: function (t) {
                                        return e.report(
                                          s.comment_msg,
                                          s.comment_order
                                        );
                                      },
                                    },
                                  }),
                                  s.is_author
                                    ? t("img", {
                                        staticClass: "comment-delete-icon",
                                        attrs: { src: i(2589) },
                                        on: {
                                          click: function (t) {
                                            return e.deleteComment(
                                              s.comment_id
                                            );
                                          },
                                        },
                                      })
                                    : t("img", {
                                        staticClass: "comment-reply-icon",
                                        attrs: { src: i(98311) },
                                        on: {
                                          click: function (t) {
                                            return e.reply(
                                              s.comment_id,
                                              s.comment_order,
                                              s.user_is_org
                                            );
                                          },
                                        },
                                      }),
                                ]
                              ),
                            ]),
                            t(
                              "div",
                              { staticClass: "comment-msg-holder" },
                              [
                                t(
                                  "div",
                                  { staticClass: "comment-father-msg" },
                                  [
                                    e._v(e._s(s.comment_father_msg)),
                                    s.comment_father_msg_en
                                      ? t("span", [
                                          t("br"),
                                          e._v(e._s(s.comment_father_msg_en)),
                                        ])
                                      : e._e(),
                                  ]
                                ),
                                t("div", { staticClass: "comment-msg" }, [
                                  t("span", {
                                    domProps: {
                                      innerHTML: e._s(s.comment_msg_display),
                                    },
                                  }),
                                ]),
                                e.show_translate
                                  ? [
                                      s.comment_msg_display_en
                                        ? t(
                                            "div",
                                            { staticClass: "comment-msg" },
                                            [
                                              e._v(
                                                e._s(s.comment_msg_display_en)
                                              ),
                                            ]
                                          )
                                        : e._e(),
                                      s.comment_msg_display_en ||
                                      s.is_translating
                                        ? e._e()
                                        : t(
                                            "div",
                                            {
                                              staticClass: "post-translate",
                                              on: {
                                                click: function (t) {
                                                  return (
                                                    t.stopPropagation(),
                                                    e.translateComment(n)
                                                  );
                                                },
                                              },
                                            },
                                            [
                                              e._v(
                                                e._s(
                                                  e.$t(
                                                    "MiddlePostDetail.translate"
                                                  )
                                                )
                                              ),
                                            ]
                                          ),
                                      s.is_translating
                                        ? t("img", {
                                            staticClass:
                                              "post-translate-loading",
                                            attrs: { src: e.loading_src },
                                          })
                                        : e._e(),
                                    ]
                                  : e._e(),
                                s.comment_image
                                  ? t(
                                      "div",
                                      {
                                        staticClass: "comment-image-container",
                                      },
                                      [
                                        t("img", {
                                          staticClass: "comment-image",
                                          attrs: { src: s.comment_image[0] },
                                          on: {
                                            click: function (t) {
                                              return (
                                                t.stopPropagation(),
                                                e.previewImage(
                                                  s.comment_image[0]
                                                )
                                              );
                                            },
                                          },
                                        }),
                                      ]
                                    )
                                  : e._e(),
                              ],
                              2
                            ),
                          ]),
                        ]
                      );
                    }),
                    t("LoadMore", {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: e.post_detail.uni_post_id,
                          expression: "post_detail.uni_post_id",
                        },
                      ],
                      attrs: { is_last: !0 },
                    }),
                  ],
                  2
                ),
              ],
              1
            );
          },
          ai = [];
        const ri = (e, t) => {
          const i = /(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|%|\:|-)+)/g,
            s = /(\D)#?(\d{5,6})(\D)/g;
          return (
            (e = e
              .replace(
                s,
                "$1<span> <a href=\"javascript:void(0);\" onclick=\"nav2Post('$2', '" +
                  t +
                  "')\">$2</a> </span>$3"
              )
              .replace(i, '<a href="$1$2" target="_blank">$1$2</a>')),
            e
          );
        };
        var li = {
            name: "UniMiddlePostDetail",
            components: { Navbar: ct, LoadMore: Qe, One: je },
            created() {
              window.scrollTo({ top: 0 }),
                (this.uni_post_id = this.$route.params.uni_post_id),
                this.$route.params.post_detail
                  ? ((this.post_detail = this.$route.params.post_detail),
                    (this.is_skeleton = !0))
                  : this.$loading.show(),
                this.getPostDetail(),
                (this.logo_src = i(55652)(
                  "./logo-" + localStorage.getItem("user_school_label") + ".png"
                )),
                (this.user_school_label =
                  localStorage.getItem("user_school_label"));
              const e =
                localStorage.getItem("language") ||
                navigator.language ||
                navigator.userLanguage;
              e.startsWith("zh") || (this.show_translate = !0),
                (window.nav2Post = this.nav2Post);
            },
            beforeRouteUpdate(e, t, i) {
              t.path.startsWith("/post/") && e.path.startsWith("/post/")
                ? (i(),
                  this.$loading.show(),
                  (this.uni_post_id = this.$route.params.uni_post_id),
                  this.getPostDetail())
                : i();
            },
            data() {
              return {
                user_school_label: "",
                uni_post_id: null,
                post_detail: {},
                comment_list: [],
                ad_info: {},
                finishRefresh: null,
                logo_src: null,
                title: "",
                post_msg_en: "",
                loading_src: null,
                show_translate: !1,
                is_skeleton: !1,
              };
            },
            methods: {
              getPostDetail() {
                this.getAd(),
                  Ms(
                    "/post/single/get",
                    { uni_post_id: this.uni_post_id },
                    !0,
                    [400]
                  ).then((e) => {
                    if (
                      (this.$loading.hide(),
                      (this.is_skeleton = !1),
                      this.finishRefresh && this.finishRefresh(),
                      !e)
                    )
                      return;
                    if (400 == e.code)
                      return void this.$modal.show({
                        content: this.$t("/post/single/get.400"),
                        success: () => {
                          window.history.length <= 1
                            ? this.$router.push("/home")
                            : this.$router.back();
                        },
                      });
                    (e.post_detail.post_create_time_display = Le(
                      e.post_detail.post_create_time
                    )),
                      e.post_detail.user_serial &&
                        (e.post_detail.user_serial = this.capitalizeFirstLetter(
                          e.post_detail.user_serial
                        )),
                      (e.post_detail.post_topic = Ue(e.post_detail.post_topic)),
                      (e.post_detail.is_translating = !1),
                      (e.post_detail.post_msg = ri(
                        e.post_detail.post_msg,
                        e.post_detail.user_school_label
                      )),
                      e.post_detail.post_msg_markdown
                        ? (e.post_detail.post_msg_markdown_html = vt().parse(
                            e.post_detail.post_msg_markdown
                          ))
                        : (e.post_detail.post_msg_markdown_html = null),
                      e.post_detail.post_msg_en ||
                        (e.post_detail.post_msg_en = ""),
                      e.comment_list.forEach((e) => {
                        (e.comment_create_time_display = Le(
                          e.comment_create_time
                        )),
                          e.user_serial &&
                            (e.user_serial = this.capitalizeFirstLetter(
                              e.user_serial
                            )),
                          e.user_simple_alias &&
                            (e.user_simple_alias = this.capitalizeFirstLetter(
                              e.user_simple_alias
                            )),
                          (e.is_translating = !1),
                          e.comment_msg_display_en ||
                            (e.comment_msg_display_en = ""),
                          e.comment_father_msg_en ||
                            (e.comment_father_msg_en = ""),
                          (e.comment_msg_display = ri(
                            e.comment_msg_display,
                            e.user_school_label
                          ));
                      }),
                      (this.post_detail = e.post_detail),
                      (this.comment_list = e.comment_list);
                    const t = localStorage.getItem("user_school_label");
                    "HKU" == t &&
                      ((document.title =
                        this.$t("MiddlePostDetail.title") +
                        "#" +
                        e.post_detail.post_id +
                        " / " +
                        this.$t("AppNameTitle.HKU")),
                      (this.title =
                        this.$t("MiddlePostDetail.title") +
                        "#" +
                        e.post_detail.post_id +
                        " / " +
                        this.$t("AppNameTitle.HKU"))),
                      "CUHK" == t &&
                        ((document.title =
                          this.$t("MiddlePostDetail.title") +
                          "#" +
                          e.post_detail.post_id +
                          " / " +
                          this.$t("AppNameTitle.CUHK")),
                        (this.title =
                          this.$t("MiddlePostDetail.title") +
                          "#" +
                          e.post_detail.post_id +
                          " / " +
                          this.$t("AppNameTitle.CUHK"))),
                      "UST" == t &&
                        ((document.title =
                          this.$t("MiddlePostDetail.title") +
                          "#" +
                          e.post_detail.post_id +
                          " / " +
                          this.$t("AppNameTitle.UST")),
                        (this.title =
                          this.$t("MiddlePostDetail.title") +
                          "#" +
                          e.post_detail.post_id +
                          " / " +
                          this.$t("AppNameTitle.UST")));
                  });
              },
              getAd() {
                Ms("/info/detailad").then((e) => {
                  e && e.ad_info && (this.ad_info = e.ad_info);
                });
              },
              delete() {
                this.$modal.show({
                  title: this.$t("MiddlePostDetail.delete_title"),
                  content: this.$t("MiddlePostDetail.delete_content"),
                  show_cancel: !0,
                  success: (e) => {
                    e &&
                      (this.$loading.show(),
                      Ms("/post/single/delete", {
                        uni_post_id: this.uni_post_id,
                      }).then((e) => {
                        this.$loading.hide(),
                          e &&
                            (y({
                              content: this.$t("/post/single/delete." + e.code),
                            }),
                            window.history.length <= 1
                              ? this.$router.push("/home")
                              : this.$router.back());
                      }));
                  },
                });
              },
              private() {
                this.$loading.show(),
                  Ms("/post/single/private", {
                    uni_post_id: this.uni_post_id,
                  }).then((e) => {
                    this.$loading.hide(),
                      e &&
                        (y({
                          content: this.$t("/post/single/private." + e.code),
                        }),
                        this.getPostDetail());
                  });
              },
              public() {
                this.$loading.show(),
                  Ms("/post/single/public", {
                    uni_post_id: this.uni_post_id,
                  }).then((e) => {
                    this.$loading.hide(),
                      e &&
                        (y({
                          content: this.$t("/post/single/public." + e.code),
                        }),
                        this.getPostDetail());
                  });
              },
              deleteComment(e) {
                this.$modal.show({
                  title: this.$t("MiddlePostDetail.delete_comment_title"),
                  content: this.$t("MiddlePostDetail.delete_comment_content"),
                  show_cancel: !0,
                  success: (t) => {
                    t &&
                      (this.$loading.show(),
                      Ms("/comment/delete", { comment_id: e }).then((e) => {
                        this.$loading.hide(),
                          e &&
                            (y({
                              content: this.$t("/comment/delete." + e.code),
                            }),
                            this.getPostDetail());
                      }));
                  },
                });
              },
              follow() {
                this.$loading.show(),
                  Ms("/post/single/follow", {
                    uni_post_id: this.uni_post_id,
                  }).then((e) => {
                    this.$loading.hide(),
                      e &&
                        (y({
                          content: this.$t("/post/single/follow." + e.code),
                        }),
                        200 == e.code && this.checkWebpush(),
                        this.getPostDetail());
                  });
              },
              vote(e) {
                this.$loading.show(),
                  Ms("/post/media/vote/vote", { option_id: e }).then((e) => {
                    e &&
                      Ms("/post/single/get", {
                        uni_post_id: this.uni_post_id,
                      }).then((t) => {
                        this.$loading.hide(),
                          this.finishRefresh && this.finishRefresh(),
                          t &&
                            ((t.post_detail.post_create_time_display = Le(
                              t.post_detail.post_create_time
                            )),
                            t.post_detail.user_serial &&
                              (t.post_detail.user_serial =
                                this.capitalizeFirstLetter(
                                  t.post_detail.user_serial
                                )),
                            (t.post_detail.post_topic = Ue(
                              t.post_detail.post_topic
                            )),
                            (t.post_detail.is_translating = !1),
                            (t.post_detail.post_msg = ri(
                              t.post_detail.post_msg,
                              t.post_detail.user_school_label
                            )),
                            t.post_detail.post_msg_markdown
                              ? (t.post_detail.post_msg_markdown_html =
                                  vt().parse(t.post_detail.post_msg_markdown))
                              : (t.post_detail.post_msg_markdown_html = null),
                            t.post_detail.post_msg_en ||
                              (t.post_detail.post_msg_en = ""),
                            t.comment_list.forEach((e) => {
                              (e.comment_create_time_display = Le(
                                e.comment_create_time
                              )),
                                e.user_serial &&
                                  (e.user_serial = this.capitalizeFirstLetter(
                                    e.user_serial
                                  )),
                                e.user_simple_alias &&
                                  (e.user_simple_alias =
                                    this.capitalizeFirstLetter(
                                      e.user_simple_alias
                                    )),
                                (e.is_translating = !1),
                                e.comment_msg_display_en ||
                                  (e.comment_msg_display_en = ""),
                                e.comment_father_msg_en ||
                                  (e.comment_father_msg_en = "");
                            }),
                            (this.post_detail = t.post_detail),
                            (this.comment_list = t.comment_list),
                            y({
                              content: this.$t(
                                "/post/media/vote/vote." + e.code
                              ),
                            }));
                      });
                  });
              },
              share() {
                const e =
                  "https://tripleuni.com/post/" + this.post_detail.uni_post_id;
                try {
                  navigator.clipboard.writeText(e),
                    y({
                      content: this.$t("MiddlePostDetail.copy_link_success"),
                    });
                } catch (t) {
                  console.log(t),
                    y({ content: this.$t("MiddlePostDetail.copy_link_fail") });
                }
              },
              reply(e, t) {
                this.$reply.show({
                  uni_post_id: this.uni_post_id,
                  comment_father_id: e,
                  comment_order: t,
                  success: () => {
                    this.getPostDetail();
                  },
                });
              },
              report(e, t) {
                this.$report.show({
                  uni_post_id: this.uni_post_id,
                  comment_msg: e,
                  comment_order: t,
                  success: () => {},
                });
              },
              user(e, t, i, s, n, o) {
                t
                  ? o
                    ? this.$router.push("/org/" + i)
                    : this.$router.push("/user/" + s + "/" + i)
                  : this.$contextmenu({
                      items: [
                        {
                          label: this.$t("MiddlePostDetail.menu_realname_pm"),
                          onClick: () => {
                            this.createChat(!0, n);
                          },
                        },
                        {
                          label: this.$t("MiddlePostDetail.menu_anonymous_pm"),
                          onClick: () => {
                            this.createChat(!1, n);
                          },
                        },
                      ],
                      event: e,
                      customClass: "menu-theme",
                      zIndex: 99,
                      minWidth: 150,
                    });
              },
              createChat(e, t) {
                this.$loading.show(),
                  Ms("/pm/chat/create", {
                    sender_is_real_name: e,
                    to_type: "post",
                    uni_post_id: this.uni_post_id,
                    comment_order: t,
                  }).then((e) => {
                    this.$loading.hide(),
                      e &&
                        (this.$router.push("/chat/" + e.chat_id),
                        this.checkWebpushPm());
                  });
              },
              deleteComment(e) {
                this.$modal.show({
                  title: this.$t("MiddlePostDetail.delete_comment_title"),
                  content: this.$t("MiddlePostDetail.delete_comment_content"),
                  show_cancel: !0,
                  success: (t) => {
                    t &&
                      (this.$loading.show(),
                      Ms("/comment/delete", { comment_id: e }).then((e) => {
                        this.$loading.hide(),
                          e &&
                            (y({
                              content: this.$t("/comment/delete." + e.code),
                            }),
                            this.getPostDetail());
                      }));
                  },
                });
              },
              more(e) {
                this.post_detail.is_author
                  ? 1 == this.post_detail.post_public
                    ? this.$contextmenu({
                        items: [
                          {
                            label: this.$t("MiddlePostDetail.menu_share"),
                            onClick: () => {
                              this.share();
                            },
                          },
                          {
                            label: this.$t("MiddlePostDetail.menu_private"),
                            onClick: () => {
                              this.private();
                            },
                          },
                          {
                            label: this.$t("MiddlePostDetail.menu_delete"),
                            onClick: () => {
                              this.delete();
                            },
                          },
                        ],
                        event: e,
                        customClass: "menu-theme",
                        zIndex: 99,
                        minWidth: 150,
                      })
                    : 2 == this.post_detail.post_public
                    ? this.$contextmenu({
                        items: [
                          {
                            label: this.$t("MiddlePostDetail.menu_share"),
                            onClick: () => {
                              this.share();
                            },
                          },
                          {
                            label: this.$t("MiddlePostDetail.menu_public"),
                            onClick: () => {
                              this.public();
                            },
                          },
                          {
                            label: this.$t("MiddlePostDetail.menu_delete"),
                            onClick: () => {
                              this.delete();
                            },
                          },
                        ],
                        event: e,
                        customClass: "menu-theme",
                        zIndex: 99,
                        minWidth: 150,
                      })
                    : this.$contextmenu({
                        items: [
                          {
                            label: this.$t("MiddlePostDetail.menu_delete"),
                            onClick: () => {
                              this.delete();
                            },
                          },
                        ],
                        event: e,
                        customClass: "menu-theme",
                        zIndex: 99,
                        minWidth: 150,
                      })
                  : this.post_detail.is_following
                  ? this.$contextmenu({
                      items: [
                        {
                          label: this.$t("MiddlePostDetail.menu_share"),
                          onClick: () => {
                            this.share();
                          },
                        },
                        {
                          label: this.$t("MiddlePostDetail.menu_unfollow"),
                          onClick: () => {
                            this.follow();
                          },
                        },
                      ],
                      event: e,
                      customClass: "menu-theme",
                      zIndex: 99,
                      minWidth: 150,
                    })
                  : this.$contextmenu({
                      items: [
                        {
                          label: this.$t("MiddlePostDetail.menu_share"),
                          onClick: () => {
                            this.share();
                          },
                        },
                        {
                          label: this.$t("MiddlePostDetail.menu_follow"),
                          onClick: () => {
                            this.follow();
                          },
                        },
                      ],
                      event: e,
                      customClass: "menu-theme",
                      zIndex: 99,
                      minWidth: 150,
                    });
              },
              functionNetease() {
                this.post_detail.post_media.netease_id &&
                  window.open(
                    "https://music.163.com/#/song?id=" +
                      this.post_detail.post_media.netease_id
                  );
              },
              functionBilibili() {
                this.post_detail.post_media.bilibili_bv &&
                  window.open(
                    "https://www.bilibili.com/video/" +
                      this.post_detail.post_media.bilibili_bv
                  );
              },
              functionMiniapp() {
                this.$modal.show({
                  content: this.$t(
                    "MiddlePostDetail.function_miniapp_not_support"
                  ),
                });
              },
              functionQuote() {
                this.post_detail.post_media.uni_post_id &&
                  this.$router.push(
                    "/post/" + this.post_detail.post_media.uni_post_id
                  );
              },
              functionArticle() {
                this.post_detail.post_media.article_link &&
                  window.open(this.post_detail.post_media.article_link);
              },
              functionFile() {
                this.post_detail.post_media.file_link &&
                  window.open(this.post_detail.post_media.file_link);
              },
              functionHKUGroup() {
                /(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)
                  ? (this.$loading.show(),
                    Ms("/hku/group/group/link", {
                      group_id: this.post_detail.post_media.group_id,
                    }).then((e) => {
                      this.$loading.hide(),
                        e &&
                          setTimeout(() => {
                            window.open(e.link);
                          }, 10);
                    }))
                  : (y({ content: this.$t("MiddlePostDetail.hku_group_scan") }),
                    this.$hevueImgPreview({
                      url:
                        "https://i.boatonland.com/HKU/group/miniapp/" +
                        this.post_detail.post_media.group_id +
                        ".png",
                      clickMaskCLose: !0,
                      controlBar: !1,
                    }));
              },
              onRefresh(e) {
                (this.finishRefresh = e), this.getPostDetail();
              },
              previewImage(e) {
                this.$hevueImgPreview({
                  url: e,
                  clickMaskCLose: !0,
                  controlBar: !1,
                });
              },
              capitalizeFirstLetter(e) {
                return e.charAt(0).toUpperCase() + e.slice(1);
              },
              checkWebpush() {
                "Notification" in window &&
                  "granted" !== Notification.permission &&
                  "denied" != Notification.permission &&
                  this.$modal.show({
                    title: this.$t("Webpush.follow_title"),
                    content: this.$t("Webpush.follow_content"),
                    show_cancel: !0,
                    success: (e) => {
                      e &&
                        Notification.requestPermission().then((e) => {
                          "granted" === e
                            ? w(!0)
                            : this.$modal.show({
                                title: this.$t("Webpush.deny_title"),
                                content: this.$t("Webpush.deny_content"),
                                show_cancel: !1,
                              });
                        });
                    },
                  });
              },
              checkWebpushPm() {
                "Notification" in window &&
                  "granted" !== Notification.permission &&
                  "denied" != Notification.permission &&
                  this.$modal.show({
                    title: this.$t("Webpush.pm_title"),
                    content: this.$t("Webpush.pm_content"),
                    show_cancel: !0,
                    success: (e) => {
                      e &&
                        Notification.requestPermission().then((e) => {
                          "granted" === e
                            ? w(!0)
                            : this.$modal.show({
                                title: this.$t("Webpush.deny_title"),
                                content: this.$t("Webpush.deny_content"),
                                show_cancel: !1,
                              });
                        });
                    },
                  });
              },
              translatePost() {
                const e = localStorage.getItem("user_school_label");
                (this.loading_src = e
                  ? i(44451)(
                      "./loading-" +
                        localStorage.getItem("user_school_label") +
                        ".svg"
                    )
                  : i(93005)),
                  (this.post_detail.is_translating = !0),
                  Ne(this.post_detail.post_msg).then((e) => {
                    (this.post_detail.is_translating = !1),
                      (this.post_detail.post_msg_en = e);
                  });
              },
              translateComment(e) {
                const t = localStorage.getItem("user_school_label");
                (this.loading_src = t
                  ? i(44451)(
                      "./loading-" +
                        localStorage.getItem("user_school_label") +
                        ".svg"
                    )
                  : i(93005)),
                  (this.comment_list[e].is_translating = !0),
                  Ne(this.comment_list[e].comment_msg_display).then((t) => {
                    (this.comment_list[e].is_translating = !1),
                      (this.comment_list[e].comment_msg_display_en = t);
                  }),
                  Ne(this.comment_list[e].comment_father_msg).then((t) => {
                    this.comment_list[e].comment_father_msg_en = t;
                  });
              },
              nav2Post(e, t) {
                Ms("/post/single/id", {
                  post_id: Number(e),
                  post_school_label: t,
                }).then((e) => {
                  e && this.$router.push("/post/" + e.uni_post_id);
                });
              },
              nav2Ad() {
                switch (this.ad_info.ad_type) {
                  case "article":
                    window.open(this.ad_info.article_link);
                    break;
                  case "post":
                    this.$router.push("/post/" + this.ad_info.uni_post_id);
                    break;
                  case "inner":
                    y({ content: this.$t("Banner.inner") });
                    break;
                  case "miniapp":
                    y({ content: this.$t("Banner.miniapp") });
                    break;
                  case "none":
                  default:
                    break;
                }
              },
            },
          },
          ci = li,
          ui = (0, E.Z)(ci, oi, ai, !1, null, "f5fac5d4", null),
          di = ui.exports,
          hi = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { staticStyle: { width: "100%" } },
              [
                t("Navbar", {
                  attrs: {
                    title: e.user_info.user_serial
                      ? e.user_info.user_serial
                      : "",
                  },
                }),
                t(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: e.user_info,
                        expression: "user_info",
                      },
                    ],
                    staticClass: "user-outer",
                  },
                  [
                    t("div", { staticClass: "user-left-container" }, [
                      t("img", {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: e.user_info.user_avatar,
                            expression: "user_info.user_avatar",
                          },
                        ],
                        staticClass: "user-avatar",
                        attrs: {
                          src:
                            "https://i.boatonland.com/avatar/" +
                            e.user_info.user_avatar +
                            ".svg",
                        },
                      }),
                      t("div", { staticClass: "user-serial" }, [
                        e._v(e._s(e.user_info.user_serial)),
                      ]),
                    ]),
                    t(
                      "div",
                      {
                        staticClass: "user-button",
                        on: {
                          click: function (t) {
                            return (
                              t.preventDefault(), e.pm.apply(null, arguments)
                            );
                          },
                        },
                      },
                      [e._v(e._s(e.$t("MiddleUser.pm")))]
                    ),
                  ]
                ),
                t(
                  "Refresh",
                  { attrs: { "on-refresh": e.onRefresh } },
                  [
                    e._l(e.one_list, function (e, i) {
                      return t("One", {
                        key: i,
                        attrs: { type: e.type, data: e.data },
                      });
                    }),
                    t("LoadMore", {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: e.is_loading_more || e.is_last,
                          expression: "is_loading_more || is_last",
                        },
                      ],
                      attrs: { is_last: e.is_last },
                    }),
                  ],
                  2
                ),
              ],
              1
            );
          },
          pi = [],
          _i = {
            name: "UniMiddleUser",
            components: { Navbar: ct, LoadMore: Qe, One: je },
            created() {
              (this.user_school_label = this.$route.params.user_school_label),
                (this.user_serial = this.$route.params.user_serial),
                this.$loading.show(),
                this.getUserProfile(),
                this.getPostByUser();
            },
            mounted() {
              window.addEventListener("scroll", this.handleScroll, !0);
            },
            destroyed() {
              window.removeEventListener("scroll", this.handleScroll, !0);
            },
            activated() {
              document.title = this.title;
            },
            data() {
              return {
                user_school_label: null,
                user_serial: null,
                page: 0,
                one_list: [],
                is_last: !1,
                is_loading_more: !1,
                finishRefresh: null,
                user_info: {},
                title: "",
              };
            },
            methods: {
              getUserProfile() {
                Ms(
                  "/user/profile/visit",
                  {
                    visit_user_serial: this.user_serial,
                    visit_user_school_label: this.user_school_label,
                  },
                  !0,
                  [400]
                ).then((e) => {
                  if (!e) return;
                  if (400 == e.code)
                    return void this.$modal.show({
                      content: this.$t("/user/profile/visit.400"),
                      success: () => {
                        window.history.length <= 1
                          ? this.$router.push("/home")
                          : this.$router.back();
                      },
                    });
                  if ("organization" == e.user_info.user_type)
                    return void this.$router.replace(
                      "/org/" + e.user_info.user_serial
                    );
                  this.user_info = e.user_info;
                  const t = localStorage.getItem("user_school_label");
                  "HKU" == t &&
                    (this.title =
                      this.$t("MiddleUser.title", {
                        user_serial: e.user_info.user_serial,
                      }) +
                      " / " +
                      this.$t("AppNameTitle.HKU")),
                    "CUHK" == t &&
                      (this.title =
                        this.$t("MiddleUser.title", {
                          user_serial: e.user_info.user_serial,
                        }) +
                        " / " +
                        this.$t("AppNameTitle.CUHK")),
                    "UST" == t &&
                      (this.title =
                        this.$t("MiddleUser.title", {
                          user_serial: e.user_info.user_serial,
                        }) +
                        " / " +
                        this.$t("AppNameTitle.UST")),
                    (document.title = this.title);
                });
              },
              getPostByUser() {
                Ms("/post/list/user", {
                  visit_user_serial: this.user_serial,
                  visit_user_school_label: this.user_school_label,
                  page: this.page,
                }).then((e) => {
                  this.$loading.hide(),
                    this.finishRefresh && this.finishRefresh(),
                    e &&
                      ((this.is_loading_more = !1),
                      (this.is_last = e.is_last),
                      e.one_list.forEach((e) => {
                        "post" == e.type &&
                          (e.data.post_topic = Ue(e.data.post_topic));
                      }),
                      0 == this.page
                        ? (this.one_list = e.one_list)
                        : (this.one_list = this.one_list.concat(e.one_list)));
                });
              },
              onRefresh(e) {
                (this.finishRefresh = e),
                  (this.page = 0),
                  (this.is_loading_more = !0),
                  this.getPostByUser();
              },
              loadMore() {
                this.is_loading_more ||
                  this.is_last ||
                  ((this.is_loading_more = !0),
                  (this.page = this.page + 1),
                  this.getPostByUser());
              },
              handleScroll() {
                const e = document.documentElement.scrollHeight,
                  t =
                    document.documentElement.scrollTop ||
                    document.body.scrollTop,
                  i = document.documentElement.clientHeight;
                t + i >= e - 1400 && this.loadMore();
              },
              pm(e) {
                return (
                  this.$contextmenu({
                    items: [
                      {
                        label: this.$t("MiddleUser.realname_pm"),
                        onClick: () => {
                          this.createChat(!0);
                        },
                      },
                      {
                        label: this.$t("MiddleUser.anonymous_pm"),
                        onClick: () => {
                          this.createChat(!1);
                        },
                      },
                    ],
                    event: e,
                    customClass: "menu-theme",
                    zIndex: 99,
                    minWidth: 150,
                  }),
                  !1
                );
              },
              createChat(e) {
                this.$loading.show(),
                  Ms("/pm/chat/create", {
                    sender_is_real_name: e,
                    to_type: "user",
                    receiver_serial: this.user_serial,
                    receiver_school_label: this.user_school_label,
                  }).then((e) => {
                    this.$loading.hide(),
                      e &&
                        (this.$router.push("/chat/" + e.chat_id),
                        this.checkWebpushPm());
                  });
              },
              checkWebpushPm() {
                "Notification" in window &&
                  "granted" !== Notification.permission &&
                  "denied" != Notification.permission &&
                  this.$modal.show({
                    title: this.$t("Webpush.pm_title"),
                    content: this.$t("Webpush.pm_content"),
                    show_cancel: !0,
                    success: (e) => {
                      e &&
                        Notification.requestPermission().then((e) => {
                          "granted" === e
                            ? w(!0)
                            : this.$modal.show({
                                title: this.$t("Webpush.deny_title"),
                                content: this.$t("Webpush.deny_content"),
                                show_cancel: !1,
                              });
                        });
                    },
                  });
              },
            },
          },
          mi = _i,
          gi = (0, E.Z)(mi, hi, pi, !1, null, "05fe6d8a", null),
          fi = gi.exports,
          vi = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { staticStyle: { width: "100%" } },
              [
                t("BackSvg", {
                  staticClass: "nav-bar-title-back",
                  nativeOn: {
                    click: function (t) {
                      return e.navBack.apply(null, arguments);
                    },
                  },
                }),
                t(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: e.org_info.org_name,
                        expression: "org_info.org_name",
                      },
                    ],
                    staticClass: "org-outer",
                  },
                  [
                    t("div", { staticClass: "org-bg-container" }, [
                      t("div", { staticClass: "org-bg-ratio" }),
                      t("img", {
                        staticClass: "org-bg",
                        attrs: { src: e.org_info.org_bg_image },
                      }),
                    ]),
                    t(
                      "div",
                      { staticClass: "org-container" },
                      [
                        t("div", { staticClass: "org-name-and-avatar" }, [
                          t("div", { staticClass: "org-name" }, [
                            e._v(e._s(e.org_info.org_name)),
                          ]),
                          t("div", { staticClass: "org-avatar-container" }, [
                            t("img", {
                              staticClass: "org-avatar",
                              attrs: { src: e.org_info.org_avatar },
                            }),
                          ]),
                        ]),
                        t("div", { staticClass: "org-intro-container" }, [
                          t("span", { staticClass: "org-intro" }, [
                            e._v(e._s(e.org_info.org_intro)),
                          ]),
                        ]),
                        e.org_info.org_banner &&
                        e.org_info.org_banner.length > 0
                          ? t(
                              "Swiper",
                              {
                                staticClass: "banner-container",
                                attrs: { showIndicator: !1, interval: "3500" },
                              },
                              e._l(e.org_info.org_banner, function (i, s) {
                                return t("Slide", { key: s }, [
                                  t("img", {
                                    staticClass: "banner-image",
                                    attrs: { src: i.banner_image },
                                    on: {
                                      click: function (t) {
                                        return e.onTapBanner(i);
                                      },
                                    },
                                  }),
                                ]);
                              }),
                              1
                            )
                          : e._e(),
                        e.org_info.org_function_main
                          ? t("div", { staticClass: "org-function-outer" }, [
                              e.org_info.org_function_main
                                ? t(
                                    "div",
                                    {
                                      staticClass: "org-function-container",
                                      on: {
                                        click: function (t) {
                                          return e.handleFunction(
                                            t,
                                            e.org_function_main
                                          );
                                        },
                                      },
                                    },
                                    [
                                      t(
                                        "div",
                                        { staticClass: "org-function-inner" },
                                        [
                                          t(
                                            "div",
                                            {
                                              staticClass: "org-function-title",
                                            },
                                            [
                                              e._v(
                                                e._s(
                                                  e.org_info.org_function_main
                                                    .function_title
                                                )
                                              ),
                                            ]
                                          ),
                                          t("img", {
                                            staticClass: "org-function-arrow",
                                            attrs: { src: i(95719) },
                                          }),
                                        ]
                                      ),
                                    ]
                                  )
                                : e._e(),
                            ])
                          : e._e(),
                        e.org_info.org_function_half &&
                        e.org_info.org_function_half[0]
                          ? t("div", { staticClass: "org-function-outer" }, [
                              e.org_info.org_function_half[0]
                                ? t(
                                    "div",
                                    {
                                      staticClass: "org-function-container",
                                      on: {
                                        click: function (t) {
                                          return e.handleFunction(
                                            t,
                                            e.org_info.org_function_half[0]
                                          );
                                        },
                                      },
                                    },
                                    [
                                      t(
                                        "div",
                                        { staticClass: "org-function-inner" },
                                        [
                                          t(
                                            "div",
                                            {
                                              staticClass: "org-function-title",
                                            },
                                            [
                                              e._v(
                                                e._s(
                                                  e.org_info
                                                    .org_function_half[0]
                                                    .function_title
                                                )
                                              ),
                                            ]
                                          ),
                                          t("img", {
                                            staticClass: "org-function-arrow",
                                            attrs: { src: i(95719) },
                                          }),
                                        ]
                                      ),
                                    ]
                                  )
                                : e._e(),
                              e.org_info.org_function_half[1]
                                ? t(
                                    "div",
                                    {
                                      staticClass: "org-function-container",
                                      on: {
                                        click: function (t) {
                                          return e.handleFunction(
                                            t,
                                            e.org_info.org_function_half[1]
                                          );
                                        },
                                      },
                                    },
                                    [
                                      t(
                                        "div",
                                        { staticClass: "org-function-inner" },
                                        [
                                          t(
                                            "div",
                                            {
                                              staticClass: "org-function-title",
                                            },
                                            [
                                              e._v(
                                                e._s(
                                                  e.org_info
                                                    .org_function_half[1]
                                                    .function_title
                                                )
                                              ),
                                            ]
                                          ),
                                          t("img", {
                                            staticClass: "org-function-arrow",
                                            attrs: { src: i(95719) },
                                          }),
                                        ]
                                      ),
                                    ]
                                  )
                                : e._e(),
                            ])
                          : e._e(),
                        e.org_info.org_function_half &&
                        e.org_info.org_function_half[2]
                          ? t("div", { staticClass: "org-function-outer" }, [
                              e.org_info.org_function_half[2]
                                ? t(
                                    "div",
                                    {
                                      staticClass: "org-function-container",
                                      on: {
                                        click: function (t) {
                                          return e.handleFunction(
                                            t,
                                            e.org_info.org_function_half[2]
                                          );
                                        },
                                      },
                                    },
                                    [
                                      t(
                                        "div",
                                        { staticClass: "org-function-inner" },
                                        [
                                          t(
                                            "div",
                                            {
                                              staticClass: "org-function-title",
                                            },
                                            [
                                              e._v(
                                                e._s(
                                                  e.org_info
                                                    .org_function_half[2]
                                                    .function_title
                                                )
                                              ),
                                            ]
                                          ),
                                          t("img", {
                                            staticClass: "org-function-arrow",
                                            attrs: { src: i(95719) },
                                          }),
                                        ]
                                      ),
                                    ]
                                  )
                                : e._e(),
                              e.org_info.org_function_half[3]
                                ? t(
                                    "div",
                                    {
                                      staticClass: "org-function-container",
                                      on: {
                                        click: function (t) {
                                          return e.handleFunction(
                                            t,
                                            e.org_info.org_function_half[3]
                                          );
                                        },
                                      },
                                    },
                                    [
                                      t(
                                        "div",
                                        { staticClass: "org-function-inner" },
                                        [
                                          t(
                                            "div",
                                            {
                                              staticClass: "org-function-title",
                                            },
                                            [
                                              e._v(
                                                e._s(
                                                  e.org_info
                                                    .org_function_half[3]
                                                    .function_title
                                                )
                                              ),
                                            ]
                                          ),
                                          t("img", {
                                            staticClass: "org-function-arrow",
                                            attrs: { src: i(95719) },
                                          }),
                                        ]
                                      ),
                                    ]
                                  )
                                : e._e(),
                            ])
                          : e._e(),
                      ],
                      1
                    ),
                  ]
                ),
                t(
                  "Refresh",
                  { attrs: { "on-refresh": e.onRefresh } },
                  [
                    e._l(e.one_list, function (e, i) {
                      return t("One", {
                        key: i,
                        attrs: { type: e.type, data: e.data },
                      });
                    }),
                    t("LoadMore", {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: e.is_loading_more || e.is_last,
                          expression: "is_loading_more || is_last",
                        },
                      ],
                      attrs: { is_last: e.is_last },
                    }),
                  ],
                  2
                ),
              ],
              1
            );
          },
          yi = [],
          wi = {
            name: "UniMiddleOrg",
            components: {
              LoadMore: Qe,
              One: je,
              Swiper: ut.t,
              Slide: ut.M,
              BackSvg: ot,
            },
            created() {
              (this.org_name = this.$route.params.org_name),
                this.$loading.show(),
                (this.page = 0),
                this.getOrgProfile();
            },
            activated() {
              document.title = this.title;
            },
            mounted() {
              window.addEventListener("scroll", this.handleScroll, !0);
            },
            destroyed() {
              window.removeEventListener("scroll", this.handleScroll, !0);
            },
            data() {
              return {
                org_name: null,
                page: 0,
                one_list: [],
                is_last: !1,
                is_loading_more: !1,
                finishRefresh: null,
                org_info: {},
                title: "",
              };
            },
            methods: {
              navBack() {
                window.history.length <= 1
                  ? this.$router.push("/home")
                  : this.$router.back();
              },
              getOrgProfile() {
                Ms(
                  "/user/profile/org",
                  { visit_user_serial: this.org_name },
                  !0,
                  [400]
                ).then((e) => {
                  if (!e) return;
                  if (400 == e.code)
                    return void this.$modal.show({
                      content: this.$t("/user/profile/org.400"),
                      success: () => {
                        window.history.length <= 1
                          ? this.$router.push("/home")
                          : this.$router.back();
                      },
                    });
                  (this.org_info = e.org_info),
                    this.org_info.org_function
                      ? this.org_info.org_function.length % 2 == 0
                        ? ((this.org_info.org_function_main = null),
                          (this.org_info.org_function_half =
                            this.org_info.org_function))
                        : ((this.org_info.org_function_main =
                            this.org_info.org_function[0]),
                          (this.org_info.org_function_half =
                            this.org_info.org_function.slice(1)))
                      : ((this.org_info.org_function_main = null),
                        (this.org_info.org_function_half = [])),
                    this.getPostByUser();
                  const t = localStorage.getItem("user_school_label");
                  "HKU" == t &&
                    (this.title =
                      this.$t("MiddleOrg.title", {
                        org_name: e.org_info.org_name,
                      }) +
                      " / " +
                      this.$t("AppNameTitle.HKU")),
                    "CUHK" == t &&
                      (this.title =
                        this.$t("MiddleOrg.title", {
                          org_name: e.org_info.org_name,
                        }) +
                        " / " +
                        this.$t("AppNameTitle.CUHK")),
                    "UST" == t &&
                      (this.title =
                        this.$t("MiddleOrg.title", {
                          org_name: e.org_info.org_name,
                        }) +
                        " / " +
                        this.$t("AppNameTitle.UST")),
                    (document.title = this.title);
                });
              },
              getPostByUser() {
                Ms("/post/list/user", {
                  visit_user_serial: this.org_name,
                  visit_user_school_label: this.org_info.user_school_label,
                  page: this.page,
                }).then((e) => {
                  this.$loading.hide(),
                    this.finishRefresh && this.finishRefresh(),
                    e &&
                      ((this.is_loading_more = !1),
                      (this.is_last = e.is_last),
                      e.one_list.forEach((e) => {
                        "post" == e.type &&
                          (e.data.post_topic = Ue(e.data.post_topic));
                      }),
                      0 == this.page
                        ? (this.one_list = e.one_list)
                        : (this.one_list = this.one_list.concat(e.one_list)));
                });
              },
              onRefresh(e) {
                (this.finishRefresh = e),
                  (this.page = 0),
                  (this.is_loading_more = !0),
                  this.getPostByUser();
              },
              loadMore() {
                this.org_info.user_school_label &&
                  (this.is_loading_more ||
                    this.is_last ||
                    ((this.is_loading_more = !0),
                    (this.page = this.page + 1),
                    this.getPostByUser()));
              },
              handleScroll() {
                const e = document.documentElement.scrollHeight,
                  t =
                    document.documentElement.scrollTop ||
                    document.body.scrollTop,
                  i = document.documentElement.clientHeight;
                t + i >= e - 1400 && this.loadMore();
              },
              onTapBanner(e) {
                switch (e.banner_type) {
                  case "article":
                    window.open(e.article_link);
                    break;
                  case "post":
                    this.$router.push("/post/" + e.uni_post_id);
                    break;
                  case "inner":
                    notice({ content: this.$t("Banner.inner") });
                    break;
                  case "miniapp":
                    notice({ content: this.$t("Banner.miniapp") });
                    break;
                  case "report2023":
                    /(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)
                      ? window.open("https://wxaurl.cn/aEqHCMrE15b")
                      : this.$hevueImgPreview({
                          url: "https://i.boatonland.com/HKU/post/BhAKpz7YnESXseP6tQsjz2z2BDNPK7w3.png",
                          clickMaskCLose: !0,
                          controlBar: !1,
                        });
                  case "none":
                  default:
                    break;
                }
              },
              pm(e) {
                return (
                  this.$contextmenu({
                    items: [
                      {
                        label: this.$t("MiddleOrg.realname_pm"),
                        onClick: () => {
                          this.createChat(!0);
                        },
                      },
                      {
                        label: this.$t("MiddleOrg.anonymous_pm"),
                        onClick: () => {
                          this.createChat(!1);
                        },
                      },
                    ],
                    event: e,
                    customClass: "menu-theme",
                    zIndex: 99,
                    minWidth: 150,
                  }),
                  !1
                );
              },
              createChat(e) {
                this.$loading.show(),
                  Ms("/pm/chat/create", {
                    sender_is_real_name: e,
                    to_type: "user",
                    receiver_serial: this.org_info.org_name,
                    receiver_school_label: this.org_info.user_school_label,
                  }).then((e) => {
                    this.$loading.hide(),
                      e && this.$router.push("/chat/" + e.chat_id);
                  });
              },
              handleFunction(e, t) {
                switch (t.function_type) {
                  case "list":
                    this.$contextmenu({
                      items: t.function_list.map((t) => ({
                        label: t.function_title,
                        onClick: () => {
                          this.handleFunction(e, t);
                        },
                      })),
                      event: e,
                      customClass: "menu-theme",
                      zIndex: 99,
                      minWidth: 150,
                    });
                    break;
                  case "article":
                    window.open(t.article_link);
                    break;
                  case "post":
                    this.$router.push("/post/" + t.uni_post_id);
                    break;
                  case "inner":
                    break;
                  case "miniapp":
                    this.$modal.show({
                      content: this.$t("MiddleOrg.miniapp_not_support"),
                    });
                    break;
                  case "pm":
                    this.pm(e);
                    break;
                  case "none":
                  default:
                    break;
                }
              },
            },
          },
          Ci = wi,
          bi = (0, E.Z)(Ci, vi, yi, !1, null, "6f55a6a3", null),
          ki = bi.exports,
          xi = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { staticStyle: { width: "100%" } },
              [
                t("Navbar", { attrs: { title: e.$t("MiddleAbout.title") } }),
                t("div", { staticClass: "main-outer" }, [
                  t("div", { staticClass: "logo-outer" }, [
                    t("div", { staticClass: "logo-wrapper" }, [
                      t("div", { staticClass: "logo-ripple" }),
                      t("img", {
                        staticClass: "logo",
                        staticStyle: { "background-color": "white" },
                        attrs: { src: e.logo_src },
                      }),
                    ]),
                    t("div", { staticClass: "app-name" }, [
                      e._v(e._s(e.app_name)),
                    ]),
                    t("div", { staticClass: "version-text" }, [
                      e._v("Web: 1.3.1"),
                    ]),
                  ]),
                  t("div", { staticClass: "info-outer" }, [
                    t("div", { staticClass: "info-container" }, [
                      t("img", { staticClass: "qr", attrs: { src: i(94020) } }),
                      t("div", { staticClass: "info-text" }, [
                        e._v(e._s(e.$t("MiddleAbout.developed_by"))),
                      ]),
                    ]),
                    t("div", { staticClass: "info-container" }, [
                      t("img", { staticClass: "qr", attrs: { src: e.qr_src } }),
                      t("div", { staticClass: "info-text" }, [
                        e._v(
                          e._s(
                            e.$t("MiddleAbout.operated_by", {
                              team_name: e.team_name,
                            })
                          )
                        ),
                      ]),
                    ]),
                  ]),
                ]),
                t("div", { staticClass: "log-outer" }, [
                  t("div", { staticClass: "log-version" }, [e._v("1.3.0")]),
                  t("p", [e._v(e._s(e.$t("MiddleAbout.log.1-3-0.1")))]),
                  t("p", [e._v(e._s(e.$t("MiddleAbout.log.1-3-0.2")))]),
                  t("p", [e._v(e._s(e.$t("MiddleAbout.log.1-3-0.3")))]),
                ]),
                t("div", { staticClass: "log-outer" }, [
                  t("div", { staticClass: "log-version" }, [e._v("1.2.0")]),
                  t("p", [e._v(e._s(e.$t("MiddleAbout.log.1-2-0.1")))]),
                  t("p", [e._v(e._s(e.$t("MiddleAbout.log.1-2-0.2")))]),
                  t("p", [e._v(e._s(e.$t("MiddleAbout.log.1-2-0.3")))]),
                ]),
                t("div", { staticClass: "log-outer" }, [
                  t("div", { staticClass: "log-version" }, [e._v("1.1.0")]),
                  t("p", [e._v(e._s(e.$t("MiddleAbout.log.1-1-0.1")))]),
                  t("p", [e._v(e._s(e.$t("MiddleAbout.log.1-1-0.2")))]),
                  t("p", [e._v(e._s(e.$t("MiddleAbout.log.1-1-0.3")))]),
                ]),
                t("div", { staticClass: "log-outer" }, [
                  t("div", { staticClass: "log-version" }, [e._v("1.0.0")]),
                  t("p", [e._v(e._s(e.$t("MiddleAbout.log.1-0-0.1")))]),
                  t("p", [e._v(e._s(e.$t("MiddleAbout.log.1-0-0.2")))]),
                  t("p", [e._v(e._s(e.$t("MiddleAbout.log.1-0-0.3")))]),
                  t("p", [e._v(e._s(e.$t("MiddleAbout.log.1-0-0.4")))]),
                ]),
              ],
              1
            );
          },
          Di = [],
          Si = {
            name: "UniMiddleAbout",
            components: { Navbar: ct },
            created() {
              const e = localStorage.getItem("user_school_label");
              "HKU" == e &&
                ((this.app_name = this.$t("AppName.HKU")),
                (this.team_name = this.$t("TeamName.HKU")),
                (this.logo_src = i(86474)),
                (this.qr_src = i(94020)),
                (document.title =
                  this.$t("MiddleAbout.title") +
                  " / " +
                  this.$t("AppNameTitle.HKU"))),
                "CUHK" == e &&
                  ((this.app_name = this.$t("AppName.CUHK")),
                  (this.team_name = this.$t("TeamName.CUHK")),
                  (this.logo_src = i(13438)),
                  (this.qr_src = i(29290)),
                  (document.title =
                    this.$t("MiddleAbout.title") +
                    " / " +
                    this.$t("AppNameTitle.CUHK"))),
                "UST" == e &&
                  ((this.app_name = this.$t("AppName.UST")),
                  (this.team_name = this.$t("TeamName.UST")),
                  (this.logo_src = i(27505)),
                  (this.qr_src = i(39432)),
                  (document.title =
                    this.$t("MiddleAbout.title") +
                    " / " +
                    this.$t("AppNameTitle.UST")));
            },
            data() {
              return { app_name: "", team_name: "", qr_src: "", logo_src: "" };
            },
            methods: {},
          },
          Ai = Si,
          Ei = (0, E.Z)(Ai, xi, Di, !1, null, "d887219e", null),
          Ti = Ei.exports,
          Bi = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { staticStyle: { width: "100%" } },
              [
                t("Navbar", {
                  attrs: {
                    title: e.$t("MiddleEdit.title"),
                    show_back: !0,
                    sticky: !1,
                  },
                }),
                t(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: e.user_info,
                        expression: "user_info",
                      },
                    ],
                    staticClass: "user-outer",
                  },
                  [
                    t("div", { staticClass: "user-left-container" }, [
                      t("img", {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: e.user_info.user_avatar,
                            expression: "user_info.user_avatar",
                          },
                        ],
                        staticClass: "user-avatar",
                        attrs: {
                          src:
                            "https://i.boatonland.com/avatar/" +
                            (e.user_avatar || e.user_info.user_avatar) +
                            ".svg",
                        },
                      }),
                      t("div", { staticClass: "user-serial" }, [
                        e._v(e._s(e.user_serial || e.user_info.user_serial)),
                      ]),
                    ]),
                    t(
                      "div",
                      {
                        staticClass: "user-button",
                        on: { click: e.updateProfile },
                      },
                      [e._v(e._s(e.$t("MiddleEdit.save")))]
                    ),
                  ]
                ),
                t("div", { staticClass: "menu-outer" }, [
                  t("div", { staticClass: "menu-item" }, [
                    t("div", { staticClass: "menu-left" }, [
                      t("div", { staticClass: "menu-left-text" }, [
                        t("div", { staticClass: "menu-left-title" }, [
                          e._v(e._s(e.$t("MiddleEdit.edit_user_id_title"))),
                        ]),
                        t("div", { staticClass: "menu-left-info" }, [
                          e._v(e._s(e.$t("MiddleEdit.edit_user_id_info"))),
                        ]),
                      ]),
                    ]),
                    t("div", { staticClass: "menu-right" }, [
                      t("input", {
                        directives: [
                          {
                            name: "model",
                            rawName: "v-model",
                            value: e.user_serial,
                            expression: "user_serial",
                          },
                        ],
                        staticClass: "menu-input",
                        attrs: {
                          placeholder: e.$t(
                            "MiddleEdit.edit_user_id_placeholder"
                          ),
                        },
                        domProps: { value: e.user_serial },
                        on: {
                          keyup: function (t) {
                            return !t.type.indexOf("key") &&
                              e._k(t.keyCode, "enter", 13, t.key, "Enter")
                              ? null
                              : e.updateProfile.apply(null, arguments);
                          },
                          input: function (t) {
                            t.target.composing ||
                              (e.user_serial = t.target.value);
                          },
                        },
                      }),
                    ]),
                  ]),
                ]),
                t("div", { staticClass: "menu-outer" }, [
                  t("div", { staticClass: "menu-item" }, [
                    t("div", { staticClass: "menu-left" }, [
                      t("div", { staticClass: "menu-left-text" }, [
                        t("div", { staticClass: "menu-left-title" }, [
                          e._v(e._s(e.$t("MiddleEdit.exchange_avatar_title"))),
                        ]),
                        t("div", { staticClass: "menu-left-info" }, [
                          e._v(e._s(e.$t("MiddleEdit.exchange_avatar_info"))),
                        ]),
                      ]),
                    ]),
                    t("div", { staticClass: "menu-right" }, [
                      t("input", {
                        directives: [
                          {
                            name: "model",
                            rawName: "v-model",
                            value: e.avatar_sdk_content,
                            expression: "avatar_sdk_content",
                          },
                        ],
                        staticClass: "menu-input",
                        attrs: {
                          placeholder: e.$t(
                            "MiddleEdit.exchange_avatar_placeholder"
                          ),
                        },
                        domProps: { value: e.avatar_sdk_content },
                        on: {
                          keyup: function (t) {
                            return !t.type.indexOf("key") &&
                              e._k(t.keyCode, "enter", 13, t.key, "Enter")
                              ? null
                              : e.exchangeAvatar.apply(null, arguments);
                          },
                          input: function (t) {
                            t.target.composing ||
                              (e.avatar_sdk_content = t.target.value);
                          },
                        },
                      }),
                    ]),
                  ]),
                  e.avatar_sdk_content
                    ? t(
                        "div",
                        {
                          staticClass: "big-button",
                          on: { click: e.exchangeAvatar },
                        },
                        [
                          t("p", { staticStyle: { "font-weight": "600" } }, [
                            e._v(e._s(e.$t("MiddleEdit.exchange"))),
                          ]),
                        ]
                      )
                    : e._e(),
                ]),
                e._l(e.avatar_collection, function (i, s) {
                  return t(
                    "div",
                    { key: s, staticClass: "avatar-collection-outer" },
                    [
                      t("div", [
                        e._v(e._s(i.avatar_collection_name)),
                        i.avater_collection_is_owned
                          ? e._e()
                          : t("span", [
                              e._v(e._s(e.$t("MiddleEdit.not_owned"))),
                            ]),
                      ]),
                      t(
                        "div",
                        { staticClass: "avatar-collection-container" },
                        e._l(i.avatar_list, function (i, s) {
                          return t(
                            "div",
                            {
                              key: s,
                              class:
                                e.user_avatar == i.avatar_name
                                  ? "avatar-outer-active"
                                  : "avatar-outer",
                              on: {
                                click: function (t) {
                                  return e.chooseAvatar(i.avatar_name);
                                },
                              },
                            },
                            [
                              t("img", {
                                staticClass: "single-avatar",
                                attrs: {
                                  src:
                                    "https://i.boatonland.com/avatar/" +
                                    i.avatar_name +
                                    ".svg",
                                },
                              }),
                            ]
                          );
                        }),
                        0
                      ),
                    ]
                  );
                }),
              ],
              2
            );
          },
          $i = [],
          Ri = {
            name: "UniMiddleEdit",
            components: { Navbar: ct },
            created() {
              this.$loading.show(),
                this.getUserProfile(),
                this.getAvatarCollection();
              const e = localStorage.getItem("user_school_label");
              "HKU" == e &&
                (document.title =
                  this.$t("MiddleEdit.title") +
                  " / " +
                  this.$t("AppNameTitle.HKU")),
                "CUHK" == e &&
                  (document.title =
                    this.$t("MiddleEdit.title") +
                    " / " +
                    this.$t("AppNameTitle.CUHK")),
                "UST" == e &&
                  (document.title =
                    this.$t("MiddleEdit.title") +
                    " / " +
                    this.$t("AppNameTitle.UST"));
            },
            data() {
              return {
                user_info: {},
                avatar_collection: [],
                user_serial: "",
                user_avatar: "",
                avatar_sdk_content: "",
              };
            },
            methods: {
              getUserProfile() {
                Ms("/user/profile/get").then((e) => {
                  e && (this.user_info = e.user_info);
                });
              },
              getAvatarCollection() {
                Ms("/user/avatar/get").then((e) => {
                  this.$loading.hide(),
                    e && (this.avatar_collection = e.avatar_collection);
                });
              },
              exchangeAvatar() {
                this.$loading.show(),
                  Ms("/user/avatar/exchange", {
                    avatar_sdk_content: this.avatar_sdk_content,
                  }).then((e) => {
                    this.$loading.hide(),
                      e &&
                        (y({ content: this.$t("/user/avatar/exchange.200") }),
                        this.getAvatarCollection());
                  });
              },
              updateProfile() {
                const e = this.user_serial || this.user_info.user_serial;
                e.match(/^\s*$/) || e.length < 3
                  ? this.$modal.show({
                      content: this.$t("MiddleEdit.user_id_at_least_3_char"),
                    })
                  : e.match(/^^[a-z0-9]+$/)
                  ? (this.$loading.show(),
                    Ms("/user/profile/update", {
                      user_serial: e,
                      user_avatar:
                        this.user_avatar || this.user_info.user_avatar,
                    }).then((e) => {
                      this.$loading.hide(),
                        e &&
                          (y({ content: this.$t("/user/profile/update.200") }),
                          this.getUserProfile());
                    }))
                  : this.$modal.show({
                      content: this.$t("MiddleEdit.user_id_illegal"),
                    });
              },
              chooseAvatar(e) {
                this.user_avatar == e
                  ? (this.user_avatar = "")
                  : (this.user_avatar = e);
              },
            },
          },
          Mi = Ri,
          Pi = (0, E.Z)(Mi, Bi, $i, !1, null, "b3c45e70", null),
          Ii = Pi.exports,
          Fi = function () {
            var e = this,
              t = e._self._c;
            return t("div", [
              t(
                "div",
                { staticClass: "page-container" },
                [
                  e.$route.path.startsWith("/search")
                    ? e._e()
                    : t("div", { staticClass: "search" }, [
                        t("div", { staticClass: "input-outer" }, [
                          t(
                            "label",
                            {
                              class: e.is_focus
                                ? "input-container input-container-focus"
                                : "input-container",
                            },
                            [
                              t(
                                "div",
                                {
                                  staticStyle: {
                                    display: "flex",
                                    width: "100%",
                                  },
                                },
                                [
                                  t("SearchSvg", {
                                    staticClass: "input-icon-search",
                                  }),
                                  t("ClearSvg", {
                                    directives: [
                                      {
                                        name: "show",
                                        rawName: "v-show",
                                        value: e.is_focus && e.key_word,
                                        expression: "is_focus && key_word",
                                      },
                                    ],
                                    staticClass: "input-icon-clear",
                                    nativeOn: {
                                      click: function (t) {
                                        return e.clear.apply(null, arguments);
                                      },
                                    },
                                  }),
                                  t("input", {
                                    directives: [
                                      {
                                        name: "model",
                                        rawName: "v-model",
                                        value: e.key_word,
                                        expression: "key_word",
                                      },
                                    ],
                                    ref: "input",
                                    staticClass: "input",
                                    attrs: {
                                      placeholder: e.placeholder,
                                      id: "searchInput",
                                    },
                                    domProps: { value: e.key_word },
                                    on: {
                                      keyup: function (t) {
                                        return !t.type.indexOf("key") &&
                                          e._k(
                                            t.keyCode,
                                            "enter",
                                            13,
                                            t.key,
                                            "Enter"
                                          )
                                          ? null
                                          : e.search.apply(null, arguments);
                                      },
                                      focus: e.focus,
                                      input: [
                                        function (t) {
                                          t.target.composing ||
                                            (e.key_word = t.target.value);
                                        },
                                        e.getSearchSuggestion,
                                      ],
                                      blur: e.blur,
                                    },
                                  }),
                                ],
                                1
                              ),
                              t(
                                "div",
                                {
                                  directives: [
                                    {
                                      name: "show",
                                      rawName: "v-show",
                                      value: e.is_focus,
                                      expression: "is_focus",
                                    },
                                  ],
                                },
                                e._l(e.search_suggestion_list, function (i, s) {
                                  return t(
                                    "div",
                                    {
                                      key: s,
                                      class:
                                        s == e.search_suggestion_list.length - 1
                                          ? s == e.suggestion_index
                                            ? "search-suggestion-item search-suggestion-item-last search-suggestion-item-selected "
                                            : "search-suggestion-item  search-suggestion-item-last"
                                          : s == e.suggestion_index
                                          ? "search-suggestion-item search-suggestion-item-selected"
                                          : "search-suggestion-item",
                                      on: {
                                        click: function (t) {
                                          return e.selectSuggestion(s);
                                        },
                                      },
                                    },
                                    [
                                      e._v(e._s(i.before)),
                                      t(
                                        "span",
                                        {
                                          staticClass:
                                            "search-suggestion-item-bold",
                                        },
                                        [e._v(e._s(i.matched))]
                                      ),
                                      e._v(e._s(i.after)),
                                    ]
                                  );
                                }),
                                0
                              ),
                            ]
                          ),
                        ]),
                      ]),
                  e.$route.path.startsWith("/search")
                    ? t("div", { staticStyle: { height: "30px" } })
                    : e._e(),
                  e.banner_list.length > 0
                    ? t(
                        "Swiper",
                        {
                          staticClass: "banner-container",
                          attrs: { showIndicator: !1, interval: "3500" },
                        },
                        e._l(e.banner_list, function (i, s) {
                          return t("Slide", { key: s }, [
                            t("img", {
                              staticClass: "banner-image",
                              attrs: { src: i.banner_image },
                              on: {
                                click: function (t) {
                                  return e.onTapBanner(i);
                                },
                              },
                            }),
                          ]);
                        }),
                        1
                      )
                    : e._e(),
                ],
                1
              ),
              e.$route.path.startsWith("/search")
                ? e._e()
                : t(
                    "div",
                    { staticClass: "one-container" },
                    e._l(e.one_list, function (e, i) {
                      return t("One", {
                        key: i,
                        attrs: { show_border: !1, type: e.type, data: e.data },
                      });
                    }),
                    1
                  ),
              t("div", { staticClass: "page-container" }, [
                t("div", { staticStyle: { "margin-top": "1rem" } }, [
                  t("div", { staticClass: "info-links" }, [
                    t("p", { on: { click: e.nav2About } }, [
                      e._v(e._s(e.$t("RightRecommend.about"))),
                    ]),
                    t("p", { on: { click: e.nav2Agreement } }, [
                      e._v(e._s(e.$t("RightRecommend.agreement"))),
                    ]),
                    t("p", { on: { click: e.nav2Privacy } }, [
                      e._v(e._s(e.$t("RightRecommend.privacy"))),
                    ]),
                  ]),
                  e._m(0),
                ]),
              ]),
            ]);
          },
          Ui = [
            function () {
              var e = this,
                t = e._self._c;
              return t("div", { staticClass: "info-links-no-hover" }, [
                t("p", [e._v("© 2023 HKUPootal")]),
              ]);
            },
          ],
          Ni = {
            name: "UniRightRecommend",
            components: {
              One: je,
              Swiper: ut.t,
              Slide: ut.M,
              SearchSvg: J,
              ClearSvg: kt,
            },
            created() {
              this.getPlaceholder(), this.getPostByTopic(), this.getBanner();
            },
            activated() {
              document.addEventListener("keydown", this.wathcKeyboard);
            },
            deactivated() {
              document.removeEventListener("keydown", this.wathcKeyboard);
            },
            data() {
              return {
                key_word: "",
                search_suggestion_list: [],
                suggestion_index: -1,
                suggestion_keyword: "",
                orginal_key_word: "",
                is_focus: !1,
                banner_width: "0px",
                banner_height: "0px",
                placeholder: this.$t("MiddleSearch.placeholder"),
                one_list: [],
                banner_list: [],
              };
            },
            methods: {
              getPostByTopic() {
                const e = localStorage.getItem("user_school_label");
                var t = "";
                "HKU" == e && (t = "ONE"),
                  "CUHK" == e && (t = "猫抓板"),
                  "UST" == e && (t = "小火鸟"),
                  Ms("/post/list/topic", {
                    post_topic: t,
                    page: this.page,
                  }).then((e) => {
                    if (e) {
                      e.one_list.forEach((e) => {
                        "post" == e.type &&
                          (e.data.post_topic = Ue(e.data.post_topic));
                      });
                      var t = 0;
                      window.innerHeight > 700 && (t = 1),
                        window.innerHeight > 1e3 && (t = 2),
                        window.innerHeight > 1300 && (t = 3),
                        window.innerHeight > 1600 && (t = 4),
                        (this.one_list = e.one_list.slice(0, t));
                    }
                  });
              },
              getBanner() {
                Ms("/info/banner").then((e) => {
                  e && (this.banner_list = e.banner_list);
                });
              },
              getPlaceholder() {
                Ms("/info/placeholder").then((e) => {
                  e &&
                    Ne(e.placeholder).then((e) => {
                      this.placeholder = e;
                    });
                });
              },
              onTapBanner(e) {
                switch (e.banner_type) {
                  case "article":
                    window.open(e.article_link);
                    break;
                  case "post":
                    this.$router.push("/post/" + e.uni_post_id);
                    break;
                  case "inner":
                    y({ content: this.$t("Banner.inner") });
                    break;
                  case "miniapp":
                    y({ content: this.$t("Banner.miniapp") });
                    break;
                  case "report2023":
                    /(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)
                      ? window.open("https://wxaurl.cn/aEqHCMrE15b")
                      : this.$hevueImgPreview({
                          url: "https://i.boatonland.com/HKU/post/BhAKpz7YnESXseP6tQsjz2z2BDNPK7w3.png",
                          clickMaskCLose: !0,
                          controlBar: !1,
                        });
                  case "none":
                  default:
                    break;
                }
              },
              clear() {
                (this.key_word = ""), window.scrollTo(0, 0);
              },
              focus() {
                (this.is_focus = !0),
                  (this.suggestion_index = -1),
                  this.getSearchSuggestion();
              },
              blur() {
                setTimeout(() => {
                  (this.is_focus = !1), (this.suggestion_index = -1);
                }, 100);
              },
              wathcKeyboard(e) {
                if (!this.is_focus) return;
                let t = document.all ? window.event : e;
                if (40 === t.keyCode) {
                  if (
                    this.suggestion_index >=
                    this.search_suggestion_list.length - 1
                  )
                    return;
                  (this.suggestion_index += 1),
                    -1 == this.suggestion_index
                      ? (this.key_word = "")
                      : (this.key_word =
                          this.search_suggestion_list[
                            this.suggestion_index
                          ].orginal),
                    setTimeout(() => {
                      var e = document.getElementById("searchInput");
                      e.focus(),
                        e.setSelectionRange(e.value.length, e.value.length);
                    }, 10);
                } else if (38 === t.keyCode) {
                  if (this.suggestion_index <= -1) return;
                  (this.suggestion_index -= 1),
                    -1 == this.suggestion_index
                      ? (this.key_word = this.orginal_key_word)
                      : (this.key_word =
                          this.search_suggestion_list[
                            this.suggestion_index
                          ].orginal),
                    setTimeout(() => {
                      var e = document.getElementById("searchInput");
                      e.focus(),
                        e.setSelectionRange(e.value.length, e.value.length);
                    }, 10);
                }
              },
              selectSuggestion(e) {
                (this.key_word = this.search_suggestion_list[e].orginal),
                  this.search();
              },
              getSearchSuggestion() {
                (this.is_focus = !0),
                  (this.orginal_key_word = this.key_word),
                  (this.suggestion_index = -1),
                  Ms("/info/searchsuggestion", {
                    key_word: this.key_word,
                  }).then((e) => {
                    e &&
                      ((this.search_suggestion_list = []),
                      e.search_suggestion_list.forEach((e) => {
                        var t = e.split(new RegExp(this.key_word, "i"));
                        this.search_suggestion_list.push({
                          orginal: e,
                          before: t[0],
                          matched: this.key_word,
                          after: t[1],
                        });
                      }));
                  });
              },
              search() {
                let e = this.key_word;
                (this.key_word = ""),
                  this.$router.push({
                    path: "/search/" + e,
                    query: { method: "refresh" },
                  });
              },
              nav2About() {
                this.$router.push("/about");
              },
              nav2Agreement() {
                const e = localStorage.getItem("user_school_label");
                window.open(
                  "https://terms.tripleuni.com/" +
                    e.toLowerCase() +
                    "/agreement"
                );
              },
              nav2Privacy() {
                const e = localStorage.getItem("user_school_label");
                window.open(
                  "https://terms.tripleuni.com/" + e.toLowerCase() + "/privacy"
                );
              },
            },
          },
          Oi = Ni,
          Hi = (0, E.Z)(Oi, Fi, Ui, !1, null, "6892f864", null),
          Li = Hi.exports,
          Ki = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { staticStyle: { width: "100%", position: "relative" } },
              [
                t("Navbar", {
                  directives: [
                    {
                      name: "show",
                      rawName: "v-show",
                      value: e.chat_id,
                      expression: "chat_id",
                    },
                  ],
                  attrs: { title: e.title, url: "/chat" },
                }),
                t(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: !e.chat_id,
                        expression: "!chat_id",
                      },
                    ],
                    staticClass: "null-container",
                  },
                  [
                    t("div", [
                      t("div", { staticClass: "null-title" }, [
                        e._v(e._s(e.$t("RightChat.null_title"))),
                      ]),
                      t("div", { staticClass: "null-info" }, [
                        e._v(e._s(e.$t("RightChat.null_content"))),
                      ]),
                    ]),
                  ]
                ),
                e.chat_id
                  ? [
                      t(
                        "div",
                        { staticClass: "pm-list-container" },
                        e._l(e.pm_list, function (i, s) {
                          return t(
                            "div",
                            {
                              key: s,
                              staticClass: "pm-container",
                              on: {
                                contextmenu: function (t) {
                                  return t.preventDefault(), e.rightClick(t, i);
                                },
                              },
                            },
                            [
                              0 == s ||
                              e.pm_list[s].pm_create_time -
                                e.pm_list[s - 1].pm_create_time >
                                300
                                ? t("div", { staticClass: "pm-time" }, [
                                    e._v(
                                      " " + e._s(e.formatTime(i.pm_create_time))
                                    ),
                                  ])
                                : e._e(),
                              t(
                                "div",
                                {
                                  class: i.pm_is_from_me
                                    ? "pm-main-me"
                                    : "pm-main",
                                },
                                [
                                  t("img", {
                                    staticClass: "pm-avatar",
                                    attrs: {
                                      src:
                                        "https://i.boatonland.com/avatar/" +
                                        i.user_avatar +
                                        ".svg",
                                    },
                                    on: {
                                      click: function (t) {
                                        return (
                                          t.stopPropagation(), e.nav2User(i)
                                        );
                                      },
                                    },
                                  }),
                                  t(
                                    "div",
                                    {
                                      class: i.pm_is_from_me
                                        ? "pm-msg-me"
                                        : "pm-msg",
                                    },
                                    [
                                      t(
                                        "div",
                                        {
                                          class: i.pm_is_from_me
                                            ? "pm-msg-text-container-me"
                                            : "pm-msg-text-container",
                                        },
                                        [
                                          i.pm_media &&
                                          "image" == i.pm_media.type
                                            ? t(
                                                "div",
                                                { staticClass: "pm-image" },
                                                [
                                                  t("img", {
                                                    attrs: {
                                                      src: i.pm_media
                                                        .image_link,
                                                    },
                                                    on: {
                                                      click: function (t) {
                                                        return (
                                                          t.stopPropagation(),
                                                          e.previewImage(
                                                            i.pm_media
                                                              .image_link
                                                          )
                                                        );
                                                      },
                                                    },
                                                  }),
                                                ]
                                              )
                                            : t(
                                                "div",
                                                {
                                                  class: i.pm_is_from_me
                                                    ? "pm-msg-text-me"
                                                    : "pm-msg-text",
                                                },
                                                [e._v(e._s(i.pm_msg))]
                                              ),
                                        ]
                                      ),
                                    ]
                                  ),
                                ]
                              ),
                            ]
                          );
                        }),
                        0
                      ),
                      t("div", { staticClass: "message-bar" }, [
                        t("img", {
                          staticClass: "message-bar-icon-image",
                          attrs: { src: i(36945) },
                          on: { click: e.clickUploadButton },
                        }),
                        t("input", {
                          ref: "fileInput",
                          staticStyle: { display: "none" },
                          attrs: { type: "file", accept: "image/*" },
                          on: { change: e.getFile },
                        }),
                        t("input", {
                          directives: [
                            {
                              name: "model",
                              rawName: "v-model",
                              value: e.pm_msg,
                              expression: "pm_msg",
                            },
                          ],
                          staticClass: "input",
                          domProps: { value: e.pm_msg },
                          on: {
                            keyup: function (t) {
                              return !t.type.indexOf("key") &&
                                e._k(t.keyCode, "enter", 13, t.key, "Enter")
                                ? null
                                : e.send.apply(null, arguments);
                            },
                            input: function (t) {
                              t.target.composing || (e.pm_msg = t.target.value);
                            },
                          },
                        }),
                        t("img", {
                          staticClass: "message-bar-icon-send",
                          attrs: { src: i(24492) },
                          on: { click: e.send },
                        }),
                      ]),
                    ]
                  : e._e(),
              ],
              2
            );
          },
          zi = [],
          qi = i(92649),
          Wi = {
            name: "UniRightChat",
            components: { Navbar: ct },
            created() {
              this.setData();
              const e = localStorage.getItem("user_school_label");
              "HKU" == e &&
                (document.title =
                  this.$t("MiddlePm.title") +
                  " / " +
                  this.$t("AppNameTitle.HKU")),
                "CUHK" == e &&
                  (document.title =
                    this.$t("MiddlePm.title") +
                    " / " +
                    this.$t("AppNameTitle.CUHK")),
                "UST" == e &&
                  (document.title =
                    this.$t("MiddlePm.title") +
                    " / " +
                    this.$t("AppNameTitle.UST"));
            },
            mounted() {
              window.addEventListener(
                "resize",
                () => {
                  if (this.$route.params.chat_id) {
                    var e = document.querySelector(".pm-list-container");
                    e &&
                      (document.querySelector(".message-bar").style.width =
                        e.offsetWidth + "px");
                  }
                },
                !0
              );
            },
            destroyed() {
              window.removeEventListener(
                "resize",
                () => {
                  if (this.$route.params.chat_id) {
                    var e = document.querySelector(".pm-list-container");
                    e &&
                      (document.querySelector(".message-bar").style.width =
                        e.offsetWidth + "px");
                  }
                },
                !0
              );
            },
            setup() {
              if ((0, qi.yj)().params.chat_id) {
                const e = parseInt((0, qi.yj)().params.chat_id);
                return {
                  pm_list: (0, Ft.mA)(
                    (0, Ut.Y1)(
                      async () =>
                        await Ns.pm.where("chat_id").equals(e).toArray()
                    )
                  ),
                };
              }
              return { pm_list: [] };
            },
            data() {
              return {
                chat_id: null,
                title: "",
                pm_msg: "",
                selected_pm: null,
                is_long_press: !1,
              };
            },
            methods: {
              setData() {
                this.$route.params.chat_id &&
                  ((this.chat_id = this.$route.params.chat_id),
                  Ns.chat
                    .where("chat_id")
                    .equals(parseInt(this.chat_id))
                    .limit(1)
                    .toArray()
                    .then((e) => {
                      if (e.length > 0) {
                        var t = e[0];
                        (this.title = t.user_alias),
                          (t.chat_unread_count = 0),
                          Ns.chat.put(t);
                        var i = document.querySelector(".pm-list-container");
                        (i.scrollTop = i.scrollHeight),
                          (document.querySelector(".message-bar").style.width =
                            i.offsetWidth + "px");
                        const s = localStorage.getItem("user_school_label");
                        "HKU" == s &&
                          (document.title =
                            this.$t("RightChat.title", {
                              user_alias: t.user_alias,
                            }) +
                            " / " +
                            this.$t("AppNameTitle.HKU")),
                          "CUHK" == s &&
                            (document.title =
                              this.$t("RightChat.title", {
                                user_alias: t.user_alias,
                              }) +
                              " / " +
                              this.$t("AppNameTitle.CUHK")),
                          "UST" == s &&
                            (document.title =
                              this.$t("RightChat.title", {
                                user_alias: t.user_alias,
                              }) +
                              " / " +
                              this.$t("AppNameTitle.UST"));
                      } else
                        Ms("/pm/chat/get", { chat_id: this.chat_id }).then(
                          (e) => {
                            if (e) {
                              var t = e.chat_detail;
                              (t.chat_unread_count = 0),
                                Ns.chat
                                  .where("chat_id")
                                  .equals(parseInt(this.chat_id))
                                  .limit(1)
                                  .toArray()
                                  .then((e) => {
                                    var i = e;
                                    i[0] ||
                                      Ns.chat.add(t).then(() => {
                                        this.setData();
                                      });
                                  });
                            }
                          }
                        );
                    }));
              },
              send() {
                const e = this.pm_msg,
                  t = Math.floor(Date.now() / 1e3),
                  i = this.pm_list;
                var s = !1,
                  n = "",
                  o = "",
                  a = "";
                for (let r = 0; r < i.length; r++)
                  if (i[r].pm_is_from_me) {
                    (s = i[r].pm_is_real_name),
                      (n = i[r].user_alias),
                      (o = i[r].user_serial),
                      (a = i[r].user_avatar);
                    break;
                  }
                (this.pm_msg = ""),
                  this.pm_list.push({
                    chat_id: this.chat_id,
                    pm_create_time: t,
                    pm_id: null,
                    pm_is_from_me: !0,
                    pm_is_real_name: s,
                    pm_msg: e,
                    pm_media: null,
                    user_avatar: a,
                    user_alias: n,
                    user_serial: o,
                  }),
                  setTimeout(() => {
                    var e = document.querySelector(".pm-list-container");
                    e.scrollTop = e.scrollHeight;
                  }, 50),
                  Ms(
                    "/pm/message/send",
                    { chat_id: this.chat_id, pm_msg: e },
                    !0,
                    [400]
                  ).then((e) => {
                    e &&
                      (400 != e.code ||
                        this.$modal.show({
                          title: this.$t("Modal.error"),
                          content: this.$t("/pm/message/send.400", {
                            silence_until: Ke(e.silence_until),
                          }),
                          show_cancel: !1,
                        }));
                  });
              },
              sendImage(e) {
                const t = "[Image]",
                  i = Math.floor(Date.now() / 1e3),
                  s = this.pm_list,
                  n = JSON.stringify({ type: "image", image_link: e });
                var o = !1,
                  a = "",
                  r = "",
                  l = "";
                for (let c = 0; c < s.length; c++)
                  if (s[c].pm_is_from_me) {
                    (o = s[c].pm_is_real_name),
                      (a = s[c].user_alias),
                      (r = s[c].user_serial),
                      (l = s[c].user_avatar);
                    break;
                  }
                this.pm_list.push({
                  chat_id: this.chat_id,
                  pm_create_time: i,
                  pm_id: null,
                  pm_is_from_me: !0,
                  pm_is_real_name: o,
                  pm_msg: t,
                  pm_media: n,
                  user_avatar: l,
                  user_alias: a,
                  user_serial: r,
                }),
                  this.$loading.hide(),
                  setTimeout(() => {
                    var e = document.querySelector(".pm-list-container");
                    e.scrollTop = e.scrollHeight;
                  }, 50),
                  Ms("/pm/message/send", {
                    chat_id: this.chat_id,
                    pm_msg: t,
                    pm_media: n,
                  });
              },
              previewImage(e) {
                this.$hevueImgPreview({
                  url: e,
                  clickMaskCLose: !0,
                  controlBar: !1,
                });
              },
              clickUploadButton() {
                this.$refs.fileInput.click();
              },
              getFile(e) {
                this.$loading.show(),
                  Zt(
                    e.target.files[0],
                    localStorage.getItem("user_school_label"),
                    "pm"
                  ).then((e) => {
                    this.sendImage(e);
                  });
              },
              copy() {
                const e = this.selected_pm;
                this.selected_pm = null;
                try {
                  navigator.clipboard.writeText(e.pm_msg),
                    y({ content: this.$t("RightChat.copy_success") });
                } catch (t) {
                  y({ content: this.$t("RightChat.copy_fail") });
                }
              },
              delete() {
                const e = this.selected_pm;
                (this.selected_pm = null),
                  y({ content: this.$t("RightChat.delete_success") }),
                  Ns.pm.delete(e.pm_id),
                  Ms("/pm/message/delete", { pm_id: e.pm_id });
              },
              rightClick(e, t) {
                return (
                  (this.selected_pm = t),
                  this.$contextmenu({
                    items: [
                      {
                        label: this.$t("RightChat.copy"),
                        onClick: () => {
                          this.copy();
                        },
                      },
                      {
                        label: this.$t("RightChat.delete"),
                        onClick: () => {
                          this.delete();
                        },
                      },
                    ],
                    event: e,
                    customClass: "menu-theme",
                    zIndex: 99,
                    minWidth: 150,
                  }),
                  !1
                );
              },
              touchStart(e, t) {
                (this.is_long_press = !1),
                  (this.timer = setTimeout(() => {
                    this.is_long_press = !0;
                    const i = new PointerEvent("pointerdown", {
                      pointerId: e.touches[0].identifier,
                      clientX: e.touches[0].clientX,
                      clientY: e.touches[0].clientY,
                    });
                    this.rightClick(i, t);
                  }, 500));
              },
              touchEnd() {
                clearTimeout(this.timer);
              },
              nav2User(e) {
                e.pm_is_from_me
                  ? this.$router.push("/mine")
                  : e.pm_is_real_name &&
                    this.$router.push(
                      "/user/" + e.user_school_label + "/" + e.user_serial
                    );
              },
              formatTime(e) {
                return Le(e);
              },
            },
          },
          ji = Wi,
          Gi = (0, E.Z)(ji, Ki, zi, !1, null, "cdee8b28", null),
          Vi = Gi.exports,
          Xi = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              { staticStyle: { width: "100%", position: "relative" } },
              [
                t("Navbar", {
                  attrs: { title: e.$t("MiddlePm.chatbot_name"), url: "/chat" },
                }),
                t(
                  "div",
                  { staticClass: "pm-list-container" },
                  e._l(e.pm_list, function (i, s) {
                    return t(
                      "div",
                      {
                        key: s,
                        staticClass: "pm-container",
                        on: {
                          contextmenu: function (t) {
                            return t.preventDefault(), e.rightClick(t, i);
                          },
                        },
                      },
                      [
                        0 == s ||
                        e.pm_list[s].pm_create_time -
                          e.pm_list[s - 1].pm_create_time >
                          300
                          ? t("div", { staticClass: "pm-time" }, [
                              e._v(" " + e._s(i.pm_create_time_display)),
                            ])
                          : e._e(),
                        t(
                          "div",
                          { class: i.pm_is_from_me ? "pm-main-me" : "pm-main" },
                          [
                            t("img", {
                              staticClass: "pm-avatar",
                              attrs: {
                                src:
                                  "https://i.boatonland.com/avatar/" +
                                  i.user_avatar +
                                  ".svg",
                              },
                            }),
                            t(
                              "div",
                              {
                                class: i.pm_is_from_me ? "pm-msg-me" : "pm-msg",
                              },
                              [
                                t(
                                  "div",
                                  {
                                    class: i.pm_is_from_me
                                      ? "pm-msg-text-container-me"
                                      : "pm-msg-text-container",
                                  },
                                  [
                                    i.pm_is_from_me
                                      ? t(
                                          "div",
                                          { staticClass: "pm-msg-text-me" },
                                          [e._v(e._s(i.pm_msg))]
                                        )
                                      : t(
                                          "div",
                                          { staticClass: "pm-msg-text" },
                                          [
                                            t("span", {
                                              staticStyle: {
                                                "max-width": "100%",
                                                "overflow-x": "hidden",
                                              },
                                              domProps: {
                                                innerHTML: e._s(i.pm_msg_html),
                                              },
                                            }),
                                          ]
                                        ),
                                  ]
                                ),
                              ]
                            ),
                          ]
                        ),
                      ]
                    );
                  }),
                  0
                ),
                t("div", { staticClass: "message-bar" }, [
                  t("input", {
                    directives: [
                      {
                        name: "model",
                        rawName: "v-model",
                        value: e.pm_msg,
                        expression: "pm_msg",
                      },
                    ],
                    staticClass: "input",
                    domProps: { value: e.pm_msg },
                    on: {
                      keyup: function (t) {
                        return !t.type.indexOf("key") &&
                          e._k(t.keyCode, "enter", 13, t.key, "Enter")
                          ? null
                          : e.send.apply(null, arguments);
                      },
                      input: function (t) {
                        t.target.composing || (e.pm_msg = t.target.value);
                      },
                    },
                  }),
                  t("img", {
                    staticClass: "message-bar-icon-send",
                    attrs: { src: i(24492) },
                    on: { click: e.send },
                  }),
                ]),
              ],
              1
            );
          },
          Zi = [],
          Yi = {
            name: "UniRightChatbot",
            components: { Navbar: ct },
            created() {
              this.getUserInfo(),
                this.$loading.show(),
                setTimeout(() => {
                  var e = document.querySelector(".pm-list-container");
                  e &&
                    (document.querySelector(".message-bar").style.width =
                      e.offsetWidth + "px");
                }, 50);
              const e = localStorage.getItem("user_school_label");
              "HKU" == e &&
                (document.title =
                  this.$t("RightChatbot.title") +
                  " / " +
                  this.$t("AppNameTitle.HKU")),
                "CUHK" == e &&
                  (document.title =
                    this.$t("RightChatbot.title") +
                    " / " +
                    this.$t("AppNameTitle.CUHK")),
                "UST" == e &&
                  (document.title =
                    this.$t("RightChatbot.title") +
                    " / " +
                    this.$t("AppNameTitle.UST"));
            },
            mounted() {
              window.addEventListener(
                "resize",
                () => {
                  var e = document.querySelector(".pm-list-container");
                  e &&
                    (document.querySelector(".message-bar").style.width =
                      e.offsetWidth + "px");
                },
                !0
              );
            },
            destroyed() {
              window.removeEventListener(
                "resize",
                () => {
                  var e = document.querySelector(".pm-list-container");
                  e &&
                    (document.querySelector(".message-bar").style.width =
                      e.offsetWidth + "px");
                },
                !0
              );
            },
            data() {
              return {
                is_getting_answer: !1,
                pm_list: [],
                user_info: {},
                pm_msg: "",
                selected_pm: null,
                is_long_press: !1,
              };
            },
            methods: {
              getUserInfo() {
                Ms("/user/profile/get").then((e) => {
                  e &&
                    ((this.user_info = e.user_info),
                    Ms("/pm/chatbot/history").then((e) => {
                      if (!e) return;
                      const t = this.user_info.user_serial,
                        i = this.user_info.user_serial,
                        s = this.user_info.user_avatar;
                      e.chatbot_record_list.reverse().forEach((e) => {
                        this.pm_list.push({
                          chat_id: null,
                          pm_create_time: e.chatbot_record_create_time,
                          pm_create_time_display: Le(
                            e.chatbot_record_create_time
                          ),
                          pm_id: null,
                          pm_is_from_me: !0,
                          pm_is_real_name: !0,
                          pm_msg: e.chatbot_record_question,
                          pm_media: null,
                          user_avatar: s,
                          user_alias: t,
                          user_serial: i,
                        }),
                          this.pm_list.push({
                            chat_id: null,
                            pm_create_time: e.chatbot_record_create_time,
                            pm_create_time_display: Le(
                              e.chatbot_record_create_time
                            ),
                            pm_id: null,
                            pm_is_from_me: !1,
                            pm_is_real_name: !1,
                            pm_msg: e.chatbot_record_answer,
                            pm_msg_html: vt().parse(e.chatbot_record_answer),
                            pm_media: null,
                            user_avatar: "chatbot",
                            user_alias: this.$t("MiddlePm.chatbot_name"),
                            user_serial: this.$t("MiddlePm.chatbot_name"),
                          });
                      }),
                        this.$loading.hide();
                      var n = document.querySelector(".pm-list-container");
                      setTimeout(() => {
                        n.scrollTop = n.scrollHeight;
                      }, 50);
                    }));
                });
              },
              send() {
                if (this.is_getting_answer) return;
                if (!this.pm_msg)
                  return void this.$modal.show({
                    content: this.$t("RightChatbot.cannot_be_empty"),
                  });
                this.is_getting_answer = !0;
                const e = this.pm_msg,
                  t = Math.floor(Date.now() / 1e3),
                  i = this.user_info.user_serial,
                  s = this.user_info.user_serial,
                  n = this.user_info.user_avatar;
                var o = [];
                const a = this.pm_list.filter(
                  (e) => Math.floor(Date.now() / 1e3) - e.pm_create_time <= 1800
                );
                a.slice(-10).forEach((e) => {
                  e.pm_is_from_me
                    ? o.push({ role: "user", content: e.pm_msg })
                    : o.push({ role: "assistant", content: e.pm_msg });
                }),
                  (this.pm_msg = ""),
                  this.pm_list.push({
                    chat_id: null,
                    pm_create_time: t,
                    pm_create_time_display: Le(t),
                    pm_id: null,
                    pm_is_from_me: !0,
                    pm_is_real_name: !0,
                    pm_msg: e,
                    pm_media: null,
                    user_avatar: n,
                    user_alias: i,
                    user_serial: s,
                  }),
                  this.pm_list.push({
                    chat_id: null,
                    pm_create_time: t,
                    pm_create_time_display: Le(t),
                    pm_id: null,
                    pm_is_from_me: !1,
                    pm_is_real_name: !1,
                    pm_msg: this.$t("RightChatbot.loading"),
                    pm_msg_html: vt().parse(this.$t("RightChatbot.loading")),
                    pm_media: null,
                    user_avatar: "chatbot",
                    user_alias: this.$t("MiddlePm.chatbot_name"),
                    user_serial: this.$t("MiddlePm.chatbot_name"),
                  });
                var r = document.querySelector(".pm-list-container");
                setTimeout(() => {
                  r.scrollTop = r.scrollHeight;
                }, 50);
                const l =
                  "https://chat.tripleuni.com?question=" +
                  encodeURIComponent(e) +
                  "&token=" +
                  localStorage.getItem("token") +
                  "&history=" +
                  JSON.stringify(o);
                const c = new EventSource(l);
                c.addEventListener("open", (e) => {}),
                  c.addEventListener("message", (e) => {
                    try {
                      var t = JSON.parse(e.data);
                      t.content &&
                        (this.pm_list[this.pm_list.length - 1].pm_msg ==
                          this.$t("RightChatbot.loading") &&
                          (this.pm_list[this.pm_list.length - 1].pm_msg = ""),
                        (this.pm_list[this.pm_list.length - 1].pm_msg +=
                          t.content),
                        (this.pm_list[this.pm_list.length - 1].pm_msg_html =
                          vt().parse(
                            this.pm_list[this.pm_list.length - 1].pm_msg
                          )),
                        t.content,
                        (r.scrollTop = r.scrollHeight));
                    } catch (i) {}
                  }),
                  c.addEventListener("error", (e) => {}),
                  c.addEventListener("close", (e) => {
                    c.close(), (this.is_getting_answer = !1);
                  });
              },
              copy() {
                const e = this.selected_pm;
                this.selected_pm = null;
                try {
                  navigator.clipboard.writeText(e.pm_msg),
                    y({ content: this.$t("RightChat.copy_success") });
                } catch (t) {
                  y({ content: this.$t("RightChat.copy_fail") });
                }
              },
              rightClick(e, t) {
                return (
                  (this.selected_pm = t),
                  this.$contextmenu({
                    items: [
                      {
                        label: this.$t("RightChat.copy"),
                        onClick: () => {
                          this.copy();
                        },
                      },
                    ],
                    event: e,
                    customClass: "menu-theme",
                    zIndex: 99,
                    minWidth: 150,
                  }),
                  !1
                );
              },
              touchStart(e, t) {
                (this.is_long_press = !1),
                  (this.timer = setTimeout(() => {
                    this.is_long_press = !0;
                    const i = new PointerEvent("pointerdown", {
                      pointerId: e.touches[0].identifier,
                      clientX: e.touches[0].clientX,
                      clientY: e.touches[0].clientY,
                    });
                    this.rightClick(i, t);
                  }, 500));
              },
              touchEnd() {
                clearTimeout(this.timer);
              },
            },
          },
          Qi = Yi,
          Ji = (0, E.Z)(Qi, Xi, Zi, !1, null, "69bfd389", null),
          es = Ji.exports,
          ts = function () {
            var e = this,
              t = e._self._c;
            return t("div", [
              t("div", { staticClass: "topic-container" }, [
                t("div", { staticClass: "topic-title" }, [
                  e._v(e._s(e.$t("RightWrite.choose_topic"))),
                ]),
                t(
                  "div",
                  { staticClass: "topic-list" },
                  e._l(e.topic_list, function (i, s) {
                    return t(
                      "div",
                      {
                        key: s,
                        class:
                          i.topic == e.post_topic
                            ? "topic-item-active"
                            : "topic-item",
                        on: {
                          click: function (t) {
                            return e.changeTopic(i);
                          },
                        },
                      },
                      [e._v(" " + e._s(i.topic_show) + " ")]
                    );
                  }),
                  0
                ),
              ]),
              t("div", { staticClass: "option-container" }, [
                t(
                  "div",
                  { staticClass: "option-item" },
                  [
                    t("div", { staticClass: "option-item-title" }, [
                      e._v(e._s(e.$t("RightWrite.public"))),
                    ]),
                    t("toggle-button", {
                      staticClass: "option-title-switch",
                      attrs: { width: 40, height: 20, color: e.switch_color },
                      on: { change: e.changePublic },
                      model: {
                        value: e.post_is_public,
                        callback: function (t) {
                          e.post_is_public = t;
                        },
                        expression: "post_is_public",
                      },
                    }),
                  ],
                  1
                ),
                t(
                  "div",
                  { staticClass: "option-item" },
                  [
                    t("div", { staticClass: "option-item-title" }, [
                      e._v(e._s(e.$t("RightWrite.realname"))),
                    ]),
                    t("toggle-button", {
                      staticClass: "option-title-switch",
                      attrs: { width: 40, height: 20, color: e.switch_color },
                      on: { change: e.changeRealname },
                      model: {
                        value: e.user_is_real_name,
                        callback: function (t) {
                          e.user_is_real_name = t;
                        },
                        expression: "user_is_real_name",
                      },
                    }),
                  ],
                  1
                ),
                t(
                  "div",
                  { staticClass: "option-item" },
                  [
                    t("div", { staticClass: "option-item-title" }, [
                      e._v(e._s(e.$t("RightWrite.uni"))),
                    ]),
                    t("toggle-button", {
                      staticClass: "option-title-switch",
                      attrs: { width: 40, height: 20, color: e.switch_color },
                      on: { change: e.changeUni },
                      model: {
                        value: e.post_is_uni,
                        callback: function (t) {
                          e.post_is_uni = t;
                        },
                        expression: "post_is_uni",
                      },
                    }),
                  ],
                  1
                ),
                t(
                  "div",
                  { staticClass: "option-item" },
                  [
                    t("div", { staticClass: "option-item-title" }, [
                      e._v(e._s(e.$t("RightWrite.markdown"))),
                    ]),
                    t("toggle-button", {
                      staticClass: "option-title-switch",
                      attrs: { width: 40, height: 20, color: e.switch_color },
                      on: { change: e.changeMarkdown },
                      model: {
                        value: e.post_is_markdown,
                        callback: function (t) {
                          e.post_is_markdown = t;
                        },
                        expression: "post_is_markdown",
                      },
                    }),
                  ],
                  1
                ),
              ]),
              t("div", { staticClass: "send-button-group" }, [
                t(
                  "div",
                  {
                    staticClass: "send-button-sub-vice",
                    on: { click: e.setMedia },
                  },
                  [e._v(e._s(e.$t("RightWrite.insert")))]
                ),
                t(
                  "div",
                  {
                    staticClass: "send-button-sub-main",
                    on: { click: e.post },
                  },
                  [e._v(e._s(e.$t("RightWrite.post")))]
                ),
              ]),
            ]);
          },
          is = [],
          ss = i(77783),
          ns = {
            name: "UniRightWrite",
            components: { ToggleButton: ss.ToggleButton },
            created() {
              this.getTopicList();
            },
            data() {
              return {
                post_topic: "",
                post_topic_show: "",
                topic_list: [],
                post_is_public: !0,
                post_public: 1,
                user_is_real_name: !1,
                post_is_uni: !1,
                post_is_markdown: !1,
                switch_color: {
                  checked: window
                    .getComputedStyle(document.documentElement)
                    .getPropertyValue("--main"),
                  unchecked: window
                    .getComputedStyle(document.documentElement)
                    .getPropertyValue("--hover-grey"),
                },
              };
            },
            methods: {
              getTopicList() {
                Ms("/info/posttopic").then((e) => {
                  e &&
                    (this.topic_list = e.topic_list.map((e) => ({
                      topic: e,
                      topic_show: Ue(e),
                    })));
                });
              },
              changeTopic(e) {
                (this.post_topic = e.topic),
                  (this.post_topic_show = e.topic_show),
                  window.dispatchEvent(
                    new CustomEvent("writeChangeTopic", {
                      detail: {
                        post_topic: this.post_topic,
                        post_topic_show: this.post_topic_show,
                      },
                    })
                  );
              },
              changePublic(e) {
                e.value ? (this.post_public = 1) : (this.post_public = 2),
                  window.dispatchEvent(
                    new CustomEvent("writeChangePublic", {
                      detail: { post_public: this.post_public },
                    })
                  );
              },
              changeRealname() {
                window.dispatchEvent(
                  new CustomEvent("writeChangeRealname", {
                    detail: { user_is_real_name: this.user_is_real_name },
                  })
                );
              },
              changeUni() {
                window.dispatchEvent(
                  new CustomEvent("writeChangeUni", {
                    detail: { post_is_uni: this.post_is_uni },
                  })
                );
              },
              changeMarkdown() {
                window.dispatchEvent(
                  new CustomEvent("writeChangeMarkdown", {
                    detail: { post_is_markdown: this.post_is_markdown },
                  })
                );
              },
              setMedia(e) {
                this.$contextmenu({
                  items: [
                    {
                      label: this.$t("MiddleWrite.media_image"),
                      onClick: () => {
                        window.dispatchEvent(
                          new CustomEvent("writeChangeMedia", {
                            detail: { media_type: "image" },
                          })
                        );
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.media_netease"),
                      onClick: () => {
                        window.dispatchEvent(
                          new CustomEvent("writeChangeMedia", {
                            detail: { media_type: "netease" },
                          })
                        );
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.media_bilibili"),
                      onClick: () => {
                        window.dispatchEvent(
                          new CustomEvent("writeChangeMedia", {
                            detail: { media_type: "bilibili" },
                          })
                        );
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.media_vote"),
                      onClick: () => {
                        window.dispatchEvent(
                          new CustomEvent("writeChangeMedia", {
                            detail: { media_type: "vote" },
                          })
                        );
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.media_quote"),
                      onClick: () => {
                        window.dispatchEvent(
                          new CustomEvent("writeChangeMedia", {
                            detail: { media_type: "quote" },
                          })
                        );
                      },
                    },
                    {
                      label: this.$t("MiddleWrite.media_file"),
                      onClick: () => {
                        window.dispatchEvent(
                          new CustomEvent("writeChangeMedia", {
                            detail: { media_type: "file" },
                          })
                        );
                      },
                    },
                  ],
                  event: e,
                  customClass: "menu-theme",
                  zIndex: 99,
                  minWidth: 150,
                });
              },
              post() {
                window.dispatchEvent(new Event("writePost"));
              },
            },
          },
          os = ns,
          as = (0, E.Z)(os, ts, is, !1, null, "58582fb7", null),
          rs = as.exports,
          ls = function () {
            var e = this,
              t = e._self._c;
            return t(
              "el-container",
              { staticClass: "home_container" },
              [
                t(
                  "el-container",
                  [
                    t(
                      "el-aside",
                      { attrs: { width: "80px" } },
                      [
                        t(
                          "el-menu",
                          {
                            staticClass: "el-menu-vertical-demo",
                            attrs: { collapse: !0, router: "" },
                          },
                          [
                            t("el-menu-item", { attrs: { index: "/home" } }, [
                              t("i", { staticClass: "el-icon-back" }),
                              t(
                                "span",
                                { attrs: { slot: "title" }, slot: "title" },
                                [e._v("退出后台")]
                              ),
                            ]),
                            t(
                              "el-menu-item",
                              { attrs: { index: "/orgadmin/write" } },
                              [
                                t("i", { staticClass: "el-icon-s-promotion" }),
                                t(
                                  "span",
                                  { attrs: { slot: "title" }, slot: "title" },
                                  [e._v("文章发表")]
                                ),
                              ]
                            ),
                            t(
                              "el-menu-item",
                              { attrs: { index: "/orgadmin/profile" } },
                              [
                                t("i", { staticClass: "el-icon-menu" }),
                                t(
                                  "span",
                                  { attrs: { slot: "title" }, slot: "title" },
                                  [e._v("主页定制")]
                                ),
                              ]
                            ),
                          ],
                          1
                        ),
                      ],
                      1
                    ),
                    t("el-main", [t("router-view")], 1),
                  ],
                  1
                ),
              ],
              1
            );
          },
          cs = [],
          us = {
            created() {
              const e = localStorage.getItem("user_school_label");
              "HKU" == e &&
                (document.title =
                  this.$t("OrgMain.title") +
                  " / " +
                  this.$t("AppNameTitle.HKU")),
                "CUHK" == e &&
                  (document.title =
                    this.$t("OrgMain.title") +
                    " / " +
                    this.$t("AppNameTitle.CUHK")),
                "UST" == e &&
                  (document.title =
                    this.$t("OrgMain.title") +
                    " / " +
                    this.$t("AppNameTitle.UST"));
            },
            data() {
              return {};
            },
            methods: {},
          },
          ds = us,
          hs = (0, E.Z)(ds, ls, cs, !1, null, "5981b461", null),
          ps = hs.exports,
          _s = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              [
                t("h1", [e._v("文章发表")]),
                t(
                  "el-form",
                  {
                    ref: "postFormRef",
                    attrs: {
                      "label-width": "80px",
                      model: e.postForm,
                      "label-position": "left",
                      rules: e.postFormRules,
                    },
                  },
                  [
                    t(
                      "el-form-item",
                      { attrs: { label: "社团名称", prop: "org_name" } },
                      [
                        t("el-input", {
                          attrs: { placeholder: "该项不可修改", disabled: !0 },
                          model: {
                            value: e.postForm.org_name,
                            callback: function (t) {
                              e.$set(e.postForm, "org_name", t);
                            },
                            expression: "postForm.org_name",
                          },
                        }),
                      ],
                      1
                    ),
                    t(
                      "el-form-item",
                      { attrs: { label: "文章链接", prop: "article_link" } },
                      [
                        t("el-input", {
                          attrs: {
                            placeholder:
                              "以 https://mp.weixin.qq.com/s/ 开头的链接",
                          },
                          model: {
                            value: e.postForm.article_link,
                            callback: function (t) {
                              e.$set(e.postForm, "article_link", t);
                            },
                            expression: "postForm.article_link",
                          },
                        }),
                      ],
                      1
                    ),
                    t(
                      "el-form-item",
                      { attrs: { label: "开启评论" } },
                      [
                        t("el-switch", {
                          model: {
                            value: e.postForm.open_comment,
                            callback: function (t) {
                              e.$set(e.postForm, "open_comment", t);
                            },
                            expression: "postForm.open_comment",
                          },
                        }),
                      ],
                      1
                    ),
                    e.postForm.open_comment
                      ? t(
                          "el-form-item",
                          { attrs: { label: "正文内容" } },
                          [
                            t("el-input", {
                              attrs: { type: "textarea" },
                              model: {
                                value: e.postForm.post_msg,
                                callback: function (t) {
                                  e.$set(e.postForm, "post_msg", t);
                                },
                                expression: "postForm.post_msg",
                              },
                            }),
                          ],
                          1
                        )
                      : e._e(),
                  ],
                  1
                ),
                t(
                  "el-button",
                  {
                    staticStyle: { "margin-top": "10px" },
                    attrs: { type: "primary" },
                    on: { click: e.post },
                  },
                  [e._v("发表")]
                ),
              ],
              1
            );
          },
          ms = [],
          gs = {
            created() {
              this.getOrgInfo();
            },
            data() {
              return {
                postForm: {
                  org_name: "",
                  article_link: "",
                  open_comment: !0,
                  post_msg: "",
                },
                postFormRules: {
                  org_name: [
                    {
                      required: !0,
                      message: "请输入组织名称",
                      trigger: "blur",
                    },
                  ],
                  article_link: [
                    {
                      required: !0,
                      message: "请输入文章链接",
                      trigger: "blur",
                    },
                  ],
                },
              };
            },
            methods: {
              getOrgInfo() {
                this.$loading.show(),
                  Ms("/org/profile/get").then((e) => {
                    this.$loading.hide(),
                      e && (this.postForm.org_name = e.org_info.org_name);
                  });
              },
              post() {
                this.$refs.postFormRef.validate((e) => {
                  e &&
                    (this.$loading.show(),
                    Ms("/org/article/post", {
                      article_link: this.postForm.article_link,
                      article_open_comment: this.postForm.open_comment,
                      post_msg: this.postForm.post_msg,
                    }).then((e) => {
                      this.$loading.hide(),
                        e && y({ content: this.$t("/org/article/post.200") });
                    }));
                });
              },
            },
          },
          fs = gs,
          vs = (0, E.Z)(fs, _s, ms, !1, null, "592fbccc", null),
          ys = vs.exports,
          ws = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              [
                t("h1", [e._v("主页定制")]),
                t(
                  "el-form",
                  {
                    ref: "postFormRef",
                    attrs: {
                      "label-width": "80px",
                      model: e.postForm,
                      "label-position": "left",
                      rules: e.postFormRules,
                    },
                  },
                  [
                    t(
                      "el-form-item",
                      { attrs: { label: "组织名称", prop: "org_name" } },
                      [
                        t("el-input", {
                          attrs: { placeholder: "该项不可修改", disabled: !0 },
                          on: { input: e.redraw },
                          model: {
                            value: e.postForm.org_name,
                            callback: function (t) {
                              e.$set(e.postForm, "org_name", t);
                            },
                            expression: "postForm.org_name",
                          },
                        }),
                      ],
                      1
                    ),
                    t(
                      "el-form-item",
                      { attrs: { label: "简介", prop: "org_intro" } },
                      [
                        t("el-input", {
                          attrs: { type: "textarea" },
                          on: { input: e.redraw },
                          model: {
                            value: e.postForm.org_intro,
                            callback: function (t) {
                              e.$set(e.postForm, "org_intro", t);
                            },
                            expression: "postForm.org_intro",
                          },
                        }),
                      ],
                      1
                    ),
                    t(
                      "el-form-item",
                      { attrs: { label: "头像", prop: "org_avatar" } },
                      [
                        e.postForm.org_avatar
                          ? t("el-image", {
                              staticStyle: { height: "100px" },
                              attrs: {
                                src: e.postForm.org_avatar,
                                "preview-src-list": [e.postForm.org_avatar],
                              },
                            })
                          : e._e(),
                        t(
                          "el-upload",
                          {
                            staticClass: "upload-demo",
                            attrs: {
                              action: "#",
                              accept: ".png,.jpg,.jpeg",
                              limit: 1,
                              drag: "",
                              "http-request": e.uploadAvatar,
                              "show-file-list": !1,
                            },
                          },
                          [
                            t("i", { staticClass: "el-icon-upload" }),
                            t("div", { staticClass: "el-upload__text" }, [
                              e._v("将文件拖到此处，或"),
                              t("em", [e._v("点击上传")]),
                            ]),
                            t(
                              "div",
                              {
                                staticClass: "el-upload__tip",
                                attrs: { slot: "tip" },
                                slot: "tip",
                              },
                              [e._v("比例为1:1")]
                            ),
                          ]
                        ),
                      ],
                      1
                    ),
                    t(
                      "el-form-item",
                      { attrs: { label: "背景图", prop: "org_bg_image" } },
                      [
                        e.postForm.org_bg_image
                          ? t("el-image", {
                              staticStyle: { height: "100px" },
                              attrs: {
                                src: e.postForm.org_bg_image,
                                "preview-src-list": [e.postForm.org_bg_image],
                              },
                            })
                          : e._e(),
                        t(
                          "el-upload",
                          {
                            staticClass: "upload-demo",
                            attrs: {
                              action: "#",
                              accept: ".png,.jpg,.jpeg",
                              limit: 1,
                              drag: "",
                              "http-request": e.uploadBgImage,
                              "show-file-list": !1,
                            },
                          },
                          [
                            t("i", { staticClass: "el-icon-upload" }),
                            t("div", { staticClass: "el-upload__text" }, [
                              e._v("将文件拖到此处，或"),
                              t("em", [e._v("点击上传")]),
                            ]),
                            t(
                              "div",
                              {
                                staticClass: "el-upload__tip",
                                attrs: { slot: "tip" },
                                slot: "tip",
                              },
                              [e._v("比例为3:4")]
                            ),
                          ]
                        ),
                      ],
                      1
                    ),
                    t(
                      "el-button",
                      {
                        staticStyle: { margin: "40px 20px 20px 0" },
                        attrs: { type: "primary" },
                        on: { click: e.addBanner },
                      },
                      [e._v("新增轮播图")]
                    ),
                    e._l(e.postForm.org_banner, function (i, s) {
                      return t(
                        "el-form-item",
                        {
                          key: "banner" + s,
                          staticStyle: { "margin-bottom": "20px" },
                          attrs: { label: "轮播图", prop: "org_banner" },
                        },
                        [
                          i.banner_image
                            ? t("el-image", {
                                staticStyle: { height: "100px" },
                                attrs: {
                                  src: i.banner_image,
                                  "preview-src-list": [i.banner_image],
                                },
                              })
                            : e._e(),
                          t(
                            "el-button",
                            {
                              staticStyle: { "margin-left": "20px" },
                              attrs: { type: "danger" },
                              on: {
                                click: function (t) {
                                  return e.deleteBanner(s);
                                },
                              },
                            },
                            [e._v("删除")]
                          ),
                          t(
                            "el-upload",
                            {
                              staticClass: "upload-demo",
                              attrs: {
                                action: "#",
                                accept: ".png,.jpg,.jpeg",
                                limit: 1,
                                drag: "",
                                "http-request": (t) => e.uploadBanner(t, s),
                                "show-file-list": !1,
                              },
                            },
                            [
                              t("i", { staticClass: "el-icon-upload" }),
                              t("div", { staticClass: "el-upload__text" }, [
                                e._v("将文件拖到此处，或"),
                                t("em", [e._v("点击上传")]),
                              ]),
                              t(
                                "div",
                                {
                                  staticClass: "el-upload__tip",
                                  attrs: { slot: "tip" },
                                  slot: "tip",
                                },
                                [e._v("比例为2.35:1")]
                              ),
                            ]
                          ),
                          t(
                            "el-form-item",
                            { attrs: { label: "链接类型" } },
                            [
                              t(
                                "el-select",
                                {
                                  attrs: {
                                    placeholder: "点击轮播图触发的链接",
                                  },
                                  on: { change: e.redraw },
                                  model: {
                                    value: i.banner_type,
                                    callback: function (t) {
                                      e.$set(i, "banner_type", t);
                                    },
                                    expression: "item.banner_type",
                                  },
                                },
                                [
                                  t("el-option", {
                                    attrs: {
                                      label: "公众号文章",
                                      value: "article",
                                    },
                                  }),
                                  t("el-option", {
                                    attrs: { label: "树洞", value: "post" },
                                  }),
                                  t("el-option", {
                                    attrs: { label: "无", value: "none" },
                                  }),
                                ],
                                1
                              ),
                            ],
                            1
                          ),
                          "article" == i.banner_type
                            ? t(
                                "el-form-item",
                                { attrs: { label: "文章链接" } },
                                [
                                  t("el-input", {
                                    attrs: {
                                      placeholder:
                                        "https://mp.weixin.qq.com/s/ 开头的链接",
                                    },
                                    on: { input: e.redraw },
                                    model: {
                                      value: i.article_link,
                                      callback: function (t) {
                                        e.$set(i, "article_link", t);
                                      },
                                      expression: "item.article_link",
                                    },
                                  }),
                                ],
                                1
                              )
                            : e._e(),
                          "post" == i.banner_type
                            ? t(
                                "el-form-item",
                                { attrs: { label: "UNI树洞号" } },
                                [
                                  t("el-input", {
                                    attrs: {
                                      placeholder:
                                        "UNI树洞号在地址栏查看：https://tripleuni.com/post/{UNI树洞号}",
                                    },
                                    on: { input: e.redraw },
                                    model: {
                                      value: i.uni_post_id,
                                      callback: function (t) {
                                        e.$set(i, "uni_post_id", t);
                                      },
                                      expression: "item.uni_post_id",
                                    },
                                  }),
                                ],
                                1
                              )
                            : e._e(),
                        ],
                        1
                      );
                    }),
                    t(
                      "el-button",
                      {
                        staticStyle: { margin: "40px 0 20px 0" },
                        attrs: { type: "primary" },
                        on: { click: e.addFunction },
                      },
                      [e._v("新增功能")]
                    ),
                    e._l(e.postForm.org_function, function (i, s) {
                      return t(
                        "el-form-item",
                        {
                          key: "function" + s,
                          attrs: { label: "功能", prop: "org_model_half" },
                        },
                        [
                          t(
                            "el-button",
                            {
                              attrs: { type: "danger" },
                              on: {
                                click: function (t) {
                                  return e.deleteFunction(s);
                                },
                              },
                            },
                            [e._v("删除")]
                          ),
                          t(
                            "el-form-item",
                            { attrs: { label: "功能名称" } },
                            [
                              t("el-input", {
                                attrs: {
                                  placeholder: "功能名称，显示在社团主页",
                                },
                                on: { input: e.redraw },
                                model: {
                                  value: i.function_title,
                                  callback: function (t) {
                                    e.$set(i, "function_title", t);
                                  },
                                  expression: "item.function_title",
                                },
                              }),
                            ],
                            1
                          ),
                          t(
                            "el-form-item",
                            { attrs: { label: "功能类型" } },
                            [
                              t(
                                "el-select",
                                {
                                  attrs: { placeholder: "请选择功能类型" },
                                  on: { change: e.redraw },
                                  model: {
                                    value: i.function_type,
                                    callback: function (t) {
                                      e.$set(i, "function_type", t);
                                    },
                                    expression: "item.function_type",
                                  },
                                },
                                [
                                  t("el-option", {
                                    attrs: {
                                      label: "公众号文章",
                                      value: "article",
                                    },
                                  }),
                                  t("el-option", {
                                    attrs: { label: "树洞", value: "post" },
                                  }),
                                  t("el-option", {
                                    attrs: { label: "私信", value: "pm" },
                                  }),
                                  t("el-option", {
                                    attrs: { label: "二级菜单", value: "list" },
                                  }),
                                ],
                                1
                              ),
                            ],
                            1
                          ),
                          "article" == i.function_type
                            ? t(
                                "el-form-item",
                                { attrs: { label: "文章链接" } },
                                [
                                  t("el-input", {
                                    attrs: {
                                      placeholder:
                                        "https://mp.weixin.qq.com/s/ 开头的链接",
                                    },
                                    on: { input: e.redraw },
                                    model: {
                                      value: i.article_link,
                                      callback: function (t) {
                                        e.$set(i, "article_link", t);
                                      },
                                      expression: "item.article_link",
                                    },
                                  }),
                                ],
                                1
                              )
                            : e._e(),
                          "post" == i.function_type
                            ? t(
                                "el-form-item",
                                { attrs: { label: "UNI树洞号" } },
                                [
                                  t("el-input", {
                                    attrs: {
                                      placeholder:
                                        "UNI树洞号在地址栏查看：https://tripleuni.com/post/{UNI树洞号}",
                                    },
                                    on: { input: e.redraw },
                                    model: {
                                      value: i.uni_post_id,
                                      callback: function (t) {
                                        e.$set(i, "uni_post_id", t);
                                      },
                                      expression: "item.uni_post_id",
                                    },
                                  }),
                                ],
                                1
                              )
                            : e._e(),
                          "list" == i.function_type
                            ? t(
                                "el-form-item",
                                { attrs: { label: "二级菜单" } },
                                [
                                  t(
                                    "el-button",
                                    {
                                      attrs: { type: "primary" },
                                      on: {
                                        click: function (t) {
                                          return e.addSecondFunction(s);
                                        },
                                      },
                                    },
                                    [e._v("新增二级选项")]
                                  ),
                                  e._l(i.function_list, function (i, n) {
                                    return t(
                                      "el-form-item",
                                      {
                                        key: "subfunction" + n,
                                        attrs: {
                                          label: "二级选项",
                                          prop: "org_model_half",
                                        },
                                      },
                                      [
                                        t(
                                          "el-button",
                                          {
                                            attrs: { type: "danger" },
                                            on: {
                                              click: function (t) {
                                                return e.deleteSecondFunction(
                                                  s,
                                                  n
                                                );
                                              },
                                            },
                                          },
                                          [e._v("删除")]
                                        ),
                                        t(
                                          "el-form-item",
                                          { attrs: { label: "功能名称" } },
                                          [
                                            t("el-input", {
                                              attrs: {
                                                placeholder:
                                                  "功能名称，显示在二级菜单",
                                              },
                                              on: { input: e.redraw },
                                              model: {
                                                value: i.function_title,
                                                callback: function (t) {
                                                  e.$set(
                                                    i,
                                                    "function_title",
                                                    t
                                                  );
                                                },
                                                expression:
                                                  "item2.function_title",
                                              },
                                            }),
                                          ],
                                          1
                                        ),
                                        t(
                                          "el-form-item",
                                          { attrs: { label: "功能类型" } },
                                          [
                                            t(
                                              "el-select",
                                              {
                                                attrs: {
                                                  placeholder: "请选择功能类型",
                                                },
                                                on: { change: e.redraw },
                                                model: {
                                                  value: i.function_type,
                                                  callback: function (t) {
                                                    e.$set(
                                                      i,
                                                      "function_type",
                                                      t
                                                    );
                                                  },
                                                  expression:
                                                    "item2.function_type",
                                                },
                                              },
                                              [
                                                t("el-option", {
                                                  attrs: {
                                                    label: "公众号文章",
                                                    value: "article",
                                                  },
                                                }),
                                                t("el-option", {
                                                  attrs: {
                                                    label: "树洞",
                                                    value: "post",
                                                  },
                                                }),
                                                t("el-option", {
                                                  attrs: {
                                                    label: "私信",
                                                    value: "pm",
                                                  },
                                                }),
                                              ],
                                              1
                                            ),
                                          ],
                                          1
                                        ),
                                        "article" == i.function_type
                                          ? t(
                                              "el-form-item",
                                              { attrs: { label: "文章链接" } },
                                              [
                                                t("el-input", {
                                                  attrs: {
                                                    placeholder:
                                                      "https://mp.weixin.qq.com/s/ 开头的链接",
                                                  },
                                                  on: { input: e.redraw },
                                                  model: {
                                                    value: i.article_link,
                                                    callback: function (t) {
                                                      e.$set(
                                                        i,
                                                        "article_link",
                                                        t
                                                      );
                                                    },
                                                    expression:
                                                      "item2.article_link",
                                                  },
                                                }),
                                              ],
                                              1
                                            )
                                          : e._e(),
                                        "post" == i.function_type
                                          ? t(
                                              "el-form-item",
                                              { attrs: { label: "UNI树洞号" } },
                                              [
                                                t("el-input", {
                                                  attrs: {
                                                    placeholder:
                                                      "UNI树洞号在地址栏查看：https://tripleuni.com/post/{UNI树洞号}",
                                                  },
                                                  on: { input: e.redraw },
                                                  model: {
                                                    value: i.uni_post_id,
                                                    callback: function (t) {
                                                      e.$set(
                                                        i,
                                                        "uni_post_id",
                                                        t
                                                      );
                                                    },
                                                    expression:
                                                      "item2.uni_post_id",
                                                  },
                                                }),
                                              ],
                                              1
                                            )
                                          : e._e(),
                                      ],
                                      1
                                    );
                                  }),
                                ],
                                2
                              )
                            : e._e(),
                        ],
                        1
                      );
                    }),
                  ],
                  2
                ),
                t(
                  "el-button",
                  {
                    staticStyle: { "margin-top": "40px" },
                    attrs: { type: "primary" },
                    on: { click: e.post },
                  },
                  [e._v("保存")]
                ),
              ],
              1
            );
          },
          Cs = [],
          bs = {
            created() {
              this.getOrgInfo();
            },
            data() {
              return {
                postForm: {
                  org_name: "",
                  org_intro: "",
                  org_avatar: "",
                  org_bg_image: "",
                  org_banner: [],
                  org_function: [],
                },
                postFormRules: {
                  org_name: [
                    {
                      required: !0,
                      message: "请输入组织名称",
                      trigger: "blur",
                    },
                  ],
                  org_intro: [
                    { required: !0, message: "请输入简介", trigger: "blur" },
                  ],
                  org_avatar: [
                    { required: !0, message: "请上传头像", trigger: "blur" },
                  ],
                  org_bg_image: [
                    { required: !0, message: "请上传背景图", trigger: "blur" },
                  ],
                },
              };
            },
            methods: {
              getOrgInfo() {
                this.$loading.show(),
                  Ms("/org/profile/get").then((e) => {
                    this.$loading.hide(),
                      e &&
                        ((this.postForm.org_name = e.org_info.org_name),
                        (this.postForm.org_intro = e.org_info.org_intro),
                        (this.postForm.org_avatar = e.org_info.org_avatar),
                        (this.postForm.org_bg_image = e.org_info.org_bg_image),
                        (this.postForm.org_banner = e.org_info.org_banner),
                        (this.postForm.org_function = e.org_info.org_function));
                  });
              },
              post() {
                this.$loading.show(),
                  Ms("/org/profile/update", {
                    org_name: this.postForm.org_name,
                    org_intro: this.postForm.org_intro,
                    org_avatar: this.postForm.org_avatar,
                    org_bg_image: this.postForm.org_bg_image,
                    org_banner: JSON.stringify(this.postForm.org_banner),
                    org_function: JSON.stringify(this.postForm.org_function),
                  }).then((e) => {
                    this.$loading.hide(),
                      e && y({ content: this.$t("/org/profile/update.200") });
                  });
              },
              addBanner() {
                this.postForm.org_banner || (this.postForm.org_banner = []),
                  this.postForm.org_banner.length < 6
                    ? this.postForm.org_banner.push({
                        banner_title: "",
                        banner_image: "",
                        banner_type: "",
                      })
                    : y({ content: "轮播图最多6个" }),
                  this.$forceUpdate();
              },
              deleteBanner(e) {
                this.postForm.org_banner.splice(e, 1), this.$forceUpdate();
              },
              addFunction() {
                this.postForm.org_function || (this.postForm.org_function = []),
                  this.postForm.org_function.length < 5
                    ? this.postForm.org_function.push({
                        function_title: "",
                        function_type: "",
                      })
                    : y({ content: "功能最多5个" }),
                  this.$forceUpdate();
              },
              deleteFunction(e) {
                this.postForm.org_function.splice(e, 1), this.$forceUpdate();
              },
              addSecondFunction(e) {
                this.postForm.org_function[e].function_list ||
                  (this.postForm.org_function[e].function_list = []),
                  this.postForm.org_function[e].function_list.length < 6
                    ? this.postForm.org_function[e].function_list.push({
                        function_title: "",
                        function_type: "",
                      })
                    : y({ content: "二级选项最多6个" }),
                  this.$forceUpdate();
              },
              deleteSecondFunction(e, t) {
                this.postForm.org_function[e].function_list.splice(t, 1),
                  this.$forceUpdate();
              },
              uploadAvatar(e) {
                this.$loading.show(),
                  Zt(
                    e.file,
                    localStorage.getItem("user_school_label"),
                    "org"
                  ).then(
                    (e) => (
                      (this.postForm.org_avatar = e), this.$loading.hide(), !1
                    )
                  );
              },
              uploadBgImage(e) {
                this.$loading.show(),
                  Zt(
                    e.file,
                    localStorage.getItem("user_school_label"),
                    "org"
                  ).then(
                    (e) => (
                      (this.postForm.org_bg_image = e), this.$loading.hide(), !1
                    )
                  );
              },
              uploadBanner(e, t) {
                this.$loading.show(),
                  Zt(
                    e.file,
                    localStorage.getItem("user_school_label"),
                    "org"
                  ).then((e) => {
                    (this.postForm.org_banner[t].banner_image = e),
                      this.$loading.hide();
                  });
              },
              redraw() {
                this.$forceUpdate();
              },
            },
          },
          ks = bs,
          xs = (0, E.Z)(ks, ws, Cs, !1, null, "0a38f5d4", null),
          Ds = xs.exports;
        const Ss = g.ZP.prototype.push;
        (g.ZP.prototype.push = function (e) {
          return Ss.call(this, e).catch((e) => e);
        }),
          s["default"].use(g.ZP);
        const As = new g.ZP({
          mode: "history",
          routes: [
            { path: "/login", component: I },
            { path: "/ban", component: L },
            { path: "/", redirect: "/home" },
            {
              path: "/main",
              component: Pe,
              redirect: "/home",
              children: [
                {
                  path: "/home",
                  components: { middle: _t, right: Li },
                  meta: { keepAlive: !0 },
                },
                {
                  path: "/search/:key_word?",
                  components: { middle: At, right: Li },
                  meta: { keepAlive: !0 },
                },
                {
                  path: "/notice",
                  components: { middle: Mt, right: Li },
                  meta: { keepAlive: !0 },
                },
                {
                  path: "/chat/chatbot",
                  components: { middle: Lt, right: es },
                },
                {
                  path: "/chat/:chat_id?",
                  components: { middle: Lt, right: Vi },
                },
                {
                  path: "/mine",
                  components: { middle: Gt, right: Li },
                  meta: { keepAlive: !0 },
                },
                { path: "/write", components: { middle: ni, right: rs } },
                { path: "/edit", components: { middle: Ii, right: Li } },
                { path: "/about", components: { middle: Ti, right: Li } },
                {
                  path: "/post/:uni_post_id?",
                  components: { middle: di, right: Li },
                  name: "post",
                },
                {
                  path: "/user/:user_school_label/:user_serial?",
                  components: { middle: fi, right: Li },
                  meta: { keepAlive: !0 },
                },
                {
                  path: "/org/:org_name",
                  components: { middle: ki, right: Li },
                  meta: { keepAlive: !0 },
                },
              ],
            },
            {
              path: "/orgadmin",
              component: ps,
              redirect: "/orgadmin/write",
              children: [
                { path: "/orgadmin/write", component: ys },
                { path: "/orgadmin/profile", component: Ds },
              ],
            },
            { path: "*", redirect: "/home" },
          ],
        });
        As.beforeEach((e, t, i) => {
          t.path.startsWith("/post/") &&
          e.path.startsWith("/post/") &&
          e.path.query &&
          !e.path.query.method
            ? (console.log(e.query),
              i(
                { path: e.path, query: { method: "refresh" } },
                { replace: !0 }
              ))
            : i();
        });
        var Es = As;
        i(81486);
        let Ts = 0,
          Bs = Date.now();
        const $s = 2e3,
          Rs = () => {
            setTimeout(() => {
              if (Ts <= 0) {
                let e = new Event("finishInitLoading");
                window.dispatchEvent(e);
              } else Rs();
            }, $s);
          };
        async function Ms(e, t = {}, i = !0, n = []) {
          if (i) {
            const e = localStorage.getItem("token");
            if (!e)
              return (
                window.location.pathname.startsWith("/login") ||
                  Es.push("/login?callback=" + window.location.pathname),
                !1
              );
            Object.assign(t, { token: e });
          }
          const o =
            localStorage.getItem("language") ||
            navigator.language ||
            navigator.userLanguage;
          var a = "en";
          o.startsWith("zh") && (a = "zh-CN"),
            Object.assign(t, { language: a }),
            (Ts += 1);
          try {
            const { data: i } = await p.Z.post(e + ".php", m().stringify(t), {
              timeout: 15e3,
            });
            return (
              (Ts -= 1),
              Ts <= 0 &&
                setTimeout(() => {
                  if (Ts <= 0 && Date.now() - Bs > $s) {
                    let e = new Event("finishInitLoading");
                    window.dispatchEvent(e);
                  }
                }, 200),
              (i && i.code) ||
                s["default"].$modal.show({
                  title: d.t("Modal.error"),
                  content: d.t("Request.error"),
                  show_cancel: !1,
                }),
              801 == i.code
                ? (window.location.pathname.startsWith("/login") ||
                    (localStorage.clear(),
                    Es.push("/login?callback=" + window.location.pathname)),
                  !1)
                : 803 == i.code || 804 == i.code
                ? ("/ban" != window.location.pathname && Es.push("/ban"), !1)
                : 902 == i.code
                ? (s["default"].$modal.show({
                    title: d.t("Modal.error"),
                    content: i.msg,
                    show_cancel: !1,
                  }),
                  !1)
                : i.code >= 800
                ? (s["default"].$modal.show({
                    title: d.t("Modal.error"),
                    content: d.t("Request." + i.code),
                    show_cancel: !1,
                  }),
                  !1)
                : i.code >= 400 && !n.includes(i.code)
                ? (s["default"].$modal.show({
                    title: d.t("Modal.error"),
                    content: d.t(e + "." + i.code),
                    show_cancel: !1,
                  }),
                  !1)
                : i
            );
          } catch (r) {
            return (Ts -= 1), !1;
          }
        }
        Rs();
        const Ps = 1,
          Is = "wss://ws.tripleuni.com:7230";
        let Fs = "",
          Us = [],
          Ns = null;
        const Os = () => {
            if (localStorage.getItem("token")) {
              if (Fs) {
                var e = { type: "ping" };
                Fs && Fs.send(JSON.stringify(e));
              } else
                qs()
                  .then(() => {
                    Ls();
                  })
                  .catch(() => {
                    Ls();
                  });
              setTimeout(() => {
                Os();
              }, 1e4);
            }
          },
          Hs = () => {
            Fs && Fs.close(), (Fs = "");
          },
          Ls = () => {
            document.hidden ||
              Fs ||
              ((Fs = new WebSocket(Is)),
              (Fs.onopen = () => {
                var e = { type: "bind", token: localStorage.getItem("token") };
                Fs.send(JSON.stringify(e));
              }),
              (Fs.onmessage = (e) => {
                Ks(e.data);
              }),
              (Fs.onerror = () => {
                Fs.close();
              }),
              (Fs.onclose = () => {
                Fs = null;
              }));
          },
          Ks = (e) => {
            switch (((e = JSON.parse(e)), e.type)) {
              case "bind":
                e.bind_result ||
                  (Fs.close(),
                  setTimeout(() => {
                    Ls();
                  }, 5e3));
                break;
              case "message":
                var t = e.content;
                if (
                  (Ws(t),
                  t.pm_is_from_me ||
                    "/chat" == window.location.pathname ||
                    window.location.pathname == "/chat/" + t.chat_id)
                )
                  return;
                y({
                  title: t.user_alias,
                  content: t.pm_msg,
                  user_avatar: t.user_avatar,
                  url: "/chat/" + t.chat_id,
                });
                break;
              case "notice":
                var i = e.content,
                  s = { content: i.notice_msg, notice_id: i.notice_id };
                if (i.notice_data.uni_post_id) {
                  if (
                    window.location.pathname ==
                    "/post/" + i.notice_data.uni_post_id
                  )
                    return;
                  Object.assign(s, {
                    url: "/post/" + i.notice_data.uni_post_id,
                  });
                }
                y(s), k();
                break;
            }
          },
          zs = () => {
            const e = localStorage.getItem("user_itsc"),
              t = localStorage.getItem("user_school_label");
            (Ns = new Ut.ZP(e + "@" + t)),
              Ns.version(Ps).stores({
                pm: "&pm_id, chat_id, pm_create_time",
                chat: "&chat_id, chat_update_time",
              });
          },
          qs = () =>
            new Promise(function (e, t) {
              zs(),
                Ns.pm
                  .orderBy("pm_id")
                  .reverse()
                  .limit(1)
                  .toArray()
                  .then((i) => {
                    var s = i,
                      n = 0;
                    s[0] && (n = s[0].pm_id),
                      Ms("/pm/message/history", { pm_id: n }).then((i) => {
                        if (i) {
                          var s = i.pm_list;
                          s.forEach((e) => {
                            Ws(e);
                          }),
                            e();
                        } else t();
                      });
                  });
            }),
          Ws = (e) => {
            Ns.pm
              .where("pm_id")
              .equals(parseInt(e.pm_id))
              .toArray()
              .then((t) => {
                var i = t;
                i[0] ||
                  (Ns.pm.add(e),
                  Ns.chat
                    .where("chat_id")
                    .equals(parseInt(e.chat_id))
                    .limit(1)
                    .toArray()
                    .then((t) => {
                      var i = t;
                      if (i[0]) {
                        var s = i[0];
                        (s.chat_latest_msg = e.pm_msg),
                          (s.chat_update_time = e.pm_create_time),
                          e.pm_is_from_me ||
                            window.location.pathname == "/chat/" + e.chat_id ||
                            (s.chat_unread_count += 1),
                          window.location.pathname == "/chat/" + e.chat_id &&
                            setTimeout(() => {
                              var e =
                                document.querySelector(".pm-list-container");
                              e.scrollTop = e.scrollHeight + 9999;
                            }, 100),
                          Ns.chat.put(s);
                      } else js(e.chat_id, !e.pm_is_from_me);
                    }));
              });
          },
          js = (e, t) => {
            Us.includes(e) ||
              (Us.push(e),
              Ms("/pm/chat/get", { chat_id: e }, !0, [400]).then((i) => {
                if (i && 400 != i.code) {
                  var s = i.chat_detail;
                  (s.chat_unread_count = t ? 0 : 1),
                    Ns.chat
                      .where("chat_id")
                      .equals(parseInt(e))
                      .limit(1)
                      .toArray()
                      .then((e) => {
                        var t = e;
                        t[0] || Ns.chat.add(s);
                      });
                }
              }));
          };
        var Gs = {
            name: "app",
            created() {
              h(), Os();
            },
            mounted() {
              window.addEventListener("resize", this.handleScreenWidthChange),
                this.handleScreenWidthChange();
            },
            destroyed() {
              window.removeEventListener(
                "resize",
                this.handleScreenWidthChange
              );
            },
            data() {
              return { notice_width: 375 };
            },
            methods: {
              handleScreenWidthChange() {
                window.innerWidth <= 700
                  ? (this.notice_width = window.innerWidth)
                  : (this.notice_width = 375);
              },
            },
          },
          Vs = Gs,
          Xs = (0, E.Z)(Vs, n, o, !1, null, null, null),
          Zs = Xs.exports,
          Ys = i(76126),
          Qs = i(5452),
          Js = i.n(Qs),
          en = i(89649),
          tn = i.n(en),
          sn = function () {
            var e = this,
              t = e._self._c;
            return t("div", { staticClass: "vuejs-loadmore-wrap" }, [
              t(
                "div",
                {
                  ref: "track",
                  staticClass: "vuejs-refresh-track",
                  style: {
                    transform: e.distance
                      ? `translate3d(0, ${e.distance}px, 0)`
                      : "",
                    webkitTransform: e.distance
                      ? `translate3d(0, ${e.distance}px, 0)`
                      : "",
                    transitionDuration: `${e.duration}ms`,
                  },
                },
                [
                  t(
                    "div",
                    { staticClass: "vuejs-refresh-head", style: e.headStyle },
                    [
                      t("img", {
                        staticClass: "icon",
                        attrs: { src: e.image_src },
                      }),
                    ]
                  ),
                  e._t("default"),
                ],
                2
              ),
            ]);
          },
          nn = [];
        function on(e, t, i, s = !1) {
          e.addEventListener(t, i, !!s && { capture: !1, passive: s });
        }
        function an(e, t, i) {
          e.removeEventListener(t, i);
        }
        function rn(e) {
          ("boolean" !== typeof e.cancelable || e.cancelable) &&
            e.preventDefault();
        }
        function ln(e, t) {
          const i = 10,
            s = Math.abs(e),
            n = Math.abs(t);
          return s > n && s > i
            ? "horizontal"
            : n > s && n > i
            ? "vertical"
            : "";
        }
        const cn = {
          data() {
            return { direction: "" };
          },
          methods: {
            bindTouchEvent(e) {
              const { onTouchStart: t, onTouchMove: i, onTouchEnd: s } = this;
              on(e, "touchstart", t),
                on(e, "touchmove", i),
                s && (on(e, "touchend", s), on(e, "touchcancel", s));
            },
            touchStart(e) {
              this.resetTouchStatus(),
                (this.startX = e.touches[0].clientX),
                (this.startY = e.touches[0].clientY);
            },
            touchMove(e) {
              const t = e.touches[0];
              (this.deltaX = t.clientX < 0 ? 0 : t.clientX - this.startX),
                (this.deltaY = t.clientY - this.startY),
                (this.direction =
                  this.direction || ln(this.deltaX, this.deltaY));
            },
            resetTouchStatus() {
              (this.direction = ""), (this.deltaX = 0), (this.deltaY = 0);
            },
          },
        };
        function un(e) {
          function t() {
            e.call(this, on);
          }
          function i() {
            e.call(this, an);
          }
          return { mounted: t, activated: t, deactivated: i, beforeDestroy: i };
        }
        const dn = {
            data() {
              return { timer: null };
            },
            methods: {
              timeout(e, t) {
                clearTimeout(this.timer),
                  setTimeout(() => {
                    "function" === typeof e && e();
                  }, t);
              },
            },
            beforeDestroy() {
              clearTimeout(this.timer);
            },
          },
          hn = /scroll|auto/i;
        function pn(e, t = window) {
          let i = e;
          while (
            i &&
            "HTML" !== i.tagName &&
            "BODY" !== i.tagName &&
            1 === i.nodeType &&
            i !== t
          ) {
            const { overflowY: e } = window.getComputedStyle(i);
            if (hn.test(e)) return i;
            i = i.parentNode;
          }
          return t;
        }
        function _n(e) {
          const t = "scrollTop" in e ? e.scrollTop : e.pageYOffset;
          return Math.max(t, 0);
        }
        function mn(e, t) {
          var i,
            s,
            n,
            o,
            a,
            r = function () {
              e.apply(o, a), (s = i);
            };
          return function () {
            if (
              ((o = this),
              (a = arguments),
              (i = Date.now()),
              n && (clearTimeout(n), (n = null)),
              s)
            ) {
              var e = t - (i - s);
              e < 0
                ? r()
                : (n = setTimeout(() => {
                    r();
                  }, e));
            } else r();
          };
        }
        const gn = ["pulling", "loosing", "refresh", "success"];
        var fn = {
            name: "loadmore",
            mixins: [
              cn,
              un(function (e) {
                this.scroller || (this.scroller = pn(this.$el)),
                  e(this.scroller, "scroll", mn(this.checkSroll, 200));
              }),
              dn,
            ],
            props: {
              onRefresh: Function,
              pullDistance: { type: [Number, String], default: 100 },
              headHeight: { type: [Number, String], default: 100 },
              animationDuration: { type: [Number, String], default: 200 },
              onLoadmore: Function,
              immediateCheck: { type: Boolean, default: !1 },
              loadOffset: { type: [Number, String], default: 50 },
              finished: Boolean,
              error: Boolean,
            },
            data() {
              return {
                status: "normal",
                distance: 0,
                duration: 0,
                scroller: null,
                loadLoading: !1,
                image_src: "",
              };
            },
            mounted() {
              localStorage.getItem("user_school_label")
                ? (this.image_src = i(44451)(
                    "./loading-" +
                      localStorage.getItem("user_school_label") +
                      ".svg"
                  ))
                : (this.image_src = i(93005)),
                this.bindTouchEvent(this.$refs.track),
                (this.scroller = pn(this.$el)),
                this.immediateCheck && this.checkSroll();
            },
            computed: {
              touchable() {
                return (
                  "refresh" !== this.status &&
                  "success" !== this.status &&
                  this.onRefresh
                );
              },
              headStyle() {
                return 50 !== this.headHeight
                  ? { height: `${this.headHeight}px` }
                  : {};
              },
              genStatus() {
                const { status: e } = this,
                  t = this[`${e}Text`];
                return -1 !== gn.indexOf(e) ? t : "";
              },
            },
            methods: {
              checkPullStart(e) {
                (this.ceiling = 0 === _n(this.scroller)),
                  this.ceiling && ((this.duration = 0), this.touchStart(e));
              },
              onTouchStart(e) {
                this.touchable && this.checkPullStart(e);
              },
              onTouchMove(e) {
                this.touchable &&
                  (this.ceiling || this.checkPullStart(e),
                  this.touchMove(e),
                  this.ceiling &&
                    this.deltaY >= 0 &&
                    "vertical" === this.direction &&
                    (rn(e), this.setStatus(this.ease(this.deltaY))));
              },
              onTouchEnd() {
                this.deltaY &&
                  this.touchable &&
                  ((this.duration = this.animationDuration),
                  "loosing" === this.status
                    ? (this.showRefreshTip(),
                      this.$nextTick(() => {
                        this.onRefresh(this.refreshDone);
                      }))
                    : this.setStatus(0));
              },
              ease(e) {
                const t = +(this.pullDistance || this.headHeight);
                return (
                  e > t &&
                    (e =
                      e < 2 * t ? t + (e - t) / 2 : 1.5 * t + (e - 2 * t) / 4),
                  Math.round(e)
                );
              },
              setStatus(e, t = !1) {
                let i;
                (i = t
                  ? "refresh"
                  : 0 === e
                  ? "normal"
                  : e < (this.pullDistance || this.headHeight)
                  ? "pulling"
                  : "loosing"),
                  (this.distance = e),
                  i !== this.status && (this.status = i);
              },
              refreshDone() {
                this.timeout(() => this.setStatus(0), 500);
              },
              showRefreshTip() {
                this.setStatus(+this.headHeight, !0);
              },
              showSuccessTip() {
                (this.status = "success"),
                  this.timeout(() => this.setStatus(0), 1e3);
              },
              checkSroll() {
                this.$nextTick(() => {
                  if (
                    this.loadLoading ||
                    !this.onLoadmore ||
                    this.finished ||
                    this.error
                  )
                    return;
                  const { scroller: e, loadOffset: t } = this;
                  let i;
                  i = e.getBoundingClientRect
                    ? e.getBoundingClientRect()
                    : { top: 0, bottom: e.innerHeight };
                  const s = i.bottom - i.top,
                    n = this.$refs.placeholder;
                  if (!s || !n) return !1;
                  const o = n.getBoundingClientRect(),
                    a = Math.abs(o.bottom - i.bottom) <= t;
                  a &&
                    ((this.loadLoading = !0),
                    this.timeout(
                      () => this.onLoadmore(this.loadmoreDone),
                      500
                    ));
                });
              },
              clickErrorText() {
                this.$emit("update:error", !1),
                  (this.loadLoading = !0),
                  this.timeout(() => this.onLoadmore(this.loadmoreDone), 500);
              },
              loadmoreDone() {
                this.loadLoading = !1;
              },
            },
          },
          vn = fn,
          yn = (0, E.Z)(vn, sn, nn, !1, null, "5be44b29", null),
          wn = yn.exports,
          Cn = {
            install(e, t = {}) {
              e.component("Refresh", wn);
            },
          },
          bn = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: e.finish_loading,
                    expression: "finish_loading",
                  },
                ],
                class: e.show
                  ? "overlay overlay-anim-open"
                  : "overlay overlay-anim-close",
                attrs: { id: "uni-loading" },
              },
              [t("img", { staticClass: "icon", attrs: { src: e.src } })]
            );
          },
          kn = [],
          xn = {
            name: "UniLoading",
            props: { show: Boolean, finish_loading: Boolean, src: Object },
          },
          Dn = xn,
          Sn = (0, E.Z)(Dn, bn, kn, !1, null, "40d04d0b", null),
          An = Sn.exports;
        const En = s["default"].extend(An),
          Tn = new En({ el: document.createElement("div") });
        (Tn.show = !1),
          (Tn.finish_loading = x),
          window.addEventListener("finishInitLoading", () => {
            Tn.finish_loading = !0;
          });
        const Bn = {
          show() {
            Tn.show = !0;
            const e = localStorage.getItem("user_school_label");
            (Tn.src = e
              ? i(44451)(
                  "./loading-" +
                    localStorage.getItem("user_school_label") +
                    ".svg"
                )
              : i(93005)),
              document.body.appendChild(Tn.$el);
          },
          hide() {
            Tn.show = !1;
            let e = document.getElementById("uni-loading");
            setTimeout(() => {
              try {
                e.parentNode.removeChild(e);
              } catch (t) {}
            }, 100);
          },
        };
        var $n = {
            install() {
              s["default"].$loading || (s["default"].$loading = Bn),
                s["default"].mixin({
                  created() {
                    this.$loading = s["default"].$loading;
                  },
                });
            },
          },
          Rn = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: e.finish_loading,
                    expression: "finish_loading",
                  },
                ],
                class: e.show
                  ? "overlay overlay-anim-open"
                  : "overlay overlay-anim-close",
                attrs: { id: "uni-modal" },
              },
              [
                t(
                  "div",
                  {
                    class: e.show
                      ? "modal-container modal-container-anim-open"
                      : "modal-container modal-container-anim-close",
                  },
                  [
                    t("h3", [e._v(e._s(e.title))]),
                    e.is_terms
                      ? t("p", [
                          e._v(e._s(e.terms_1)),
                          t(
                            "span",
                            {
                              staticClass: "terms",
                              on: { click: e.nav2Agreement },
                            },
                            [e._v(e._s(e.terms_agreement))]
                          ),
                          e._v(e._s(e.terms_2)),
                          t(
                            "span",
                            {
                              staticClass: "terms",
                              on: { click: e.nav2Privacy },
                            },
                            [e._v(e._s(e.terms_privacy))]
                          ),
                          e._v(e._s(e.terms_3)),
                        ])
                      : t("p", [e._v(e._s(e.content))]),
                    t(
                      "div",
                      {
                        staticClass: "modal-btn-confirm",
                        on: { click: e.confirm },
                      },
                      [t("p", [e._v(e._s(e.confirm_txt))])]
                    ),
                    e.show_cancel
                      ? t(
                          "div",
                          {
                            staticClass: "modal-btn-cancle",
                            on: { click: e.cancel },
                          },
                          [t("p", [e._v(e._s(e.cancel_txt))])]
                        )
                      : e._e(),
                  ]
                ),
              ]
            );
          },
          Mn = [],
          Pn = {
            name: "UniModal",
            props: {
              show: Boolean,
              finish_loading: Boolean,
              title: String,
              content: String,
              show_cancel: Boolean,
              confirm_txt: String,
              cancel_txt: String,
              is_terms: Boolean,
            },
            data() {
              return {
                terms_1: d.t("Modal.terms_1"),
                terms_2: d.t("Modal.terms_2"),
                terms_3: d.t("Modal.terms_3"),
                terms_agreement: d.t("Modal.terms_agreement"),
                terms_privacy: d.t("Modal.terms_privacy"),
              };
            },
            methods: {
              confirm() {
                this.success && this.success(!0);
                let e = document.getElementById("uni-modal");
                this.stopWatch(),
                  (this.show = !1),
                  setTimeout(() => {
                    try {
                      e.parentNode.removeChild(e);
                    } catch (t) {}
                  }, 400);
              },
              cancel() {
                this.success && this.success(!1);
                let e = document.getElementById("uni-modal");
                this.stopWatch(),
                  (this.show = !1),
                  setTimeout(() => {
                    try {
                      e.parentNode.removeChild(e);
                    } catch (t) {}
                  }, 400);
              },
              wathcKeyboard(e) {
                let t = document.all ? window.event : e;
                13 === t.keyCode || 108 === t.keyCode
                  ? this.confirm()
                  : (27 !== t.keyCode && 32 !== t.keyCode) || this.cancel();
              },
              startWatch() {
                document.addEventListener("keydown", this.wathcKeyboard);
              },
              stopWatch() {
                document.removeEventListener("keydown", this.wathcKeyboard);
              },
              nav2Agreement() {
                const e = localStorage.getItem("user_school_label");
                window.open(
                  "https://terms.tripleuni.com/" +
                    e.toLowerCase() +
                    "/agreement"
                );
              },
              nav2Privacy() {
                const e = localStorage.getItem("user_school_label");
                window.open(
                  "https://terms.tripleuni.com/" + e.toLowerCase() + "/privacy"
                );
              },
            },
          },
          In = Pn,
          Fn = (0, E.Z)(In, Rn, Mn, !1, null, "c4024460", null),
          Un = Fn.exports;
        const Nn = s["default"].extend(Un),
          On = new Nn({ el: document.createElement("div") });
        (On.show = !1),
          (On.finish_loading = x),
          window.addEventListener("finishInitLoading", () => {
            On.finish_loading = !0;
          });
        const Hn = {
          show(e) {
            (On.show = !0),
              (On.title = e.title || d.t("Modal.title")),
              (On.content = e.content || d.t("Modal.content")),
              (On.show_cancel = e.show_cancel),
              (On.success = e.success || null),
              (On.confirm_txt = e.confirm_txt || d.t("Modal.confirm")),
              (On.cancel_txt = e.cancel_txt || d.t("Modal.cancel")),
              (On.is_terms = e.is_terms || !1),
              On.startWatch(),
              document.body.appendChild(On.$el);
          },
        };
        var Ln = {
            install() {
              s["default"].$modal || (s["default"].$modal = Hn),
                s["default"].mixin({
                  created() {
                    this.$modal = s["default"].$modal;
                  },
                });
            },
          },
          Kn = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              {
                class: e.show
                  ? "overlay overlay-anim-open"
                  : "overlay overlay-anim-close",
                attrs: { id: "uni-reply" },
              },
              [
                t(
                  "div",
                  {
                    class: e.show
                      ? "reply-container reply-container-anim-open"
                      : "reply-container reply-container-anim-close",
                  },
                  [
                    t("div", { staticClass: "title-container" }, [
                      t("div", { staticClass: "title" }, [
                        e._v(e._s(e.title_txt)),
                      ]),
                      t("img", {
                        staticClass: "close-icon",
                        attrs: { src: i(64217) },
                        on: { click: e.close },
                      }),
                    ]),
                    t("textarea", {
                      directives: [
                        {
                          name: "model",
                          rawName: "v-model",
                          value: e.comment_msg,
                          expression: "comment_msg",
                        },
                      ],
                      staticClass: "textarea",
                      attrs: { placeholder: e.placeholder_txt },
                      domProps: { value: e.comment_msg },
                      on: {
                        input: function (t) {
                          t.target.composing ||
                            (e.comment_msg = t.target.value);
                        },
                      },
                    }),
                    e._v(" "),
                    t("div", { staticClass: "bottom-container" }, [
                      t(
                        "div",
                        { staticClass: "realname-container" },
                        [
                          t("div", { staticClass: "realname-info" }, [
                            e._v(e._s(e.realname_txt)),
                          ]),
                          t("toggle-button", {
                            staticClass: "realname-switch",
                            attrs: {
                              width: 40,
                              height: 20,
                              color: e.switch_color,
                            },
                            model: {
                              value: e.user_is_real_name,
                              callback: function (t) {
                                e.user_is_real_name = t;
                              },
                              expression: "user_is_real_name",
                            },
                          }),
                        ],
                        1
                      ),
                      t(
                        "div",
                        { staticClass: "send-button", on: { click: e.send } },
                        [e._v(e._s(e.send_txt))]
                      ),
                    ]),
                  ]
                ),
              ]
            );
          },
          zn = [],
          qn = {
            name: "UniReply",
            components: { ToggleButton: ss.ToggleButton },
            props: {
              show: Boolean,
              uni_post_id: Number,
              comment_father_id: Number,
            },
            data() {
              return {
                switch_color: {
                  checked: window
                    .getComputedStyle(document.documentElement)
                    .getPropertyValue("--main"),
                  unchecked: window
                    .getComputedStyle(document.documentElement)
                    .getPropertyValue("--hover-grey"),
                },
                title_txt: d.t("Reply.title"),
                send_txt: d.t("Reply.send"),
                realname_txt: d.t("Reply.realname"),
                placeholder_txt: d.t("Reply.placeholder"),
                comment_msg: "",
                user_is_real_name: !1,
              };
            },
            methods: {
              close() {
                (this.comment_msg = ""),
                  (this.user_is_real_name = !1),
                  (this.placeholder_txt = d.t("Reply.placeholder")),
                  (this.show = !1);
                let e = document.getElementById("uni-reply");
                setTimeout(() => {
                  try {
                    e.parentNode.removeChild(e);
                  } catch (t) {}
                }, 400);
              },
              send() {
                s["default"].$loading.show();
                var e = "false";
                this.user_is_real_name && (e = "true");
                var t = {
                  uni_post_id: this.uni_post_id,
                  comment_msg: this.comment_msg,
                  user_is_real_name: e,
                };
                this.comment_father_id &&
                  Object.assign(t, {
                    comment_father_id: this.comment_father_id,
                  }),
                  Ms("/comment/post", t, !0, [402]).then((e) => {
                    s["default"].$loading.hide(),
                      e &&
                        (402 != e.code
                          ? (y({ content: d.t("/comment/post.200") }),
                            this.checkWebpush(),
                            this.close(),
                            this.success && this.success())
                          : s["default"].$modal.show({
                              title: d.t("Modal.error"),
                              content: d.t("/post/single/post.402", {
                                silence_until: Ke(e.silence_until),
                              }),
                              show_cancel: !1,
                            }));
                  });
              },
              checkWebpush() {
                "Notification" in window &&
                  "granted" !== Notification.permission &&
                  "denied" != Notification.permission &&
                  s["default"].$modal.show({
                    title: d.t("Webpush.comment_title"),
                    content: d.t("Webpush.comment_content"),
                    show_cancel: !0,
                    success: (e) => {
                      e &&
                        Notification.requestPermission().then((e) => {
                          "granted" === e
                            ? w(!0)
                            : s["default"].$modal.show({
                                title: d.t("Webpush.deny_title"),
                                content: d.t("Webpush.deny_content"),
                                show_cancel: !1,
                              });
                        });
                    },
                  });
              },
            },
          },
          Wn = qn,
          jn = (0, E.Z)(Wn, Kn, zn, !1, null, "63474d8d", null),
          Gn = jn.exports;
        const Vn = s["default"].extend(Gn),
          Xn = new Vn({ el: document.createElement("div") });
        Xn.show = !1;
        const Zn = {
          show({
            uni_post_id: e,
            comment_father_id: t = null,
            comment_order: i = null,
            success: s = null,
          }) {
            (Xn.show = !0),
              (Xn.uni_post_id = e),
              (Xn.comment_father_id = t),
              (Xn.success = s),
              null != i &&
                (Xn.placeholder_txt = 0 == i ? "Re G:" : "Re LG" + i + ":"),
              (Xn.switch_color = {
                checked: window
                  .getComputedStyle(document.documentElement)
                  .getPropertyValue("--main"),
                unchecked: window
                  .getComputedStyle(document.documentElement)
                  .getPropertyValue("--hover-grey"),
              }),
              document.body.appendChild(Xn.$el);
          },
          hide() {
            (Xn.show = !1),
              (Xn.uni_post_id = null),
              (Xn.comment_father_id = null);
          },
        };
        var Yn = {
            install() {
              s["default"].$reply || (s["default"].$reply = Zn),
                s["default"].mixin({
                  created() {
                    this.$reply = s["default"].$reply;
                  },
                });
            },
          },
          Qn = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              {
                class: e.show
                  ? "overlay overlay-anim-open"
                  : "overlay overlay-anim-close",
                attrs: { id: "uni-report" },
              },
              [
                t(
                  "div",
                  {
                    class: e.show
                      ? "report-container report-container-anim-open"
                      : "report-container report-container-anim-close",
                  },
                  [
                    t("div", { staticClass: "title-container" }, [
                      t("div", { staticClass: "title" }, [
                        e._v(e._s(e.title_txt)),
                      ]),
                      t("img", {
                        staticClass: "close-icon",
                        attrs: { src: i(64217) },
                        on: { click: e.close },
                      }),
                    ]),
                    t("textarea", {
                      directives: [
                        {
                          name: "model",
                          rawName: "v-model",
                          value: e.report_msg,
                          expression: "report_msg",
                        },
                      ],
                      staticClass: "textarea",
                      attrs: { placeholder: e.placeholder_txt },
                      domProps: { value: e.report_msg },
                      on: {
                        input: function (t) {
                          t.target.composing || (e.report_msg = t.target.value);
                        },
                      },
                    }),
                    e._v(" "),
                    t("div", { staticClass: "bottom-container" }, [
                      t("div"),
                      t(
                        "div",
                        { staticClass: "send-button", on: { click: e.send } },
                        [e._v(e._s(e.send_txt))]
                      ),
                    ]),
                  ]
                ),
              ]
            );
          },
          Jn = [],
          eo = {
            name: "UniReport",
            props: {
              show: Boolean,
              uni_post_id: Number,
              comment_msg: String,
              comment_order: Number,
            },
            data() {
              return {
                title_txt: d.t("Report.title"),
                send_txt: d.t("Report.send"),
                placeholder_txt: d.t("Report.placeholder"),
                report_msg: "",
              };
            },
            methods: {
              close() {
                (this.report_msg = ""),
                  (this.placeholder_txt = d.t("Report.placeholder")),
                  (this.show = !1);
                let e = document.getElementById("uni-report");
                setTimeout(() => {
                  try {
                    e.parentNode.removeChild(e);
                  } catch (t) {}
                }, 400);
              },
              send() {
                this.report_msg
                  ? (s["default"].$loading.show(),
                    Ms("/post/single/report", {
                      uni_post_id: this.uni_post_id,
                      comment_order: this.comment_order,
                      comment_msg: this.comment_msg,
                      report_msg: this.report_msg,
                    }).then((e) => {
                      s["default"].$loading.hide(),
                        e &&
                          (y({ content: d.t("/post/single/report.200") }),
                          this.close(),
                          this.success && this.success());
                    }))
                  : y({ content: d.t("/post/single/report.501") });
              },
            },
          },
          to = eo,
          io = (0, E.Z)(to, Qn, Jn, !1, null, "7f156b2a", null),
          so = io.exports;
        const no = s["default"].extend(so),
          oo = new no({ el: document.createElement("div") });
        oo.show = !1;
        const ao = {
          show({
            uni_post_id: e,
            comment_msg: t,
            comment_order: i = null,
            success: s = null,
          }) {
            (oo.show = !0),
              (oo.uni_post_id = e),
              (oo.comment_msg = t),
              (oo.comment_order = i),
              (oo.success = s),
              document.body.appendChild(oo.$el);
          },
          hide() {
            (oo.show = !1),
              (oo.uni_post_id = null),
              (oo.comment_msg = null),
              (oo.comment_order = null),
              (oo.success = null);
          },
        };
        var ro = {
            install() {
              s["default"].$report || (s["default"].$report = ao),
                s["default"].mixin({
                  created() {
                    this.$report = s["default"].$report;
                  },
                });
            },
          },
          lo = function () {
            var e = this,
              t = e._self._c;
            return t(
              "div",
              {
                class: e.show
                  ? "overlay overlay-anim-open"
                  : "overlay overlay-anim-close",
                attrs: { id: "uni-media" },
              },
              [
                t(
                  "div",
                  {
                    class: e.show
                      ? "media-container media-container-anim-open"
                      : "media-container media-container-anim-close",
                  },
                  [
                    t("div", { staticClass: "title-container" }, [
                      t("div", { staticClass: "title" }, [
                        e._v(e._s(e.title_txt)),
                      ]),
                      t("img", {
                        staticClass: "close-icon",
                        attrs: { src: i(64217) },
                        on: { click: e.close },
                      }),
                    ]),
                    t("div", { staticClass: "media-info" }, [
                      e._v(e._s(e.info_txt)),
                    ]),
                    "netease" == e.media_type || "bilibili" == e.media_type
                      ? [
                          t("input", {
                            directives: [
                              {
                                name: "model",
                                rawName: "v-model",
                                value: e.media_input,
                                expression: "media_input",
                              },
                            ],
                            staticClass: "media-input",
                            attrs: { placeholder: e.placeholder_txt },
                            domProps: { value: e.media_input },
                            on: {
                              keyup: function (t) {
                                return !t.type.indexOf("key") &&
                                  e._k(t.keyCode, "enter", 13, t.key, "Enter")
                                  ? null
                                  : e.getMedia.apply(null, arguments);
                              },
                              input: function (t) {
                                t.target.composing ||
                                  (e.media_input = t.target.value);
                              },
                            },
                          }),
                          t(
                            "div",
                            {
                              staticClass: "media-btn-main",
                              on: { click: e.getMedia },
                            },
                            [
                              t(
                                "p",
                                { staticStyle: { "font-weight": "600" } },
                                [e._v(e._s(e.button_txt))]
                              ),
                            ]
                          ),
                        ]
                      : e._e(),
                    "quote" == e.media_type
                      ? [
                          t("input", {
                            directives: [
                              {
                                name: "model",
                                rawName: "v-model",
                                value: e.post_id_input,
                                expression: "post_id_input",
                              },
                            ],
                            staticClass: "media-input",
                            attrs: {
                              placeholder: e.placeholder_txt_quote_post_id,
                            },
                            domProps: { value: e.post_id_input },
                            on: {
                              keyup: function (t) {
                                return !t.type.indexOf("key") &&
                                  e._k(t.keyCode, "enter", 13, t.key, "Enter")
                                  ? null
                                  : e.getQuote.apply(null, arguments);
                              },
                              input: function (t) {
                                t.target.composing ||
                                  (e.post_id_input = t.target.value);
                              },
                            },
                          }),
                          t("input", {
                            directives: [
                              {
                                name: "model",
                                rawName: "v-model",
                                value: e.comment_order_input,
                                expression: "comment_order_input",
                              },
                            ],
                            staticClass: "media-input",
                            attrs: {
                              placeholder:
                                e.placeholder_txt_quote_comment_order,
                            },
                            domProps: { value: e.comment_order_input },
                            on: {
                              keyup: function (t) {
                                return !t.type.indexOf("key") &&
                                  e._k(t.keyCode, "enter", 13, t.key, "Enter")
                                  ? null
                                  : e.getQuote.apply(null, arguments);
                              },
                              input: function (t) {
                                t.target.composing ||
                                  (e.comment_order_input = t.target.value);
                              },
                            },
                          }),
                          t(
                            "div",
                            {
                              staticClass: "media-btn-main",
                              on: { click: e.getQuote },
                            },
                            [
                              t(
                                "p",
                                { staticStyle: { "font-weight": "600" } },
                                [e._v(e._s(e.button_txt))]
                              ),
                            ]
                          ),
                        ]
                      : e._e(),
                    "vote" == e.media_type
                      ? [
                          t("div", { staticClass: "vote-outer" }, [
                            t(
                              "div",
                              { staticClass: "vote-container" },
                              [
                                t("input", {
                                  directives: [
                                    {
                                      name: "model",
                                      rawName: "v-model",
                                      value: e.vote_title,
                                      expression: "vote_title",
                                    },
                                  ],
                                  staticClass: "vote-title",
                                  attrs: {
                                    placeholder: e.vote_title_placeholder_txt,
                                  },
                                  domProps: { value: e.vote_title },
                                  on: {
                                    input: function (t) {
                                      t.target.composing ||
                                        (e.vote_title = t.target.value);
                                    },
                                  },
                                }),
                                e.vote_is_multi
                                  ? t("div", { staticClass: "vote-subtitle" }, [
                                      e._v(e._s(e.vote_multi_true_txt)),
                                    ])
                                  : t("div", { staticClass: "vote-subtitle" }, [
                                      e._v(e._s(e.vote_multi_false_txt)),
                                    ]),
                                e._l(e.vote_option_list, function (s, n) {
                                  return t(
                                    "div",
                                    {
                                      key: n,
                                      staticClass: "vote-option-list",
                                      staticStyle: { cursor: "auto" },
                                    },
                                    [
                                      t(
                                        "div",
                                        { staticClass: "vote-option-lower" },
                                        [
                                          t("input", {
                                            directives: [
                                              {
                                                name: "model",
                                                rawName: "v-model",
                                                value: s.option_title,
                                                expression:
                                                  "option.option_title",
                                              },
                                            ],
                                            staticClass:
                                              "vote-option-lower-text-left",
                                            attrs: {
                                              placeholder:
                                                e.vote_option_placeholder_txt,
                                            },
                                            domProps: { value: s.option_title },
                                            on: {
                                              input: function (t) {
                                                t.target.composing ||
                                                  e.$set(
                                                    s,
                                                    "option_title",
                                                    t.target.value
                                                  );
                                              },
                                            },
                                          }),
                                          t(
                                            "div",
                                            {
                                              staticClass:
                                                "vote-option-lower-text-right",
                                            },
                                            [
                                              t("img", {
                                                staticStyle: {
                                                  cursor: "pointer",
                                                },
                                                attrs: { src: i(64217) },
                                                on: {
                                                  click: function (t) {
                                                    return e.removeOption(n);
                                                  },
                                                },
                                              }),
                                            ]
                                          ),
                                        ]
                                      ),
                                    ]
                                  );
                                }),
                                t(
                                  "div",
                                  {
                                    staticClass: "vote-option-list",
                                    on: { click: e.addOption },
                                  },
                                  [
                                    t(
                                      "div",
                                      { staticClass: "vote-option-lower" },
                                      [
                                        t(
                                          "div",
                                          {
                                            staticClass:
                                              "vote-option-lower-text-left-add",
                                          },
                                          [e._v(e._s(e.vote_add_option_txt))]
                                        ),
                                        t(
                                          "div",
                                          {
                                            staticClass:
                                              "vote-option-lower-text-right",
                                          },
                                          [
                                            t("img", {
                                              attrs: { src: e.plus_src },
                                            }),
                                          ]
                                        ),
                                      ]
                                    ),
                                  ]
                                ),
                              ],
                              2
                            ),
                          ]),
                          t("div", { staticClass: "vote-bottom-container" }, [
                            t(
                              "div",
                              { staticClass: "vote-multi-container" },
                              [
                                t("div", { staticClass: "vote-multi-info" }, [
                                  e._v(e._s(e.vote_is_multi_txt)),
                                ]),
                                t("toggle-button", {
                                  staticClass: "vote-multi-switch",
                                  attrs: {
                                    width: 40,
                                    height: 20,
                                    color: e.switch_color,
                                  },
                                  model: {
                                    value: e.vote_is_multi,
                                    callback: function (t) {
                                      e.vote_is_multi = t;
                                    },
                                    expression: "vote_is_multi",
                                  },
                                }),
                              ],
                              1
                            ),
                            t(
                              "div",
                              {
                                staticClass: "vote-send-button",
                                on: { click: e.getVote },
                              },
                              [e._v(e._s(e.button_txt))]
                            ),
                          ]),
                        ]
                      : e._e(),
                  ],
                  2
                ),
              ]
            );
          },
          co = [],
          uo = {
            name: "UniMedia",
            components: { ToggleButton: ss.ToggleButton },
            props: { show: Boolean, media_type: String },
            data() {
              return {
                switch_color: {
                  checked: window
                    .getComputedStyle(document.documentElement)
                    .getPropertyValue("--main"),
                  unchecked: window
                    .getComputedStyle(document.documentElement)
                    .getPropertyValue("--hover-grey"),
                },
                title_txt: "",
                info_txt: "",
                placeholder_txt: "",
                button_txt: "",
                placeholder_txt_quote_post_id: d.t(
                  "Media.quote_placeholder_post_id"
                ),
                placeholder_txt_quote_comment_order: d.t(
                  "Media.quote_placeholder_comment_order"
                ),
                vote_is_multi_txt: d.t("Media.vote_multi_true"),
                vote_title_placeholder_txt: d.t("Media.vote_title_placeholder"),
                vote_option_placeholder_txt: d.t(
                  "Media.vote_option_placeholder"
                ),
                vote_multi_true_txt: d.t("Media.vote_multi_true"),
                vote_multi_false_txt: d.t("Media.vote_multi_false"),
                vote_add_option_txt: d.t("Media.vote_add_option"),
                media_input: "",
                post_id_input: "",
                comment_order_input: "",
                vote_title: "",
                vote_is_multi: !1,
                vote_option_list: [],
              };
            },
            methods: {
              close() {
                (this.show = !1),
                  (this.media_input = ""),
                  (this.post_id_input = ""),
                  (this.comment_order_input = ""),
                  (this.vote_title = ""),
                  (this.vote_is_multi = !1),
                  (this.vote_option_list = []);
                let e = document.getElementById("uni-media");
                setTimeout(() => {
                  try {
                    e.parentNode.removeChild(e);
                  } catch (t) {}
                }, 400);
              },
              getMedia() {
                "netease" == this.media_type
                  ? this.getNetease()
                  : "bilibili" == this.media_type && this.getBilibili();
              },
              getNetease() {
                s["default"].$loading.show(),
                  Ms("/post/media/netease/create", {
                    netease_link: this.media_input,
                  }).then((e) => {
                    s["default"].$loading.hide(),
                      e &&
                        (this.close(),
                        this.success && this.success(e.post_media));
                  });
              },
              getBilibili() {
                s["default"].$loading.show(),
                  Ms("/post/media/bilibili/create", {
                    bilibili_bv: this.media_input,
                  }).then((e) => {
                    s["default"].$loading.hide(),
                      e &&
                        (this.close(),
                        this.success && this.success(e.post_media));
                  });
              },
              getQuote() {
                s["default"].$loading.show();
                var e = null,
                  t = null,
                  i = this.post_id_input,
                  n = this.comment_order_input;
                if (
                  ("#" === i.charAt(0) && (i = i.substring(1)),
                  (e = parseInt(i)),
                  isNaN(e) || e.toString() !== i)
                )
                  return (
                    s["default"].$loading.hide(),
                    void y({ content: d.t("Media.quote_post_id_error") })
                  );
                if ("" == n) t = "null";
                else if ("g" == n || "G" == n) t = 0;
                else if (
                  (("LG" !== n.slice(0, 2) &&
                    "lg" !== n.slice(0, 2) &&
                    "Lg" !== n.slice(0, 2)) ||
                    (n = n.substring(2)),
                  (t = parseInt(n)),
                  isNaN(t) || t.toString() !== n)
                )
                  return (
                    s["default"].$loading.hide(),
                    void y({ content: d.t("Media.quote_comment_order_error") })
                  );
                Ms("/post/media/quote/create", {
                  post_id: e,
                  comment_order: t,
                }).then((e) => {
                  s["default"].$loading.hide(),
                    e &&
                      (this.close(),
                      this.success &&
                        this.success(e.post_media, e.post_media_show));
                });
              },
              addOption() {
                this.vote_option_list.push({ option_title: "" });
              },
              removeOption(e) {
                this.vote_option_list.splice(e, 1);
              },
              getVote() {
                s["default"].$loading.show();
                var e = "false";
                this.vote_is_multi && (e = "true"),
                  Ms("/post/media/vote/create", {
                    vote_title: this.vote_title,
                    vote_is_multi: e,
                    vote_option_list: JSON.stringify(this.vote_option_list),
                  }).then((e) => {
                    s["default"].$loading.hide(),
                      e &&
                        (this.close(),
                        this.success &&
                          this.success(e.post_media, e.post_media_show));
                  });
              },
            },
          },
          ho = uo,
          po = (0, E.Z)(ho, lo, co, !1, null, "0c615baa", null),
          _o = po.exports;
        const mo = s["default"].extend(_o),
          go = new mo({ el: document.createElement("div") });
        go.show = !1;
        const fo = {
          show({ media_type: e, success: t = null }) {
            (go.show = !0),
              (go.media_type = e),
              (go.success = t),
              "netease" == e
                ? ((go.title_txt = d.t("Media.netease_title")),
                  (go.info_txt = d.t("Media.netease_info")),
                  (go.placeholder_txt = d.t("Media.netease_placeholder")),
                  (go.button_txt = d.t("Media.netease_button")))
                : "bilibili" == e
                ? ((go.title_txt = d.t("Media.bilibili_title")),
                  (go.info_txt = d.t("Media.bilibili_info")),
                  (go.placeholder_txt = d.t("Media.bilibili_placeholder")),
                  (go.button_txt = d.t("Media.bilibili_button")))
                : "quote" == e
                ? ((go.title_txt = d.t("Media.quote_title")),
                  (go.info_txt = d.t("Media.quote_info")),
                  (go.button_txt = d.t("Media.quote_button")))
                : "vote" == e &&
                  ((go.title_txt = d.t("Media.vote_title")),
                  (go.info_txt = ""),
                  (go.button_txt = d.t("Media.vote_button")),
                  (go.switch_color = {
                    checked: window
                      .getComputedStyle(document.documentElement)
                      .getPropertyValue("--main"),
                    unchecked: window
                      .getComputedStyle(document.documentElement)
                      .getPropertyValue("--hover-grey"),
                  }),
                  (go.plus_src = i(43006)(
                    "./write-plus-" +
                      localStorage.getItem("user_school_label") +
                      ".svg"
                  ))),
              document.body.appendChild(go.$el);
          },
          hide() {
            (go.show = !1),
              (go.uni_post_id = null),
              (go.comment_father_id = null);
          },
        };
        var vo = {
            install() {
              s["default"].$media || (s["default"].$media = fo),
                s["default"].mixin({
                  created() {
                    this.$media = s["default"].$media;
                  },
                });
            },
          },
          yo = i(38088),
          wo = i.n(yo),
          Co = i(1945),
          bo = i.n(Co),
          ko = i(21473),
          xo = i.n(ko),
          Do = i(59018),
          So = i.n(Do),
          Ao = i(47149),
          Eo = i.n(Ao),
          To = i(51498),
          Bo = i.n(To),
          $o = i(54723),
          Ro = i.n($o),
          Mo = i(62329),
          Po = i.n(Mo),
          Io = i(20127),
          Fo = i.n(Io),
          Uo = i(27759),
          No = i.n(Uo),
          Oo = i(92661),
          Ho = i.n(Oo),
          Lo = i(20121),
          Ko = i.n(Lo),
          zo = i(46069),
          qo = i.n(zo),
          Wo = i(76151),
          jo = i.n(Wo);
        s["default"].use(jo()),
          s["default"].use(qo()),
          s["default"].use(Ko()),
          s["default"].use(Ho()),
          s["default"].use(No()),
          s["default"].use(Fo()),
          s["default"].use(Po()),
          s["default"].use(Ro()),
          s["default"].use(Bo()),
          s["default"].use(Eo()),
          s["default"].use(So()),
          s["default"].use(xo()),
          s["default"].use(bo()),
          s["default"].use(wo()),
          (s["default"].prototype.$http = p.Z),
          (p.Z.defaults.baseURL = "https://api.tripleuni.com/v4"),
          s["default"].use(Ys.Z),
          s["default"].use(Js()),
          s["default"].use(tn()),
          s["default"].use(Cn),
          s["default"].use($n),
          s["default"].use(Ln),
          s["default"].use(Yn),
          s["default"].use(ro),
          s["default"].use(vo),
          (s["default"].config.productionTip = !1),
          new s["default"]({
            i18n: d,
            router: Es,
            render: (e) => e(Zs),
          }).$mount("#app"),
          (window.onunhandledrejection = function (e) {
            var t = e.reason;
            console.log(t), e.preventDefault();
          }),
          document.addEventListener("visibilitychange", () => {
            document.hidden ? Hs() : (Os(), k());
          }),
          "serviceWorker" in navigator &&
            window.addEventListener("load", function () {
              navigator.serviceWorker
                .register("/service-worker.js", { scope: "./" })
                .then(function (e) {
                  (window.notificationRegistration = e),
                    localStorage.getItem("token") &&
                      "Notification" in window &&
                      "granted" === Notification.permission &&
                      w();
                })
                .catch(function (e) {});
            });
        let Go = !1;
        window.addEventListener("beforeinstallprompt", (e) => {
          Go ||
            ((Go = !0),
            s["default"].$loading.hide(),
            e.preventDefault(),
            /(Android)/i.test(navigator.userAgent) &&
              s["default"].$modal.show({
                title: d.t("Install.android_chrome_title"),
                content: d.t("Install.android_chrome_content"),
                show_cancel: !1,
                success: () => {
                  e.prompt();
                },
              }));
        });
        const Vo = () =>
          ["fullscreen", "standalone", "minimal-ui"].some(
            (e) => window.matchMedia("(display-mode: " + e + ")").matches
          );
        if (!Vo())
          if (/(MicroMessenger|QQ)/i.test(navigator.userAgent))
            s["default"].$modal.show({
              title: d.t("Install.wechat_title"),
              content: d.t("Install.wechat_content"),
              show_cancel: !1,
            });
          else if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent))
            /(CriOS|FxiOS)/i.test(navigator.userAgent)
              ? s["default"].$modal.show({
                  title: d.t("Install.ios_nonsafari_title"),
                  content: d.t("Install.ios_nonsafari_content"),
                  show_cancel: !1,
                })
              : setTimeout(() => {
                  s["default"].$modal.show({
                    title: d.t("Install.ios_safari_title"),
                    content: d.t("Install.ios_safari_content"),
                    show_cancel: !1,
                    success: () => {
                      setTimeout(() => {
                        s["default"].$modal.show({
                          title: d.t("Install.ios_safari_title_again"),
                          content: d.t("Install.ios_safari_content_again"),
                          show_cancel: !1,
                        });
                      }, 500);
                    },
                  });
                }, 500);
          else if (/(Android)/i.test(navigator.userAgent))
            if (/Chrome/i.test(navigator.userAgent)) {
              var Xo = navigator.userAgent.match(/Chrome\/(\d+)/),
                Zo = Xo && parseInt(Xo[1]);
              Zo < 100
                ? s["default"].$modal.show({
                    title: d.t("Install.android_nonchrome_title"),
                    content: d.t("Install.android_nonchrome_content"),
                    show_cancel: !1,
                  })
                : (s["default"].$loading.show(),
                  setTimeout(() => {
                    s["default"].$loading.hide();
                  }, 5e3));
            } else
              s["default"].$modal.show({
                title: d.t("Install.android_nonchrome_title"),
                content: d.t("Install.android_nonchrome_content"),
                show_cancel: !1,
              });
        localStorage.getItem("token") &&
          (k(),
          Ms("/user/terms/check").then((e) => {
            e &&
              201 == e.code &&
              s["default"].$modal.show({
                title: d.t("Modal.terms_title"),
                is_terms: !0,
                show_cancel: !0,
                confirm_txt: d.t("Modal.terms_confirm"),
                cancel_txt: d.t("Modal.terms_cancel"),
                success: (e) => {
                  e
                    ? Ms("/user/terms/agree")
                    : (Ns.delete(),
                      Hs(),
                      localStorage.clear(),
                      h(),
                      Es.push("/login"));
                },
              });
          })),
          console.log(
            "\n████████╗██████╗ ██╗██████╗ ██╗     ███████╗    ██╗   ██╗███╗   ██╗██╗\n╚══██╔══╝██╔══██╗██║██╔══██╗██║     ██╔════╝    ██║   ██║████╗  ██║██║\n   ██║   ██████╔╝██║██████╔╝██║     █████╗      ██║   ██║██╔██╗ ██║██║\n   ██║   ██╔══██╗██║██╔═══╝ ██║     ██╔══╝      ██║   ██║██║╚██╗██║██║\n   ██║   ██║  ██║██║██║     ███████╗███████╗    ╚██████╔╝██║ ╚████║██║\n   ╚═╝   ╚═╝  ╚═╝╚═╝╚═╝     ╚══════╝╚══════╝     ╚═════╝ ╚═╝  ╚═══╝╚═╝\n                                                                      \n                                                                            \nTriple Uni 招募各路程序员大佬，欢迎联系 support@tripleuni.com ，期待你的加入！\n\nTriple Uni is recruiting talented programmers. Feel free to contact us at support@tripleuni.com. We look forward to having you join us!\n"
          );
      },
      5452: function (e, t, i) {
        i(57658),
          i(82801),
          (function (t, s) {
            e.exports = s(i(27195));
          })("undefined" !== typeof self && self, (e) =>
            (() => {
              var t = {
                  258: (e, t, i) => {
                    "use strict";
                    i.r(t), i.d(t, { default: () => l });
                    var s = i(81),
                      n = i.n(s),
                      o = i(645),
                      a = i.n(o),
                      r = a()(n());
                    r.push([
                      e.id,
                      ".menu[data-v-a4ecc568]{position:fixed;box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);background:var(--bg);border-radius:4px;padding:8px 0}@media (prefers-color-scheme: dark) {.menu[data-v-a4ecc568] {box-shadow: 0 2px 4px rgba(255, 255, 255, .4), 0 0 6px rgba(255, 255, 255, .1);}}.menu_body[data-v-a4ecc568]{display:block}.menu_item[data-v-a4ecc568]{list-style:none;line-height:32px;padding:0 16px;margin:0;font-size:13px;outline:0;align-items:center;transition:.2s;border-bottom:1px solid #00000000}.menu_item__divided[data-v-a4ecc568]{border-bottom-color:#ebeef5}.menu_item .menu_item_icon[data-v-a4ecc568]{margin-right:8px;width:13px}.menu_item .menu_item_label[data-v-a4ecc568]{flex:1}.menu_item .menu_item_expand_icon[data-v-a4ecc568]{margin-left:16px;font-size:6px;width:10px}.menu_item__available[data-v-a4ecc568]{color:#606266;cursor:pointer}.menu_item__available[data-v-a4ecc568]:hover{background:#ecf5ff;color:#409eff}.menu_item__disabled[data-v-a4ecc568]{color:#c0c4cc;cursor:not-allowed}.menu_item_expand[data-v-a4ecc568]{background:#ecf5ff;color:#409eff}",
                      "",
                    ]);
                    const l = r;
                  },
                  540: (e, t, i) => {
                    "use strict";
                    i.r(t), i.d(t, { default: () => l });
                    var s = i(81),
                      n = i.n(s),
                      o = i(645),
                      a = i.n(o),
                      r = a()(n());
                    r.push([
                      e.id,
                      ".contextmenu-submenu-fade-enter-active,.contextmenu-submenu-fade-leave-active{transition:opacity .1s}.contextmenu-submenu-fade-enter,.contextmenu-submenu-fade-leave-to{opacity:0}",
                      "",
                    ]);
                    const l = r;
                  },
                  645: (e) => {
                    "use strict";
                    e.exports = function (e) {
                      var t = [];
                      return (
                        (t.toString = function () {
                          return this.map(function (t) {
                            var i = "",
                              s = "undefined" !== typeof t[5];
                            return (
                              t[4] && (i += "@supports (".concat(t[4], ") {")),
                              t[2] && (i += "@media ".concat(t[2], " {")),
                              s &&
                                (i += "@layer".concat(
                                  t[5].length > 0 ? " ".concat(t[5]) : "",
                                  " {"
                                )),
                              (i += e(t)),
                              s && (i += "}"),
                              t[2] && (i += "}"),
                              t[4] && (i += "}"),
                              i
                            );
                          }).join("");
                        }),
                        (t.i = function (e, i, s, n, o) {
                          "string" === typeof e && (e = [[null, e, void 0]]);
                          var a = {};
                          if (s)
                            for (var r = 0; r < this.length; r++) {
                              var l = this[r][0];
                              null != l && (a[l] = !0);
                            }
                          for (var c = 0; c < e.length; c++) {
                            var u = [].concat(e[c]);
                            (s && a[u[0]]) ||
                              ("undefined" !== typeof o &&
                                ("undefined" === typeof u[5] ||
                                  (u[1] = "@layer"
                                    .concat(
                                      u[5].length > 0 ? " ".concat(u[5]) : "",
                                      " {"
                                    )
                                    .concat(u[1], "}")),
                                (u[5] = o)),
                              i &&
                                (u[2]
                                  ? ((u[1] = "@media "
                                      .concat(u[2], " {")
                                      .concat(u[1], "}")),
                                    (u[2] = i))
                                  : (u[2] = i)),
                              n &&
                                (u[4]
                                  ? ((u[1] = "@supports ("
                                      .concat(u[4], ") {")
                                      .concat(u[1], "}")),
                                    (u[4] = n))
                                  : (u[4] = "".concat(n))),
                              t.push(u));
                          }
                        }),
                        t
                      );
                    };
                  },
                  81: (e) => {
                    "use strict";
                    e.exports = function (e) {
                      return e[1];
                    };
                  },
                  99: (e, t, i) => {
                    var s = i(258);
                    s.__esModule && (s = s.default),
                      "string" === typeof s && (s = [[e.id, s, ""]]),
                      s.locals && (e.exports = s.locals);
                    var n = i(402).Z;
                    n("4ae774dc", s, !0, { sourceMap: !1, shadowMode: !1 });
                  },
                  496: (e, t, i) => {
                    var s = i(540);
                    s.__esModule && (s = s.default),
                      "string" === typeof s && (s = [[e.id, s, ""]]),
                      s.locals && (e.exports = s.locals);
                    var n = i(402).Z;
                    n("244063f0", s, !0, { sourceMap: !1, shadowMode: !1 });
                  },
                  402: (e, t, i) => {
                    "use strict";
                    function s(e, t) {
                      for (var i = [], s = {}, n = 0; n < t.length; n++) {
                        var o = t[n],
                          a = o[0],
                          r = o[1],
                          l = o[2],
                          c = o[3],
                          u = {
                            id: e + ":" + n,
                            css: r,
                            media: l,
                            sourceMap: c,
                          };
                        s[a]
                          ? s[a].parts.push(u)
                          : i.push((s[a] = { id: a, parts: [u] }));
                      }
                      return i;
                    }
                    i.d(t, { Z: () => _ });
                    var n = "undefined" !== typeof document;
                    if ("undefined" !== typeof DEBUG && DEBUG && !n)
                      throw new Error(
                        "vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment."
                      );
                    var o = {},
                      a =
                        n &&
                        (document.head ||
                          document.getElementsByTagName("head")[0]),
                      r = null,
                      l = 0,
                      c = !1,
                      u = function () {},
                      d = null,
                      h = "data-vue-ssr-id",
                      p =
                        "undefined" !== typeof navigator &&
                        /msie [6-9]\b/.test(navigator.userAgent.toLowerCase());
                    function _(e, t, i, n) {
                      (c = i), (d = n || {});
                      var a = s(e, t);
                      return (
                        m(a),
                        function (t) {
                          for (var i = [], n = 0; n < a.length; n++) {
                            var r = a[n],
                              l = o[r.id];
                            l.refs--, i.push(l);
                          }
                          t ? ((a = s(e, t)), m(a)) : (a = []);
                          for (n = 0; n < i.length; n++) {
                            l = i[n];
                            if (0 === l.refs) {
                              for (var c = 0; c < l.parts.length; c++)
                                l.parts[c]();
                              delete o[l.id];
                            }
                          }
                        }
                      );
                    }
                    function m(e) {
                      for (var t = 0; t < e.length; t++) {
                        var i = e[t],
                          s = o[i.id];
                        if (s) {
                          s.refs++;
                          for (var n = 0; n < s.parts.length; n++)
                            s.parts[n](i.parts[n]);
                          for (; n < i.parts.length; n++)
                            s.parts.push(f(i.parts[n]));
                          s.parts.length > i.parts.length &&
                            (s.parts.length = i.parts.length);
                        } else {
                          var a = [];
                          for (n = 0; n < i.parts.length; n++)
                            a.push(f(i.parts[n]));
                          o[i.id] = { id: i.id, refs: 1, parts: a };
                        }
                      }
                    }
                    function g() {
                      var e = document.createElement("style");
                      return (e.type = "text/css"), a.appendChild(e), e;
                    }
                    function f(e) {
                      var t,
                        i,
                        s = document.querySelector(
                          "style[" + h + '~="' + e.id + '"]'
                        );
                      if (s) {
                        if (c) return u;
                        s.parentNode.removeChild(s);
                      }
                      if (p) {
                        var n = l++;
                        (s = r || (r = g())),
                          (t = y.bind(null, s, n, !1)),
                          (i = y.bind(null, s, n, !0));
                      } else
                        (s = g()),
                          (t = w.bind(null, s)),
                          (i = function () {
                            s.parentNode.removeChild(s);
                          });
                      return (
                        t(e),
                        function (s) {
                          if (s) {
                            if (
                              s.css === e.css &&
                              s.media === e.media &&
                              s.sourceMap === e.sourceMap
                            )
                              return;
                            t((e = s));
                          } else i();
                        }
                      );
                    }
                    var v = (function () {
                      var e = [];
                      return function (t, i) {
                        return (e[t] = i), e.filter(Boolean).join("\n");
                      };
                    })();
                    function y(e, t, i, s) {
                      var n = i ? "" : s.css;
                      if (e.styleSheet) e.styleSheet.cssText = v(t, n);
                      else {
                        var o = document.createTextNode(n),
                          a = e.childNodes;
                        a[t] && e.removeChild(a[t]),
                          a.length ? e.insertBefore(o, a[t]) : e.appendChild(o);
                      }
                    }
                    function w(e, t) {
                      var i = t.css,
                        s = t.media,
                        n = t.sourceMap;
                      if (
                        (s && e.setAttribute("media", s),
                        d.ssrId && e.setAttribute(h, t.id),
                        n &&
                          ((i += "\n/*# sourceURL=" + n.sources[0] + " */"),
                          (i +=
                            "\n/*# sourceMappingURL=data:application/json;base64," +
                            btoa(
                              unescape(encodeURIComponent(JSON.stringify(n)))
                            ) +
                            " */")),
                        e.styleSheet)
                      )
                        e.styleSheet.cssText = i;
                      else {
                        while (e.firstChild) e.removeChild(e.firstChild);
                        e.appendChild(document.createTextNode(i));
                      }
                    }
                  },
                  203: (t) => {
                    "use strict";
                    t.exports = e;
                  },
                },
                i = {};
              function s(e) {
                var n = i[e];
                if (void 0 !== n) return n.exports;
                var o = (i[e] = { id: e, exports: {} });
                return t[e](o, o.exports, s), o.exports;
              }
              (() => {
                s.n = (e) => {
                  var t = e && e.__esModule ? () => e["default"] : () => e;
                  return s.d(t, { a: t }), t;
                };
              })(),
                (() => {
                  s.d = (e, t) => {
                    for (var i in t)
                      s.o(t, i) &&
                        !s.o(e, i) &&
                        Object.defineProperty(e, i, {
                          enumerable: !0,
                          get: t[i],
                        });
                  };
                })(),
                (() => {
                  s.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t);
                })(),
                (() => {
                  s.r = (e) => {
                    "undefined" !== typeof Symbol &&
                      Symbol.toStringTag &&
                      Object.defineProperty(e, Symbol.toStringTag, {
                        value: "Module",
                      }),
                      Object.defineProperty(e, "__esModule", { value: !0 });
                  };
                })(),
                (() => {
                  s.p = "";
                })();
              var n = {};
              return (
                (() => {
                  "use strict";
                  if (
                    (s.r(n),
                    s.d(n, { default: () => A }),
                    "undefined" !== typeof window)
                  ) {
                    var e = window.document.currentScript,
                      t = e && e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);
                    t && (s.p = t[1]);
                  }
                  var i = s(203),
                    o = s.n(i),
                    a = function () {
                      var e = this,
                        t = e._self._c;
                      return t(
                        "transition",
                        { attrs: { name: "contextmenu-submenu-fade" } },
                        [
                          e.visible
                            ? t(
                                "div",
                                {
                                  ref: "menu",
                                  class: [e.CLASS_MENU, "menu", e.customClass],
                                  style: {
                                    left: e.style.left + "px",
                                    top: e.style.top + "px",
                                    minWidth: e.style.minWidth + "px",
                                    zIndex: e.style.zIndex,
                                  },
                                  on: {
                                    contextmenu: (e) => e.preventDefault(),
                                  },
                                },
                                [
                                  t(
                                    "div",
                                    { staticClass: "menu_body" },
                                    [
                                      e._l(e.items, function (i, s) {
                                        return [
                                          i.hidden
                                            ? e._e()
                                            : [
                                                i.disabled
                                                  ? t(
                                                      "div",
                                                      {
                                                        key: s + "_disabled",
                                                        class: [
                                                          e.CLASS_MENU_ITEM,
                                                          e.CLASS_MENU_ITEM_UNCLICKABLE,
                                                          "menu_item",
                                                          "menu_item__disabled",
                                                          i.divided
                                                            ? "menu_item__divided"
                                                            : null,
                                                        ],
                                                      },
                                                      [
                                                        e.hasIcon
                                                          ? t(
                                                              "div",
                                                              {
                                                                staticClass:
                                                                  "menu_item_icon",
                                                              },
                                                              [
                                                                i.icon
                                                                  ? t("i", {
                                                                      class:
                                                                        i.icon,
                                                                    })
                                                                  : e._e(),
                                                              ]
                                                            )
                                                          : e._e(),
                                                        t(
                                                          "span",
                                                          {
                                                            staticClass:
                                                              "menu_item_label",
                                                          },
                                                          [e._v(e._s(i.label))]
                                                        ),
                                                        t("div", {
                                                          staticClass:
                                                            "menu_item_expand_icon",
                                                        }),
                                                      ]
                                                    )
                                                  : i.children
                                                  ? t(
                                                      "div",
                                                      {
                                                        key: s + "_children",
                                                        class: [
                                                          e.CLASS_MENU_ITEM,
                                                          e.CLASS_MENU_ITEM_UNCLICKABLE,
                                                          "menu_item",
                                                          "menu_item__available",
                                                          e.activeSubmenu
                                                            .index === s
                                                            ? "menu_item_expand"
                                                            : null,
                                                          i.divided
                                                            ? "menu_item__divided"
                                                            : null,
                                                        ],
                                                        on: {
                                                          mouseenter: (t) =>
                                                            e.enterItem(
                                                              t,
                                                              i,
                                                              s
                                                            ),
                                                        },
                                                      },
                                                      [
                                                        e.hasIcon
                                                          ? t(
                                                              "div",
                                                              {
                                                                staticClass:
                                                                  "menu_item_icon",
                                                              },
                                                              [
                                                                i.icon
                                                                  ? t("i", {
                                                                      class:
                                                                        i.icon,
                                                                    })
                                                                  : e._e(),
                                                              ]
                                                            )
                                                          : e._e(),
                                                        t(
                                                          "span",
                                                          {
                                                            staticClass:
                                                              "menu_item_label",
                                                          },
                                                          [e._v(e._s(i.label))]
                                                        ),
                                                        t(
                                                          "div",
                                                          {
                                                            staticClass:
                                                              "menu_item_expand_icon",
                                                          },
                                                          [e._v("▶")]
                                                        ),
                                                      ]
                                                    )
                                                  : t(
                                                      "div",
                                                      {
                                                        key: s,
                                                        class: [
                                                          e.CLASS_MENU_ITEM,
                                                          e.CLASS_MENU_ITEM_CLICKABLE,
                                                          "menu_item",
                                                          "menu_item__available",
                                                          i.divided
                                                            ? "menu_item__divided"
                                                            : null,
                                                        ],
                                                        on: {
                                                          mouseenter: (t) =>
                                                            e.enterItem(
                                                              t,
                                                              i,
                                                              s
                                                            ),
                                                          click: function (t) {
                                                            return e.itemClick(
                                                              i
                                                            );
                                                          },
                                                        },
                                                      },
                                                      [
                                                        e.hasIcon
                                                          ? t(
                                                              "div",
                                                              {
                                                                staticClass:
                                                                  "menu_item_icon",
                                                              },
                                                              [
                                                                i.icon
                                                                  ? t("i", {
                                                                      class:
                                                                        i.icon,
                                                                    })
                                                                  : e._e(),
                                                              ]
                                                            )
                                                          : e._e(),
                                                        t(
                                                          "span",
                                                          {
                                                            staticClass:
                                                              "menu_item_label",
                                                          },
                                                          [e._v(e._s(i.label))]
                                                        ),
                                                        t("div", {
                                                          staticClass:
                                                            "menu_item_expand_icon",
                                                        }),
                                                      ]
                                                    ),
                                              ],
                                        ];
                                      }),
                                    ],
                                    2
                                  ),
                                ]
                              )
                            : e._e(),
                        ]
                      );
                    },
                    r = [];
                  const l = 3,
                    c = -8,
                    u = "left",
                    d = "right",
                    h = "contextmenu-submenu",
                    p = "contextmenu_menu",
                    _ = "contextmenu_menu_item",
                    m = "contextmenu_menu_item_clickable",
                    g = "contextmenu_menu_item_unclickable",
                    f = {
                      name: h,
                      data() {
                        return {
                          CLASS_MENU: p,
                          CLASS_MENU_ITEM: _,
                          CLASS_MENU_ITEM_CLICKABLE: m,
                          CLASS_MENU_ITEM_UNCLICKABLE: g,
                          activeSubmenu: { index: null, instance: null },
                          items: [],
                          position: { x: 0, y: 0, width: 0, height: 0 },
                          style: { left: 0, top: 0, zIndex: 2, minWidth: 150 },
                          customClass: null,
                          visible: !1,
                          hasIcon: !1,
                          openTrend: d,
                        };
                      },
                      mounted() {
                        this.visible = !0;
                        for (let e of this.items)
                          if (e.icon) {
                            this.hasIcon = !0;
                            break;
                          }
                        this.$nextTick(() => {
                          const e = document.documentElement.clientWidth,
                            t = document.documentElement.clientHeight,
                            i = this.$refs.menu,
                            s = i.offsetWidth,
                            n = i.offsetHeight;
                          (this.openTrend === u
                            ? this.leftOpen
                            : this.rightOpen)(e, t, s),
                            (this.style.top = this.position.y),
                            this.position.y + n > t &&
                              (0 === this.position.height
                                ? (this.style.top =
                                    this.position.y / t > 0.5
                                      ? this.position.y - n
                                      : this.position.y)
                                : (this.style.top = t - n));
                        });
                      },
                      methods: {
                        leftOpen(e, t, i) {
                          (this.style.left = this.position.x - i),
                            (this.openTrend = u),
                            this.style.left < 0 &&
                              ((this.openTrend = d),
                              0 === this.position.width
                                ? (this.style.left = 0)
                                : (this.style.left =
                                    this.position.x + this.position.width));
                        },
                        rightOpen(e, t, i) {
                          (this.style.left =
                            this.position.x + this.position.width),
                            (this.openTrend = d),
                            this.style.left + i > e &&
                              ((this.openTrend = u),
                              0 === this.position.width
                                ? (this.style.left = e - i)
                                : (this.style.left = this.position.x - i));
                        },
                        enterItem(e, t, i) {
                          if (!this.visible) return;
                          if (this.activeSubmenu.instance) {
                            if (this.activeSubmenu.index === i) return;
                            this.activeSubmenu.instance.close(),
                              (this.activeSubmenu.instance = null),
                              (this.activeSubmenu.index = null);
                          }
                          if (!t.children) return;
                          const s = e.target.getBoundingClientRect(),
                            n = o().component(h);
                          (this.activeSubmenu.index = i),
                            (this.activeSubmenu.instance = new n()),
                            (this.activeSubmenu.instance.items = t.children),
                            (this.activeSubmenu.instance.openTrend =
                              this.openTrend),
                            (this.activeSubmenu.instance.position = {
                              x: s.x + l,
                              y: s.y + c,
                              width: s.width - 2 * l,
                              height: s.height - 2 * c,
                            }),
                            (this.activeSubmenu.instance.style.minWidth =
                              "number" === typeof t.minWidth
                                ? t.minWidth
                                : this.style.minWidth),
                            (this.activeSubmenu.instance.style.zIndex =
                              this.style.zIndex),
                            (this.activeSubmenu.instance.customClass =
                              "string" === typeof t.customClass
                                ? t.customClass
                                : this.customClass),
                            this.activeSubmenu.instance.$mount(),
                            document.body.appendChild(
                              this.activeSubmenu.instance.$el
                            );
                        },
                        itemClick(e) {
                          if (this.visible)
                            return !e ||
                              e.disabled ||
                              e.hidden ||
                              "function" !== typeof e.onClick
                              ? void 0
                              : e.onClick();
                        },
                        close() {
                          (this.visible = !1),
                            this.activeSubmenu.instance &&
                              this.activeSubmenu.instance.close(),
                            this.$nextTick(() => {
                              this.$destroy();
                            });
                        },
                      },
                    },
                    v = f;
                  s(99), s(496);
                  function y(e, t, i, s, n, o, a, r) {
                    var l,
                      c = "function" === typeof e ? e.options : e;
                    if (
                      (t &&
                        ((c.render = t),
                        (c.staticRenderFns = i),
                        (c._compiled = !0)),
                      s && (c.functional = !0),
                      o && (c._scopeId = "data-v-" + o),
                      a
                        ? ((l = function (e) {
                            (e =
                              e ||
                              (this.$vnode && this.$vnode.ssrContext) ||
                              (this.parent &&
                                this.parent.$vnode &&
                                this.parent.$vnode.ssrContext)),
                              e ||
                                "undefined" === typeof __VUE_SSR_CONTEXT__ ||
                                (e = __VUE_SSR_CONTEXT__),
                              n && n.call(this, e),
                              e &&
                                e._registeredComponents &&
                                e._registeredComponents.add(a);
                          }),
                          (c._ssrRegister = l))
                        : n &&
                          (l = r
                            ? function () {
                                n.call(
                                  this,
                                  (c.functional ? this.parent : this).$root
                                    .$options.shadowRoot
                                );
                              }
                            : n),
                      l)
                    )
                      if (c.functional) {
                        c._injectStyles = l;
                        var u = c.render;
                        c.render = function (e, t) {
                          return l.call(t), u(e, t);
                        };
                      } else {
                        var d = c.beforeCreate;
                        c.beforeCreate = d ? [].concat(d, l) : [l];
                      }
                    return { exports: e, options: c };
                  }
                  var w = y(v, a, r, !1, null, "a4ecc568", null);
                  const C = w.exports;
                  function b(e) {
                    let t = [];
                    for (let i of document.getElementsByClassName(e) || [])
                      t.push(i);
                    return t;
                  }
                  o().component(h, C);
                  class k {
                    constructor(e) {
                      const t = o().component(h);
                      (this.instance = new t()),
                        (this.instance.items = e.items),
                        (this.instance.position = {
                          x: (e.event && e.event.clientX) || e.x || 0,
                          y: (e.event && e.event.clientY) || e.y || 0,
                          width: 0,
                          height: 0,
                        }),
                        e.minWidth &&
                          (this.instance.style.minWidth = e.minWidth),
                        e.zIndex && (this.instance.style.zIndex = e.zIndex),
                        (this.instance.customClass = e.customClass),
                        this.instance.$mount(),
                        document.body.appendChild(this.instance.$el),
                        this.addListener();
                    }
                    mousewheelListener(e) {
                      this.close();
                    }
                    mouseDownListener(e) {
                      let t = e.target;
                      const i = b(p);
                      while (!i.find((e) => e === t) && t.parentElement)
                        t = t.parentElement;
                      i.find((e) => e === t) || this.close();
                    }
                    mouseClickListener(e) {
                      let t = e.target;
                      const i = b(p),
                        s = b(_),
                        n = b(g);
                      while (
                        !i.find((e) => e === t) &&
                        !s.find((e) => e === t) &&
                        t.parentElement
                      )
                        t = t.parentElement;
                      if (s.find((e) => e === t)) {
                        if (0 !== e.button || n.find((e) => e === t)) return;
                        this.close();
                      } else;
                    }
                    addListener() {
                      (this.mouseClickListenerProxy = (e) =>
                        this.mouseClickListener(e)),
                        (this.mouseDownListenerProxy = (e) =>
                          this.mouseDownListener(e)),
                        (this.mousewheelListenerProxy = (e) =>
                          this.mousewheelListener(e)),
                        document.addEventListener(
                          "click",
                          this.mouseClickListenerProxy
                        ),
                        document.addEventListener(
                          "mousedown",
                          this.mouseDownListenerProxy
                        ),
                        document.addEventListener(
                          "mousewheel",
                          this.mousewheelListenerProxy
                        );
                    }
                    removeListener() {
                      document.removeEventListener(
                        "click",
                        this.mouseClickListenerProxy
                      ),
                        document.removeEventListener(
                          "mousedown",
                          this.mouseDownListenerProxy
                        ),
                        document.removeEventListener(
                          "mousewheel",
                          this.mousewheelListenerProxy
                        );
                    }
                    close() {
                      this.removeListener(), this.instance.close();
                    }
                  }
                  function x(e) {
                    let t = null;
                    const i = function (e) {
                      i.destroy(), (t = new k(e));
                    };
                    (i.destroy = function () {
                      t && (t.close(), (t = null));
                    }),
                      (e.prototype.$contextmenu = i);
                  }
                  window && window.Vue && x(window.Vue);
                  const D = { install: x },
                    S = D,
                    A = S;
                })(),
                n
              );
            })()
          );
      },
      12014: function (module, __unused_webpack_exports, __webpack_require__) {
        __webpack_require__(57658),
          __webpack_require__(1439),
          __webpack_require__(87585),
          __webpack_require__(55315),
          __webpack_require__(82801),
          (function (e, t) {
            module.exports = t();
          })("undefined" != typeof self && self, function () {
            return (function (e) {
              function t(s) {
                if (i[s]) return i[s].exports;
                var n = (i[s] = { i: s, l: !1, exports: {} });
                return (
                  e[s].call(n.exports, n, n.exports, t), (n.l = !0), n.exports
                );
              }
              var i = {};
              return (
                (t.m = e),
                (t.c = i),
                (t.d = function (e, i, s) {
                  t.o(e, i) ||
                    Object.defineProperty(e, i, {
                      configurable: !1,
                      enumerable: !0,
                      get: s,
                    });
                }),
                (t.n = function (e) {
                  var i =
                    e && e.__esModule
                      ? function () {
                          return e.default;
                        }
                      : function () {
                          return e;
                        };
                  return t.d(i, "a", i), i;
                }),
                (t.o = function (e, t) {
                  return Object.prototype.hasOwnProperty.call(e, t);
                }),
                (t.p = "/dist/"),
                t((t.s = 6))
              );
            })([
              function (e, t, i) {
                "use strict";
                (function (t) {
                  function s(e) {
                    return encodeURIComponent(e)
                      .replace(/!/g, "%21")
                      .replace(/'/g, "%27")
                      .replace(/\(/g, "%28")
                      .replace(/\)/g, "%29")
                      .replace(/\*/g, "%2A");
                  }
                  function n(e, t) {
                    var i = [];
                    for (var n in e)
                      e.hasOwnProperty(n) && i.push(t ? s(n).toLowerCase() : n);
                    return i.sort(function (e, t) {
                      return (
                        (e = e.toLowerCase()),
                        (t = t.toLowerCase()),
                        e === t ? 0 : e > t ? 1 : -1
                      );
                    });
                  }
                  function o(e) {
                    return h(e, function (e) {
                      return "object" == typeof e && null !== e ? o(e) : e;
                    });
                  }
                  function a(e, t, i) {
                    return e && t in e ? e[t] : i;
                  }
                  function r(e, t) {
                    return (
                      d(t, function (i, s) {
                        e[s] = t[s];
                      }),
                      e
                    );
                  }
                  function l(e) {
                    return e instanceof Array;
                  }
                  function c(e, t) {
                    for (var i = !1, s = 0; s < e.length; s++)
                      if (t === e[s]) {
                        i = !0;
                        break;
                      }
                    return i;
                  }
                  function u(e) {
                    return l(e) ? e : [e];
                  }
                  function d(e, t) {
                    for (var i in e) e.hasOwnProperty(i) && t(e[i], i);
                  }
                  function h(e, t) {
                    var i = l(e) ? [] : {};
                    for (var s in e) e.hasOwnProperty(s) && (i[s] = t(e[s], s));
                    return i;
                  }
                  function p(e, t) {
                    var i = l(e),
                      s = i ? [] : {};
                    for (var n in e)
                      e.hasOwnProperty(n) &&
                        t(e[n], n) &&
                        (i ? s.push(e[n]) : (s[n] = e[n]));
                    return s;
                  }
                  var _ = i(8),
                    m = i(11),
                    g = i(12),
                    f = i(17),
                    v = function (e, t) {
                      var i,
                        o,
                        a,
                        r = [],
                        l = n(e);
                      for (i = 0; i < l.length; i++)
                        (o = l[i]),
                          (a =
                            void 0 === e[o] || null === e[o] ? "" : "" + e[o]),
                          (o = t ? s(o).toLowerCase() : s(o)),
                          (a = s(a) || ""),
                          r.push(o + "=" + a);
                      return r.join("&");
                    },
                    y = [
                      "content-disposition",
                      "content-encoding",
                      "content-length",
                      "content-md5",
                      "expect",
                      "host",
                      "if-match",
                      "if-modified-since",
                      "if-none-match",
                      "if-unmodified-since",
                      "origin",
                      "range",
                      "response-cache-control",
                      "response-content-disposition",
                      "response-content-encoding",
                      "response-content-language",
                      "response-content-type",
                      "response-expires",
                      "transfer-encoding",
                      "versionid",
                    ],
                    w = function (e) {
                      var t = {};
                      for (var i in e) {
                        var s = i.toLowerCase();
                        (s.indexOf("x-cos-") > -1 || y.indexOf(s) > -1) &&
                          (t[i] = e[i]);
                      }
                      return t;
                    },
                    C = function (e) {
                      e = e || {};
                      var t,
                        i = e.SecretId,
                        s = e.SecretKey,
                        a = e.KeyTime,
                        r = (e.method || e.Method || "get").toLowerCase(),
                        l = o(e.Query || e.params || {}),
                        c = w(o(e.Headers || e.headers || {})),
                        u = e.Key || "";
                      e.UseRawKey
                        ? (t = e.Pathname || e.pathname || "/" + u)
                        : ((t = e.Pathname || e.pathname || u),
                          0 !== t.indexOf("/") && (t = "/" + t));
                      var d = !1 !== e.ForceSignHost;
                      if (
                        (!c.Host &&
                          !c.host &&
                          e.Bucket &&
                          e.Region &&
                          d &&
                          (c.Host =
                            e.Bucket + ".cos." + e.Region + ".myqcloud.com"),
                        !i)
                      )
                        throw new Error("missing param SecretId");
                      if (!s) throw new Error("missing param SecretKey");
                      var h = Math.round(H(e.SystemClockOffset) / 1e3) - 1,
                        p = h,
                        _ = e.Expires || e.expires;
                      p += void 0 === _ ? 900 : 1 * _ || 0;
                      var g = i,
                        f = a || h + ";" + p,
                        v = a || h + ";" + p,
                        y = n(c, !0).join(";").toLowerCase(),
                        C = n(l, !0).join(";").toLowerCase(),
                        b = m.HmacSHA1(v, s).toString(),
                        k = [r, t, q.obj2str(l, !0), q.obj2str(c, !0), ""].join(
                          "\n"
                        ),
                        x = ["sha1", f, m.SHA1(k).toString(), ""].join("\n");
                      return [
                        "q-sign-algorithm=sha1",
                        "q-ak=" + g,
                        "q-sign-time=" + f,
                        "q-key-time=" + v,
                        "q-header-list=" + y,
                        "q-url-param-list=" + C,
                        "q-signature=" + m.HmacSHA1(x, b).toString(),
                      ].join("&");
                    },
                    b = function (e, t, i) {
                      var s = t / 8,
                        n = e.slice(i, i + s);
                      return (
                        new Uint8Array(n).reverse(),
                        new { 8: Uint8Array, 16: Uint16Array, 32: Uint32Array }[
                          t
                        ](n)[0]
                      );
                    },
                    k = function (e, t, i, s) {
                      var n = e.slice(t, i),
                        o = "";
                      return (
                        new Uint8Array(n).forEach(function (e) {
                          o += String.fromCharCode(e);
                        }),
                        s && (o = decodeURIComponent(escape(o))),
                        o
                      );
                    },
                    x = function (e) {
                      for (
                        var t = {}, i = k(e), s = { records: [] };
                        e.byteLength;

                      ) {
                        var n,
                          o = b(e, 32, 0),
                          a = b(e, 32, 4),
                          r = o - a - 16,
                          l = 0;
                        for (e = e.slice(12); l < a; ) {
                          var c = b(e, 8, l),
                            u = k(e, l + 1, l + 1 + c),
                            d = b(e, 16, l + c + 2),
                            h = k(e, l + c + 4, l + c + 4 + d);
                          (t[u] = h), (l += c + 4 + d);
                        }
                        if ("Records" === t[":event-type"])
                          (n = k(e, l, l + r, !0)), s.records.push(n);
                        else if ("Stats" === t[":event-type"])
                          (n = k(e, l, l + r, !0)),
                            (s.stats = q.xml2json(n).Stats);
                        else if ("error" === t[":event-type"]) {
                          var p = t[":error-code"],
                            _ = t[":error-message"],
                            m = new Error(_);
                          (m.message = _), (m.name = m.code = p), (s.error = m);
                        } else
                          ["Progress", "Continuation", "End"].includes(
                            t[":event-type"]
                          );
                        e = e.slice(l + r + 4);
                      }
                      return { payload: s.records.join(""), body: i };
                    },
                    D = function (e) {
                      var t = this.options.CopySourceParser;
                      if (t) return t(e);
                      var i = e.match(
                        /^([^.]+-\d+)\.cos(v6|-cdc)?\.([^.]+)\.myqcloud\.com\/(.+)$/
                      );
                      return i
                        ? { Bucket: i[1], Region: i[3], Key: i[4] }
                        : null;
                    },
                    S = function () {},
                    A = function (e) {
                      var t = {};
                      for (var i in e)
                        e.hasOwnProperty(i) &&
                          void 0 !== e[i] &&
                          null !== e[i] &&
                          (t[i] = e[i]);
                      return t;
                    },
                    E = function (e, t) {
                      var i,
                        s = new FileReader();
                      FileReader.prototype.readAsBinaryString
                        ? ((i = FileReader.prototype.readAsBinaryString),
                          (s.onload = function () {
                            t(this.result);
                          }))
                        : FileReader.prototype.readAsArrayBuffer
                        ? (i = function (e) {
                            var i = "",
                              s = new FileReader();
                            (s.onload = function (e) {
                              for (
                                var n = new Uint8Array(s.result),
                                  o = n.byteLength,
                                  a = 0;
                                a < o;
                                a++
                              )
                                i += String.fromCharCode(n[a]);
                              t(i);
                            }),
                              s.readAsArrayBuffer(e);
                          })
                        : console.error(
                            "FileReader not support readAsBinaryString"
                          ),
                        i.call(s, e);
                    },
                    T = (function () {
                      var e = function (e, t) {
                        (e = e.split(".")), (t = t.split("."));
                        for (var i = 0; i < t.length; i++)
                          if (e[i] !== t[i])
                            return parseInt(e[i]) > parseInt(t[i]) ? 1 : -1;
                        return 0;
                      };
                      return (function (t) {
                        if (!t) return !1;
                        var i = (t.match(/Chrome\/([.\d]+)/) || [])[1],
                          s = (t.match(/QBCore\/([.\d]+)/) || [])[1],
                          n = (t.match(/QQBrowser\/([.\d]+)/) || [])[1];
                        return (
                          (i &&
                            e(i, "53.0.2785.116") < 0 &&
                            s &&
                            e(s, "3.53.991.400") < 0 &&
                            n &&
                            e(n, "9.0.2524.400") <= 0) ||
                          !1
                        );
                      })(
                        "undefined" != typeof navigator && navigator.userAgent
                      );
                    })(),
                    B = function (e, t, i, s, n) {
                      var o;
                      if (
                        (e.slice
                          ? (o = e.slice(t, i))
                          : e.mozSlice
                          ? (o = e.mozSlice(t, i))
                          : e.webkitSlice && (o = e.webkitSlice(t, i)),
                        s && T)
                      ) {
                        var a = new FileReader();
                        (a.onload = function (e) {
                          (o = null), n(new Blob([a.result]));
                        }),
                          a.readAsArrayBuffer(o);
                      } else n(o);
                    },
                    $ = function (e, t, i, s) {
                      (i = i || S),
                        e
                          ? "string" == typeof t
                            ? i(q.md5(t, !0))
                            : Blob && t instanceof Blob
                            ? q.getFileMd5(
                                t,
                                function (e, t) {
                                  i(t);
                                },
                                s
                              )
                            : i()
                          : i();
                    },
                    R = function (e, t, i) {
                      var s = e.size,
                        n = 0,
                        o = _.getCtx(),
                        a = function (r) {
                          if (r >= s) {
                            var l = o.digest("hex");
                            t(null, l);
                          } else {
                            var c = Math.min(s, r + 1048576);
                            q.fileSlice(e, r, c, !1, function (e) {
                              E(e, function (t) {
                                (e = null),
                                  (o = o.update(t, !0)),
                                  (n += t.length),
                                  (t = null),
                                  i &&
                                    i({
                                      loaded: n,
                                      total: s,
                                      percent: Math.round((n / s) * 1e4) / 1e4,
                                    }),
                                  a(r + 1048576);
                              });
                            });
                          }
                        };
                      a(0);
                    },
                    M = function (e) {
                      var t,
                        i,
                        s,
                        n = "";
                      for (t = 0, i = e.length / 2; t < i; t++)
                        (s = parseInt(e[2 * t] + e[2 * t + 1], 16)),
                          (n += String.fromCharCode(s));
                      return btoa(n);
                    },
                    P = function () {
                      var e = function () {
                        return ((65536 * (1 + Math.random())) | 0)
                          .toString(16)
                          .substring(1);
                      };
                      return (
                        e() +
                        e() +
                        "-" +
                        e() +
                        "-" +
                        e() +
                        "-" +
                        e() +
                        "-" +
                        e() +
                        e() +
                        e()
                      );
                    },
                    I = function (e, t) {
                      var i = t.Bucket,
                        s = t.Region,
                        n = t.Key,
                        o = this.options.Domain,
                        a =
                          !o ||
                          ("string" == typeof o && o.indexOf("{Bucket}") > -1),
                        r =
                          !o ||
                          ("string" == typeof o && o.indexOf("{Region}") > -1);
                      if (
                        e.indexOf("Bucket") > -1 ||
                        "deleteMultipleObject" === e ||
                        "multipartList" === e ||
                        "listObjectVersions" === e
                      ) {
                        if (a && !i) return "Bucket";
                        if (r && !s) return "Region";
                      } else if (
                        e.indexOf("Object") > -1 ||
                        e.indexOf("multipart") > -1 ||
                        "sliceUploadFile" === e ||
                        "abortUploadTask" === e
                      ) {
                        if (a && !i) return "Bucket";
                        if (r && !s) return "Region";
                        if (!n) return "Key";
                      }
                      return !1;
                    },
                    F = function (e, t) {
                      if (
                        ((t = r({}, t)),
                        "getAuth" !== e &&
                          "getV4Auth" !== e &&
                          "getObjectUrl" !== e)
                      ) {
                        var i = t.Headers || {};
                        if (t && "object" == typeof t) {
                          !(function () {
                            for (var e in t)
                              t.hasOwnProperty(e) &&
                                e.indexOf("x-cos-") > -1 &&
                                (i[e] = t[e]);
                          })();
                          var s = {
                            "x-cos-mfa": "MFA",
                            "Content-MD5": "ContentMD5",
                            "Content-Length": "ContentLength",
                            "Content-Type": "ContentType",
                            Expect: "Expect",
                            Expires: "Expires",
                            "Cache-Control": "CacheControl",
                            "Content-Disposition": "ContentDisposition",
                            "Content-Encoding": "ContentEncoding",
                            Range: "Range",
                            "If-Modified-Since": "IfModifiedSince",
                            "If-Unmodified-Since": "IfUnmodifiedSince",
                            "If-Match": "IfMatch",
                            "If-None-Match": "IfNoneMatch",
                            "x-cos-copy-source": "CopySource",
                            "x-cos-copy-source-Range": "CopySourceRange",
                            "x-cos-metadata-directive": "MetadataDirective",
                            "x-cos-copy-source-If-Modified-Since":
                              "CopySourceIfModifiedSince",
                            "x-cos-copy-source-If-Unmodified-Since":
                              "CopySourceIfUnmodifiedSince",
                            "x-cos-copy-source-If-Match": "CopySourceIfMatch",
                            "x-cos-copy-source-If-None-Match":
                              "CopySourceIfNoneMatch",
                            "x-cos-acl": "ACL",
                            "x-cos-grant-read": "GrantRead",
                            "x-cos-grant-write": "GrantWrite",
                            "x-cos-grant-full-control": "GrantFullControl",
                            "x-cos-grant-read-acp": "GrantReadAcp",
                            "x-cos-grant-write-acp": "GrantWriteAcp",
                            "x-cos-storage-class": "StorageClass",
                            "x-cos-traffic-limit": "TrafficLimit",
                            "x-cos-mime-limit": "MimeLimit",
                            "x-cos-server-side-encryption-customer-algorithm":
                              "SSECustomerAlgorithm",
                            "x-cos-server-side-encryption-customer-key":
                              "SSECustomerKey",
                            "x-cos-server-side-encryption-customer-key-MD5":
                              "SSECustomerKeyMD5",
                            "x-cos-server-side-encryption":
                              "ServerSideEncryption",
                            "x-cos-server-side-encryption-cos-kms-key-id":
                              "SSEKMSKeyId",
                            "x-cos-server-side-encryption-context":
                              "SSEContext",
                          };
                          q.each(s, function (e, s) {
                            void 0 !== t[e] && (i[s] = t[e]);
                          }),
                            (t.Headers = A(i));
                        }
                      }
                      return t;
                    },
                    U = function (e, t) {
                      return function (i, s) {
                        var n = this;
                        "function" == typeof i && ((s = i), (i = {})),
                          (i = F(e, i));
                        var o = function (e) {
                            return (
                              e &&
                                e.headers &&
                                (e.headers["x-cos-request-id"] &&
                                  (e.RequestId = e.headers["x-cos-request-id"]),
                                e.headers["x-ci-request-id"] &&
                                  (e.RequestId = e.headers["x-ci-request-id"]),
                                e.headers["x-cos-version-id"] &&
                                  (e.VersionId = e.headers["x-cos-version-id"]),
                                e.headers["x-cos-delete-marker"] &&
                                  (e.DeleteMarker =
                                    e.headers["x-cos-delete-marker"])),
                              e
                            );
                          },
                          a = function (e, t) {
                            s && s(o(e), o(t));
                          },
                          r = (function () {
                            if ("getService" !== e && "abortUploadTask" !== e) {
                              var t = I.call(n, e, i);
                              if (t) return "missing param " + t;
                              if (i.Region) {
                                if (n.options.CompatibilityMode) {
                                  if (!/^([a-z\d-.]+)$/.test(i.Region))
                                    return "Region format error.";
                                } else {
                                  if (i.Region.indexOf("cos.") > -1)
                                    return 'param Region should not be start with "cos."';
                                  if (!/^([a-z\d-]+)$/.test(i.Region))
                                    return "Region format error.";
                                }
                                n.options.CompatibilityMode ||
                                  -1 !== i.Region.indexOf("-") ||
                                  "yfb" === i.Region ||
                                  "default" === i.Region ||
                                  "accelerate" === i.Region ||
                                  console.warn(
                                    "warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224"
                                  );
                              }
                              if (i.Bucket) {
                                if (!/^([a-z\d-]+)-(\d+)$/.test(i.Bucket))
                                  if (i.AppId)
                                    i.Bucket = i.Bucket + "-" + i.AppId;
                                  else {
                                    if (!n.options.AppId)
                                      return 'Bucket should format as "test-1250000000".';
                                    i.Bucket = i.Bucket + "-" + n.options.AppId;
                                  }
                                i.AppId &&
                                  (console.warn(
                                    'warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:"test-1250000000" ).'
                                  ),
                                  delete i.AppId);
                              }
                              !n.options.UseRawKey &&
                                i.Key &&
                                "/" === i.Key.substr(0, 1) &&
                                (i.Key = i.Key.substr(1));
                            }
                          })(),
                          l = "getAuth" === e || "getObjectUrl" === e;
                        if ("function" == typeof Promise && !l && !s)
                          return new Promise(function (e, o) {
                            if (
                              ((s = function (t, i) {
                                t ? o(t) : e(i);
                              }),
                              r)
                            )
                              return a(q.error(new Error(r)));
                            t.call(n, i, a);
                          });
                        if (r) return a(q.error(new Error(r)));
                        var c = t.call(n, i, a);
                        return l ? c : void 0;
                      };
                    },
                    N = function (e, t) {
                      function i() {
                        if (((n = 0), t && "function" == typeof t)) {
                          s = Date.now();
                          var i,
                            o =
                              Math.max(
                                0,
                                Math.round(((r - a) / ((s - l) / 1e3)) * 100) /
                                  100
                              ) || 0;
                          (i =
                            0 === r && 0 === e
                              ? 1
                              : Math.floor((r / e) * 100) / 100 || 0),
                            (l = s),
                            (a = r);
                          try {
                            t({ loaded: r, total: e, speed: o, percent: i });
                          } catch (e) {}
                        }
                      }
                      var s,
                        n,
                        o = this,
                        a = 0,
                        r = 0,
                        l = Date.now();
                      return function (t, s) {
                        if ((t && ((r = t.loaded), (e = t.total)), s))
                          clearTimeout(n), i();
                        else {
                          if (n) return;
                          n = setTimeout(i, o.options.ProgressInterval);
                        }
                      };
                    },
                    O = function (e, t, i) {
                      var s;
                      "string" == typeof t.Body
                        ? (t.Body = new Blob([t.Body], { type: "text/plain" }))
                        : t.Body instanceof ArrayBuffer &&
                          (t.Body = new Blob([t.Body])),
                        t.Body &&
                        (t.Body instanceof Blob ||
                          "[object File]" === t.Body.toString() ||
                          "[object Blob]" === t.Body.toString())
                          ? ((s = t.Body.size),
                            (t.ContentLength = s),
                            i(null, s))
                          : i(
                              q.error(
                                new Error(
                                  "params body format error, Only allow File|Blob|String."
                                )
                              )
                            );
                    },
                    H = function (e) {
                      return Date.now() + (e || 0);
                    },
                    L = function (e, t) {
                      var i = e;
                      return (
                        (e.message = e.message || null),
                        "string" == typeof t
                          ? ((e.error = t), (e.message = t))
                          : "object" == typeof t &&
                            null !== t &&
                            (r(e, t),
                            (t.code || t.name) && (e.code = t.code || t.name),
                            t.message && (e.message = t.message),
                            t.stack && (e.stack = t.stack)),
                        "function" == typeof Object.defineProperty &&
                          (Object.defineProperty(e, "name", {
                            writable: !0,
                            enumerable: !1,
                          }),
                          Object.defineProperty(e, "message", {
                            enumerable: !0,
                          })),
                        (e.name = (t && t.name) || e.name || e.code || "Error"),
                        e.code || (e.code = e.name),
                        e.error || (e.error = o(i)),
                        e
                      );
                    },
                    K = function () {
                      return (
                        "object" != typeof window && "object" == typeof t && !0
                      );
                    },
                    z = function (e) {
                      return /^https?:\/\/([^\/]+\.)?ci\.[^\/]+/.test(e);
                    },
                    q = {
                      noop: S,
                      formatParams: F,
                      apiWrapper: U,
                      xml2json: g,
                      json2xml: f,
                      md5: _,
                      clearKey: A,
                      fileSlice: B,
                      getBodyMd5: $,
                      getFileMd5: R,
                      binaryBase64: M,
                      extend: r,
                      isArray: l,
                      isInArray: c,
                      makeArray: u,
                      each: d,
                      map: h,
                      filter: p,
                      clone: o,
                      attr: a,
                      uuid: P,
                      camSafeUrlEncode: s,
                      throttleOnProgress: N,
                      getFileSize: O,
                      getSkewTime: H,
                      error: L,
                      obj2str: v,
                      getAuth: C,
                      parseSelectPayload: x,
                      getSourceParams: D,
                      isBrowser: !0,
                      isNode: K,
                      isCIHost: z,
                    };
                  e.exports = q;
                }).call(t, i(2));
              },
              function (e, t, i) {
                "use strict";
                function s(e, t) {
                  return (
                    void 0 === t && (t = Object),
                    t && "function" == typeof t.freeze ? t.freeze(e) : e
                  );
                }
                function n(e, t) {
                  if (null === e || "object" != typeof e)
                    throw new TypeError("target is not an object");
                  for (var i in t)
                    Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                  return e;
                }
                var o = s({
                    HTML: "text/html",
                    isHTML: function (e) {
                      return e === o.HTML;
                    },
                    XML_APPLICATION: "application/xml",
                    XML_TEXT: "text/xml",
                    XML_XHTML_APPLICATION: "application/xhtml+xml",
                    XML_SVG_IMAGE: "image/svg+xml",
                  }),
                  a = s({
                    HTML: "http://www.w3.org/1999/xhtml",
                    isHTML: function (e) {
                      return e === a.HTML;
                    },
                    SVG: "http://www.w3.org/2000/svg",
                    XML: "http://www.w3.org/XML/1998/namespace",
                    XMLNS: "http://www.w3.org/2000/xmlns/",
                  });
                (t.assign = n),
                  (t.freeze = s),
                  (t.MIME_TYPE = o),
                  (t.NAMESPACE = a);
              },
              function (e, t) {
                function i() {
                  throw new Error("setTimeout has not been defined");
                }
                function s() {
                  throw new Error("clearTimeout has not been defined");
                }
                function n(e) {
                  if (u === setTimeout) return setTimeout(e, 0);
                  if ((u === i || !u) && setTimeout)
                    return (u = setTimeout), setTimeout(e, 0);
                  try {
                    return u(e, 0);
                  } catch (t) {
                    try {
                      return u.call(null, e, 0);
                    } catch (t) {
                      return u.call(this, e, 0);
                    }
                  }
                }
                function o(e) {
                  if (d === clearTimeout) return clearTimeout(e);
                  if ((d === s || !d) && clearTimeout)
                    return (d = clearTimeout), clearTimeout(e);
                  try {
                    return d(e);
                  } catch (t) {
                    try {
                      return d.call(null, e);
                    } catch (t) {
                      return d.call(this, e);
                    }
                  }
                }
                function a() {
                  m &&
                    p &&
                    ((m = !1),
                    p.length ? (_ = p.concat(_)) : (g = -1),
                    _.length && r());
                }
                function r() {
                  if (!m) {
                    var e = n(a);
                    m = !0;
                    for (var t = _.length; t; ) {
                      for (p = _, _ = []; ++g < t; ) p && p[g].run();
                      (g = -1), (t = _.length);
                    }
                    (p = null), (m = !1), o(e);
                  }
                }
                function l(e, t) {
                  (this.fun = e), (this.array = t);
                }
                function c() {}
                var u,
                  d,
                  h = (e.exports = {});
                !(function () {
                  try {
                    u = "function" == typeof setTimeout ? setTimeout : i;
                  } catch (e) {
                    u = i;
                  }
                  try {
                    d = "function" == typeof clearTimeout ? clearTimeout : s;
                  } catch (e) {
                    d = s;
                  }
                })();
                var p,
                  _ = [],
                  m = !1,
                  g = -1;
                (h.nextTick = function (e) {
                  var t = new Array(arguments.length - 1);
                  if (arguments.length > 1)
                    for (var i = 1; i < arguments.length; i++)
                      t[i - 1] = arguments[i];
                  _.push(new l(e, t)), 1 !== _.length || m || n(r);
                }),
                  (l.prototype.run = function () {
                    this.fun.apply(null, this.array);
                  }),
                  (h.title = "browser"),
                  (h.browser = !0),
                  (h.env = {}),
                  (h.argv = []),
                  (h.version = ""),
                  (h.versions = {}),
                  (h.on = c),
                  (h.addListener = c),
                  (h.once = c),
                  (h.off = c),
                  (h.removeListener = c),
                  (h.removeAllListeners = c),
                  (h.emit = c),
                  (h.prependListener = c),
                  (h.prependOnceListener = c),
                  (h.listeners = function (e) {
                    return [];
                  }),
                  (h.binding = function (e) {
                    throw new Error("process.binding is not supported");
                  }),
                  (h.cwd = function () {
                    return "/";
                  }),
                  (h.chdir = function (e) {
                    throw new Error("process.chdir is not supported");
                  }),
                  (h.umask = function () {
                    return 0;
                  });
              },
              function (e, t, i) {
                function s(e) {
                  return "" !== e;
                }
                function n(e) {
                  return e ? e.split(/[\t\n\f\r ]+/).filter(s) : [];
                }
                function o(e, t) {
                  return e.hasOwnProperty(t) || (e[t] = !0), e;
                }
                function a(e) {
                  if (!e) return [];
                  var t = n(e);
                  return Object.keys(t.reduce(o, {}));
                }
                function r(e) {
                  return function (t) {
                    return e && -1 !== e.indexOf(t);
                  };
                }
                function l(e, t) {
                  for (var i in e) t[i] = e[i];
                }
                function c(e, t) {
                  function i() {}
                  var s = e.prototype;
                  s instanceof t ||
                    ((i.prototype = t.prototype),
                    (i = new i()),
                    l(s, i),
                    (e.prototype = s = i)),
                    s.constructor != e &&
                      ("function" != typeof e &&
                        console.error("unknown Class:" + e),
                      (s.constructor = e));
                }
                function u(e, t) {
                  if (t instanceof Error) var i = t;
                  else
                    (i = this),
                      Error.call(this, he[e]),
                      (this.message = he[e]),
                      Error.captureStackTrace &&
                        Error.captureStackTrace(this, u);
                  return (
                    (i.code = e),
                    t && (this.message = this.message + ": " + t),
                    i
                  );
                }
                function d() {}
                function h(e, t) {
                  (this._node = e), (this._refresh = t), p(this);
                }
                function p(e) {
                  var t = e._node._inc || e._node.ownerDocument._inc;
                  if (e._inc != t) {
                    var i = e._refresh(e._node);
                    V(e, "length", i.length), l(i, e), (e._inc = t);
                  }
                }
                function _() {}
                function m(e, t) {
                  for (var i = e.length; i--; ) if (e[i] === t) return i;
                }
                function g(e, t, i, s) {
                  if ((s ? (t[m(t, s)] = i) : (t[t.length++] = i), e)) {
                    i.ownerElement = e;
                    var n = e.ownerDocument;
                    n && (s && x(n, e, s), k(n, e, i));
                  }
                }
                function f(e, t, i) {
                  var s = m(t, i);
                  if (!(s >= 0)) throw u(_e, new Error(e.tagName + "@" + i));
                  for (var n = t.length - 1; s < n; ) t[s] = t[++s];
                  if (((t.length = n), e)) {
                    var o = e.ownerDocument;
                    o && (x(o, e, i), (i.ownerElement = null));
                  }
                }
                function v() {}
                function y() {}
                function w(e) {
                  return (
                    ("<" == e ? "&lt;" : ">" == e && "&gt;") ||
                    ("&" == e && "&amp;") ||
                    ('"' == e && "&quot;") ||
                    "&#" + e.charCodeAt() + ";"
                  );
                }
                function C(e, t) {
                  if (t(e)) return !0;
                  if ((e = e.firstChild))
                    do {
                      if (C(e, t)) return !0;
                    } while ((e = e.nextSibling));
                }
                function b() {}
                function k(e, t, i) {
                  e && e._inc++,
                    i.namespaceURI === Y.XMLNS &&
                      (t._nsMap[i.prefix ? i.localName : ""] = i.value);
                }
                function x(e, t, i, s) {
                  e && e._inc++,
                    i.namespaceURI === Y.XMLNS &&
                      delete t._nsMap[i.prefix ? i.localName : ""];
                }
                function D(e, t, i) {
                  if (e && e._inc) {
                    e._inc++;
                    var s = t.childNodes;
                    if (i) s[s.length++] = i;
                    else {
                      for (var n = t.firstChild, o = 0; n; )
                        (s[o++] = n), (n = n.nextSibling);
                      (s.length = o), delete s[s.length];
                    }
                  }
                }
                function S(e, t) {
                  var i = t.previousSibling,
                    s = t.nextSibling;
                  return (
                    i ? (i.nextSibling = s) : (e.firstChild = s),
                    s ? (s.previousSibling = i) : (e.lastChild = i),
                    (t.parentNode = null),
                    (t.previousSibling = null),
                    (t.nextSibling = null),
                    D(e.ownerDocument, e),
                    t
                  );
                }
                function A(e, t, i) {
                  var s = t.parentNode;
                  if ((s && s.removeChild(t), t.nodeType === ce)) {
                    var n = t.firstChild;
                    if (null == n) return t;
                    var o = t.lastChild;
                  } else n = o = t;
                  var a = i ? i.previousSibling : e.lastChild;
                  (n.previousSibling = a),
                    (o.nextSibling = i),
                    a ? (a.nextSibling = n) : (e.firstChild = n),
                    null == i ? (e.lastChild = o) : (i.previousSibling = o);
                  do {
                    n.parentNode = e;
                  } while (n !== o && (n = n.nextSibling));
                  return (
                    D(e.ownerDocument || e, e),
                    t.nodeType == ce && (t.firstChild = t.lastChild = null),
                    t
                  );
                }
                function E(e, t) {
                  return (
                    t.parentNode && t.parentNode.removeChild(t),
                    (t.parentNode = e),
                    (t.previousSibling = e.lastChild),
                    (t.nextSibling = null),
                    t.previousSibling
                      ? (t.previousSibling.nextSibling = t)
                      : (e.firstChild = t),
                    (e.lastChild = t),
                    D(e.ownerDocument, e, t),
                    t
                  );
                }
                function T() {
                  this._nsMap = {};
                }
                function B() {}
                function $() {}
                function R() {}
                function M() {}
                function P() {}
                function I() {}
                function F() {}
                function U() {}
                function N() {}
                function O() {}
                function H() {}
                function L() {}
                function K(e, t) {
                  var i = [],
                    s = (9 == this.nodeType && this.documentElement) || this,
                    n = s.prefix,
                    o = s.namespaceURI;
                  if (o && null == n) {
                    n = s.lookupPrefix(o);
                    if (null == n) var a = [{ namespace: o, prefix: null }];
                  }
                  return W(this, i, e, t, a), i.join("");
                }
                function z(e, t, i) {
                  var s = e.prefix || "",
                    n = e.namespaceURI;
                  if (!n) return !1;
                  if (("xml" === s && n === Y.XML) || n === Y.XMLNS) return !1;
                  for (var o = i.length; o--; ) {
                    var a = i[o];
                    if (a.prefix === s) return a.namespace !== n;
                  }
                  return !0;
                }
                function q(e, t, i) {
                  e.push(" ", t, '="', i.replace(/[<>&"\t\n\r]/g, w), '"');
                }
                function W(e, t, i, s, n) {
                  if ((n || (n = []), s)) {
                    if (!(e = s(e))) return;
                    if ("string" == typeof e) return void t.push(e);
                  }
                  switch (e.nodeType) {
                    case J:
                      var o = e.attributes,
                        a = o.length,
                        r = e.firstChild,
                        l = e.tagName;
                      i = Y.isHTML(e.namespaceURI) || i;
                      var c = l;
                      if (!i && !e.prefix && e.namespaceURI) {
                        for (var u, d = 0; d < o.length; d++)
                          if ("xmlns" === o.item(d).name) {
                            u = o.item(d).value;
                            break;
                          }
                        if (!u)
                          for (var h = n.length - 1; h >= 0; h--) {
                            var p = n[h];
                            if (
                              "" === p.prefix &&
                              p.namespace === e.namespaceURI
                            ) {
                              u = p.namespace;
                              break;
                            }
                          }
                        if (u !== e.namespaceURI)
                          for (h = n.length - 1; h >= 0; h--) {
                            p = n[h];
                            if (p.namespace === e.namespaceURI) {
                              p.prefix && (c = p.prefix + ":" + l);
                              break;
                            }
                          }
                      }
                      t.push("<", c);
                      for (var _ = 0; _ < a; _++) {
                        var m = o.item(_);
                        "xmlns" == m.prefix
                          ? n.push({ prefix: m.localName, namespace: m.value })
                          : "xmlns" == m.nodeName &&
                            n.push({ prefix: "", namespace: m.value });
                      }
                      for (_ = 0; _ < a; _++) {
                        m = o.item(_);
                        if (z(m, i, n)) {
                          var g = m.prefix || "",
                            f = m.namespaceURI;
                          q(t, g ? "xmlns:" + g : "xmlns", f),
                            n.push({ prefix: g, namespace: f });
                        }
                        W(m, t, i, s, n);
                      }
                      if (l === c && z(e, i, n)) {
                        (g = e.prefix || ""), (f = e.namespaceURI);
                        q(t, g ? "xmlns:" + g : "xmlns", f),
                          n.push({ prefix: g, namespace: f });
                      }
                      if (
                        r ||
                        (i && !/^(?:meta|link|img|br|hr|input)$/i.test(l))
                      ) {
                        if ((t.push(">"), i && /^script$/i.test(l)))
                          for (; r; )
                            r.data ? t.push(r.data) : W(r, t, i, s, n.slice()),
                              (r = r.nextSibling);
                        else
                          for (; r; )
                            W(r, t, i, s, n.slice()), (r = r.nextSibling);
                        t.push("</", c, ">");
                      } else t.push("/>");
                      return;
                    case re:
                    case ce:
                      for (r = e.firstChild; r; )
                        W(r, t, i, s, n.slice()), (r = r.nextSibling);
                      return;
                    case ee:
                      return q(t, e.name, e.value);
                    case te:
                      return t.push(e.data.replace(/[<&>]/g, w));
                    case ie:
                      return t.push("<![CDATA[", e.data, "]]>");
                    case ae:
                      return t.push("\x3c!--", e.data, "--\x3e");
                    case le:
                      var v = e.publicId,
                        y = e.systemId;
                      if ((t.push("<!DOCTYPE ", e.name), v))
                        t.push(" PUBLIC ", v),
                          y && "." != y && t.push(" ", y),
                          t.push(">");
                      else if (y && "." != y) t.push(" SYSTEM ", y, ">");
                      else {
                        var C = e.internalSubset;
                        C && t.push(" [", C, "]"), t.push(">");
                      }
                      return;
                    case oe:
                      return t.push("<?", e.target, " ", e.data, "?>");
                    case se:
                      return t.push("&", e.nodeName, ";");
                    default:
                      t.push("??", e.nodeName);
                  }
                }
                function j(e, t, i) {
                  var s;
                  switch (t.nodeType) {
                    case J:
                      (s = t.cloneNode(!1)), (s.ownerDocument = e);
                    case ce:
                      break;
                    case ee:
                      i = !0;
                  }
                  if (
                    (s || (s = t.cloneNode(!1)),
                    (s.ownerDocument = e),
                    (s.parentNode = null),
                    i)
                  )
                    for (var n = t.firstChild; n; )
                      s.appendChild(j(e, n, i)), (n = n.nextSibling);
                  return s;
                }
                function G(e, t, i) {
                  var s = new t.constructor();
                  for (var n in t) {
                    var o = t[n];
                    "object" != typeof o && o != s[n] && (s[n] = o);
                  }
                  switch (
                    (t.childNodes && (s.childNodes = new d()),
                    (s.ownerDocument = e),
                    s.nodeType)
                  ) {
                    case J:
                      var a = t.attributes,
                        r = (s.attributes = new _()),
                        l = a.length;
                      r._ownerElement = s;
                      for (var c = 0; c < l; c++)
                        s.setAttributeNode(G(e, a.item(c), !0));
                      break;
                    case ee:
                      i = !0;
                  }
                  if (i)
                    for (var u = t.firstChild; u; )
                      s.appendChild(G(e, u, i)), (u = u.nextSibling);
                  return s;
                }
                function V(e, t, i) {
                  e[t] = i;
                }
                function X(e) {
                  switch (e.nodeType) {
                    case J:
                    case ce:
                      var t = [];
                      for (e = e.firstChild; e; )
                        7 !== e.nodeType && 8 !== e.nodeType && t.push(X(e)),
                          (e = e.nextSibling);
                      return t.join("");
                    default:
                      return e.nodeValue;
                  }
                }
                var Z = i(1),
                  Y = Z.NAMESPACE,
                  Q = {},
                  J = (Q.ELEMENT_NODE = 1),
                  ee = (Q.ATTRIBUTE_NODE = 2),
                  te = (Q.TEXT_NODE = 3),
                  ie = (Q.CDATA_SECTION_NODE = 4),
                  se = (Q.ENTITY_REFERENCE_NODE = 5),
                  ne = (Q.ENTITY_NODE = 6),
                  oe = (Q.PROCESSING_INSTRUCTION_NODE = 7),
                  ae = (Q.COMMENT_NODE = 8),
                  re = (Q.DOCUMENT_NODE = 9),
                  le = (Q.DOCUMENT_TYPE_NODE = 10),
                  ce = (Q.DOCUMENT_FRAGMENT_NODE = 11),
                  ue = (Q.NOTATION_NODE = 12),
                  de = {},
                  he = {},
                  pe =
                    ((de.INDEX_SIZE_ERR = ((he[1] = "Index size error"), 1)),
                    (de.DOMSTRING_SIZE_ERR =
                      ((he[2] = "DOMString size error"), 2)),
                    (de.HIERARCHY_REQUEST_ERR =
                      ((he[3] = "Hierarchy request error"), 3))),
                  _e =
                    ((de.WRONG_DOCUMENT_ERR = ((he[4] = "Wrong document"), 4)),
                    (de.INVALID_CHARACTER_ERR =
                      ((he[5] = "Invalid character"), 5)),
                    (de.NO_DATA_ALLOWED_ERR = ((he[6] = "No data allowed"), 6)),
                    (de.NO_MODIFICATION_ALLOWED_ERR =
                      ((he[7] = "No modification allowed"), 7)),
                    (de.NOT_FOUND_ERR = ((he[8] = "Not found"), 8))),
                  me =
                    ((de.NOT_SUPPORTED_ERR = ((he[9] = "Not supported"), 9)),
                    (de.INUSE_ATTRIBUTE_ERR =
                      ((he[10] = "Attribute in use"), 10)));
                (de.INVALID_STATE_ERR = ((he[11] = "Invalid state"), 11)),
                  (de.SYNTAX_ERR = ((he[12] = "Syntax error"), 12)),
                  (de.INVALID_MODIFICATION_ERR =
                    ((he[13] = "Invalid modification"), 13)),
                  (de.NAMESPACE_ERR = ((he[14] = "Invalid namespace"), 14)),
                  (de.INVALID_ACCESS_ERR = ((he[15] = "Invalid access"), 15)),
                  (u.prototype = Error.prototype),
                  l(de, u),
                  (d.prototype = {
                    length: 0,
                    item: function (e) {
                      return this[e] || null;
                    },
                    toString: function (e, t) {
                      for (var i = [], s = 0; s < this.length; s++)
                        W(this[s], i, e, t);
                      return i.join("");
                    },
                  }),
                  (h.prototype.item = function (e) {
                    return p(this), this[e];
                  }),
                  c(h, d),
                  (_.prototype = {
                    length: 0,
                    item: d.prototype.item,
                    getNamedItem: function (e) {
                      for (var t = this.length; t--; ) {
                        var i = this[t];
                        if (i.nodeName == e) return i;
                      }
                    },
                    setNamedItem: function (e) {
                      var t = e.ownerElement;
                      if (t && t != this._ownerElement) throw new u(me);
                      var i = this.getNamedItem(e.nodeName);
                      return g(this._ownerElement, this, e, i), i;
                    },
                    setNamedItemNS: function (e) {
                      var t,
                        i = e.ownerElement;
                      if (i && i != this._ownerElement) throw new u(me);
                      return (
                        (t = this.getNamedItemNS(e.namespaceURI, e.localName)),
                        g(this._ownerElement, this, e, t),
                        t
                      );
                    },
                    removeNamedItem: function (e) {
                      var t = this.getNamedItem(e);
                      return f(this._ownerElement, this, t), t;
                    },
                    removeNamedItemNS: function (e, t) {
                      var i = this.getNamedItemNS(e, t);
                      return f(this._ownerElement, this, i), i;
                    },
                    getNamedItemNS: function (e, t) {
                      for (var i = this.length; i--; ) {
                        var s = this[i];
                        if (s.localName == t && s.namespaceURI == e) return s;
                      }
                      return null;
                    },
                  }),
                  (v.prototype = {
                    hasFeature: function (e, t) {
                      return !0;
                    },
                    createDocument: function (e, t, i) {
                      var s = new b();
                      if (
                        ((s.implementation = this),
                        (s.childNodes = new d()),
                        (s.doctype = i || null),
                        i && s.appendChild(i),
                        t)
                      ) {
                        var n = s.createElementNS(e, t);
                        s.appendChild(n);
                      }
                      return s;
                    },
                    createDocumentType: function (e, t, i) {
                      var s = new I();
                      return (
                        (s.name = e),
                        (s.nodeName = e),
                        (s.publicId = t || ""),
                        (s.systemId = i || ""),
                        s
                      );
                    },
                  }),
                  (y.prototype = {
                    firstChild: null,
                    lastChild: null,
                    previousSibling: null,
                    nextSibling: null,
                    attributes: null,
                    parentNode: null,
                    childNodes: null,
                    ownerDocument: null,
                    nodeValue: null,
                    namespaceURI: null,
                    prefix: null,
                    localName: null,
                    insertBefore: function (e, t) {
                      return A(this, e, t);
                    },
                    replaceChild: function (e, t) {
                      this.insertBefore(e, t), t && this.removeChild(t);
                    },
                    removeChild: function (e) {
                      return S(this, e);
                    },
                    appendChild: function (e) {
                      return this.insertBefore(e, null);
                    },
                    hasChildNodes: function () {
                      return null != this.firstChild;
                    },
                    cloneNode: function (e) {
                      return G(this.ownerDocument || this, this, e);
                    },
                    normalize: function () {
                      for (var e = this.firstChild; e; ) {
                        var t = e.nextSibling;
                        t && t.nodeType == te && e.nodeType == te
                          ? (this.removeChild(t), e.appendData(t.data))
                          : (e.normalize(), (e = t));
                      }
                    },
                    isSupported: function (e, t) {
                      return this.ownerDocument.implementation.hasFeature(e, t);
                    },
                    hasAttributes: function () {
                      return this.attributes.length > 0;
                    },
                    lookupPrefix: function (e) {
                      for (var t = this; t; ) {
                        var i = t._nsMap;
                        if (i) for (var s in i) if (i[s] == e) return s;
                        t = t.nodeType == ee ? t.ownerDocument : t.parentNode;
                      }
                      return null;
                    },
                    lookupNamespaceURI: function (e) {
                      for (var t = this; t; ) {
                        var i = t._nsMap;
                        if (i && e in i) return i[e];
                        t = t.nodeType == ee ? t.ownerDocument : t.parentNode;
                      }
                      return null;
                    },
                    isDefaultNamespace: function (e) {
                      return null == this.lookupPrefix(e);
                    },
                  }),
                  l(Q, y),
                  l(Q, y.prototype),
                  (b.prototype = {
                    nodeName: "#document",
                    nodeType: re,
                    doctype: null,
                    documentElement: null,
                    _inc: 1,
                    insertBefore: function (e, t) {
                      if (e.nodeType == ce) {
                        for (var i = e.firstChild; i; ) {
                          var s = i.nextSibling;
                          this.insertBefore(i, t), (i = s);
                        }
                        return e;
                      }
                      return (
                        null == this.documentElement &&
                          e.nodeType == J &&
                          (this.documentElement = e),
                        A(this, e, t),
                        (e.ownerDocument = this),
                        e
                      );
                    },
                    removeChild: function (e) {
                      return (
                        this.documentElement == e &&
                          (this.documentElement = null),
                        S(this, e)
                      );
                    },
                    importNode: function (e, t) {
                      return j(this, e, t);
                    },
                    getElementById: function (e) {
                      var t = null;
                      return (
                        C(this.documentElement, function (i) {
                          if (i.nodeType == J && i.getAttribute("id") == e)
                            return (t = i), !0;
                        }),
                        t
                      );
                    },
                    getElementsByClassName: function (e) {
                      var t = a(e);
                      return new h(this, function (i) {
                        var s = [];
                        return (
                          t.length > 0 &&
                            C(i.documentElement, function (n) {
                              if (n !== i && n.nodeType === J) {
                                var o = n.getAttribute("class");
                                if (o) {
                                  var l = e === o;
                                  if (!l) {
                                    var c = a(o);
                                    l = t.every(r(c));
                                  }
                                  l && s.push(n);
                                }
                              }
                            }),
                          s
                        );
                      });
                    },
                    createElement: function (e) {
                      var t = new T();
                      return (
                        (t.ownerDocument = this),
                        (t.nodeName = e),
                        (t.tagName = e),
                        (t.localName = e),
                        (t.childNodes = new d()),
                        ((t.attributes = new _())._ownerElement = t),
                        t
                      );
                    },
                    createDocumentFragment: function () {
                      var e = new O();
                      return (
                        (e.ownerDocument = this), (e.childNodes = new d()), e
                      );
                    },
                    createTextNode: function (e) {
                      var t = new R();
                      return (t.ownerDocument = this), t.appendData(e), t;
                    },
                    createComment: function (e) {
                      var t = new M();
                      return (t.ownerDocument = this), t.appendData(e), t;
                    },
                    createCDATASection: function (e) {
                      var t = new P();
                      return (t.ownerDocument = this), t.appendData(e), t;
                    },
                    createProcessingInstruction: function (e, t) {
                      var i = new H();
                      return (
                        (i.ownerDocument = this),
                        (i.tagName = i.target = e),
                        (i.nodeValue = i.data = t),
                        i
                      );
                    },
                    createAttribute: function (e) {
                      var t = new B();
                      return (
                        (t.ownerDocument = this),
                        (t.name = e),
                        (t.nodeName = e),
                        (t.localName = e),
                        (t.specified = !0),
                        t
                      );
                    },
                    createEntityReference: function (e) {
                      var t = new N();
                      return (t.ownerDocument = this), (t.nodeName = e), t;
                    },
                    createElementNS: function (e, t) {
                      var i = new T(),
                        s = t.split(":"),
                        n = (i.attributes = new _());
                      return (
                        (i.childNodes = new d()),
                        (i.ownerDocument = this),
                        (i.nodeName = t),
                        (i.tagName = t),
                        (i.namespaceURI = e),
                        2 == s.length
                          ? ((i.prefix = s[0]), (i.localName = s[1]))
                          : (i.localName = t),
                        (n._ownerElement = i),
                        i
                      );
                    },
                    createAttributeNS: function (e, t) {
                      var i = new B(),
                        s = t.split(":");
                      return (
                        (i.ownerDocument = this),
                        (i.nodeName = t),
                        (i.name = t),
                        (i.namespaceURI = e),
                        (i.specified = !0),
                        2 == s.length
                          ? ((i.prefix = s[0]), (i.localName = s[1]))
                          : (i.localName = t),
                        i
                      );
                    },
                  }),
                  c(b, y),
                  (T.prototype = {
                    nodeType: J,
                    hasAttribute: function (e) {
                      return null != this.getAttributeNode(e);
                    },
                    getAttribute: function (e) {
                      var t = this.getAttributeNode(e);
                      return (t && t.value) || "";
                    },
                    getAttributeNode: function (e) {
                      return this.attributes.getNamedItem(e);
                    },
                    setAttribute: function (e, t) {
                      var i = this.ownerDocument.createAttribute(e);
                      (i.value = i.nodeValue = "" + t),
                        this.setAttributeNode(i);
                    },
                    removeAttribute: function (e) {
                      var t = this.getAttributeNode(e);
                      t && this.removeAttributeNode(t);
                    },
                    appendChild: function (e) {
                      return e.nodeType === ce
                        ? this.insertBefore(e, null)
                        : E(this, e);
                    },
                    setAttributeNode: function (e) {
                      return this.attributes.setNamedItem(e);
                    },
                    setAttributeNodeNS: function (e) {
                      return this.attributes.setNamedItemNS(e);
                    },
                    removeAttributeNode: function (e) {
                      return this.attributes.removeNamedItem(e.nodeName);
                    },
                    removeAttributeNS: function (e, t) {
                      var i = this.getAttributeNodeNS(e, t);
                      i && this.removeAttributeNode(i);
                    },
                    hasAttributeNS: function (e, t) {
                      return null != this.getAttributeNodeNS(e, t);
                    },
                    getAttributeNS: function (e, t) {
                      var i = this.getAttributeNodeNS(e, t);
                      return (i && i.value) || "";
                    },
                    setAttributeNS: function (e, t, i) {
                      var s = this.ownerDocument.createAttributeNS(e, t);
                      (s.value = s.nodeValue = "" + i),
                        this.setAttributeNode(s);
                    },
                    getAttributeNodeNS: function (e, t) {
                      return this.attributes.getNamedItemNS(e, t);
                    },
                    getElementsByTagName: function (e) {
                      return new h(this, function (t) {
                        var i = [];
                        return (
                          C(t, function (s) {
                            s === t ||
                              s.nodeType != J ||
                              ("*" !== e && s.tagName != e) ||
                              i.push(s);
                          }),
                          i
                        );
                      });
                    },
                    getElementsByTagNameNS: function (e, t) {
                      return new h(this, function (i) {
                        var s = [];
                        return (
                          C(i, function (n) {
                            n === i ||
                              n.nodeType !== J ||
                              ("*" !== e && n.namespaceURI !== e) ||
                              ("*" !== t && n.localName != t) ||
                              s.push(n);
                          }),
                          s
                        );
                      });
                    },
                  }),
                  (b.prototype.getElementsByTagName =
                    T.prototype.getElementsByTagName),
                  (b.prototype.getElementsByTagNameNS =
                    T.prototype.getElementsByTagNameNS),
                  c(T, y),
                  (B.prototype.nodeType = ee),
                  c(B, y),
                  ($.prototype = {
                    data: "",
                    substringData: function (e, t) {
                      return this.data.substring(e, e + t);
                    },
                    appendData: function (e) {
                      (e = this.data + e),
                        (this.nodeValue = this.data = e),
                        (this.length = e.length);
                    },
                    insertData: function (e, t) {
                      this.replaceData(e, 0, t);
                    },
                    appendChild: function (e) {
                      throw new Error(he[pe]);
                    },
                    deleteData: function (e, t) {
                      this.replaceData(e, t, "");
                    },
                    replaceData: function (e, t, i) {
                      (i =
                        this.data.substring(0, e) +
                        i +
                        this.data.substring(e + t)),
                        (this.nodeValue = this.data = i),
                        (this.length = i.length);
                    },
                  }),
                  c($, y),
                  (R.prototype = {
                    nodeName: "#text",
                    nodeType: te,
                    splitText: function (e) {
                      var t = this.data,
                        i = t.substring(e);
                      (t = t.substring(0, e)),
                        (this.data = this.nodeValue = t),
                        (this.length = t.length);
                      var s = this.ownerDocument.createTextNode(i);
                      return (
                        this.parentNode &&
                          this.parentNode.insertBefore(s, this.nextSibling),
                        s
                      );
                    },
                  }),
                  c(R, $),
                  (M.prototype = { nodeName: "#comment", nodeType: ae }),
                  c(M, $),
                  (P.prototype = { nodeName: "#cdata-section", nodeType: ie }),
                  c(P, $),
                  (I.prototype.nodeType = le),
                  c(I, y),
                  (F.prototype.nodeType = ue),
                  c(F, y),
                  (U.prototype.nodeType = ne),
                  c(U, y),
                  (N.prototype.nodeType = se),
                  c(N, y),
                  (O.prototype.nodeName = "#document-fragment"),
                  (O.prototype.nodeType = ce),
                  c(O, y),
                  (H.prototype.nodeType = oe),
                  c(H, y),
                  (L.prototype.serializeToString = function (e, t, i) {
                    return K.call(e, t, i);
                  }),
                  (y.prototype.toString = K);
                try {
                  Object.defineProperty &&
                    (Object.defineProperty(h.prototype, "length", {
                      get: function () {
                        return p(this), this.$$length;
                      },
                    }),
                    Object.defineProperty(y.prototype, "textContent", {
                      get: function () {
                        return X(this);
                      },
                      set: function (e) {
                        switch (this.nodeType) {
                          case J:
                          case ce:
                            for (; this.firstChild; )
                              this.removeChild(this.firstChild);
                            (e || String(e)) &&
                              this.appendChild(
                                this.ownerDocument.createTextNode(e)
                              );
                            break;
                          default:
                            (this.data = e),
                              (this.value = e),
                              (this.nodeValue = e);
                        }
                      },
                    }),
                    (V = function (e, t, i) {
                      e["$$" + t] = i;
                    }));
                } catch (e) {}
                (t.DocumentType = I),
                  (t.DOMException = u),
                  (t.DOMImplementation = v),
                  (t.Element = T),
                  (t.Node = y),
                  (t.NodeList = d),
                  (t.XMLSerializer = L);
              },
              function (e, t) {
                var i = function (e) {
                    var t = {},
                      i = function (e) {
                        return !t[e] && (t[e] = []), t[e];
                      };
                    (e.on = function (e, t) {
                      "task-list-update" === e &&
                        console.warn(
                          'warning: Event "' +
                            e +
                            '" has been deprecated. Please use "list-update" instead.'
                        ),
                        i(e).push(t);
                    }),
                      (e.off = function (e, t) {
                        for (var s = i(e), n = s.length - 1; n >= 0; n--)
                          t === s[n] && s.splice(n, 1);
                      }),
                      (e.emit = function (e, t) {
                        for (
                          var s = i(e).map(function (e) {
                              return e;
                            }),
                            n = 0;
                          n < s.length;
                          n++
                        )
                          s[n](t);
                      });
                  },
                  s = function () {
                    i(this);
                  };
                (e.exports.init = i), (e.exports.EventProxy = s);
              },
              function (e, t, i) {
                var s,
                  n,
                  o = i(0),
                  a = function () {
                    try {
                      var e = JSON.parse(
                        localStorage.getItem("cos_sdk_upload_cache")
                      );
                    } catch (e) {}
                    e || (e = []), (s = e);
                  },
                  r = function () {
                    try {
                      localStorage.setItem(
                        "cos_sdk_upload_cache",
                        JSON.stringify(s)
                      );
                    } catch (e) {}
                  },
                  l = function () {
                    if (!s) {
                      a.call(this);
                      for (
                        var e = !1,
                          t = Math.round(Date.now() / 1e3),
                          i = s.length - 1;
                        i >= 0;
                        i--
                      ) {
                        var n = s[i][2];
                        (!n || n + 2592e3 < t) && (s.splice(i, 1), (e = !0));
                      }
                      e && r();
                    }
                  },
                  c = function () {
                    n ||
                      (n = setTimeout(function () {
                        r(), (n = null);
                      }, 400));
                  },
                  u = {
                    using: {},
                    setUsing: function (e) {
                      u.using[e] = !0;
                    },
                    removeUsing: function (e) {
                      delete u.using[e];
                    },
                    getFileId: function (e, t, i, s) {
                      return e.name && e.size && e.lastModifiedDate && t
                        ? o.md5(
                            [e.name, e.size, e.lastModifiedDate, t, i, s].join(
                              "::"
                            )
                          )
                        : null;
                    },
                    getUploadIdList: function (e) {
                      if (!e) return null;
                      l.call(this);
                      for (var t = [], i = 0; i < s.length; i++)
                        s[i][0] === e && t.push(s[i][1]);
                      return t.length ? t : null;
                    },
                    saveUploadId: function (e, t, i) {
                      if ((l.call(this), e)) {
                        for (var n = s.length - 1; n >= 0; n--) {
                          var o = s[n];
                          o[0] === e && o[1] === t && s.splice(n, 1);
                        }
                        s.unshift([e, t, Math.round(Date.now() / 1e3)]),
                          s.length > i && s.splice(i),
                          c();
                      }
                    },
                    removeUploadId: function (e) {
                      l.call(this), delete u.using[e];
                      for (var t = s.length - 1; t >= 0; t--)
                        s[t][1] === e && s.splice(t, 1);
                      c();
                    },
                  };
                e.exports = u;
              },
              function (e, t, i) {
                var s = i(7);
                e.exports = s;
              },
              function (e, t, i) {
                "use strict";
                var s = i(0),
                  n = i(4),
                  o = i(18),
                  a = i(19),
                  r = i(21),
                  l = {
                    AppId: "",
                    SecretId: "",
                    SecretKey: "",
                    SecurityToken: "",
                    ChunkRetryTimes: 2,
                    FileParallelLimit: 3,
                    ChunkParallelLimit: 3,
                    ChunkSize: 1048576,
                    SliceSize: 1048576,
                    CopyChunkParallelLimit: 20,
                    CopyChunkSize: 10485760,
                    CopySliceSize: 10485760,
                    MaxPartNumber: 1e4,
                    ProgressInterval: 1e3,
                    Domain: "",
                    ServiceDomain: "",
                    Protocol: "",
                    CompatibilityMode: !1,
                    ForcePathStyle: !1,
                    UseRawKey: !1,
                    Timeout: 0,
                    CorrectClockSkew: !0,
                    SystemClockOffset: 0,
                    UploadCheckContentMd5: !1,
                    UploadQueueSize: 1e4,
                    UploadAddMetaMd5: !1,
                    UploadIdCacheLimit: 50,
                    UseAccelerate: !1,
                    ForceSignHost: !0,
                  },
                  c = function (e) {
                    (this.options = s.extend(s.clone(l), e || {})),
                      (this.options.FileParallelLimit = Math.max(
                        1,
                        this.options.FileParallelLimit
                      )),
                      (this.options.ChunkParallelLimit = Math.max(
                        1,
                        this.options.ChunkParallelLimit
                      )),
                      (this.options.ChunkRetryTimes = Math.max(
                        0,
                        this.options.ChunkRetryTimes
                      )),
                      (this.options.ChunkSize = Math.max(
                        1048576,
                        this.options.ChunkSize
                      )),
                      (this.options.CopyChunkParallelLimit = Math.max(
                        1,
                        this.options.CopyChunkParallelLimit
                      )),
                      (this.options.CopyChunkSize = Math.max(
                        1048576,
                        this.options.CopyChunkSize
                      )),
                      (this.options.CopySliceSize = Math.max(
                        0,
                        this.options.CopySliceSize
                      )),
                      (this.options.MaxPartNumber = Math.max(
                        1024,
                        Math.min(1e4, this.options.MaxPartNumber)
                      )),
                      (this.options.Timeout = Math.max(
                        0,
                        this.options.Timeout
                      )),
                      this.options.AppId &&
                        console.warn(
                          'warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: "test-1250000000").'
                        ),
                      this.options.SecretId &&
                        this.options.SecretId.indexOf(" ") > -1 &&
                        (console.error("error: SecretId格式错误，请检查"),
                        console.error(
                          "error: SecretId format is incorrect. Please check"
                        )),
                      this.options.SecretKey &&
                        this.options.SecretKey.indexOf(" ") > -1 &&
                        (console.error("error: SecretKey格式错误，请检查"),
                        console.error(
                          "error: SecretKey format is incorrect. Please check"
                        )),
                      s.isNode() &&
                        (console.warn(
                          "warning: cos-js-sdk-v5 不支持 nodejs 环境使用，请改用 cos-nodejs-sdk-v5，参考文档： https://cloud.tencent.com/document/product/436/8629"
                        ),
                        console.warn(
                          "warning: cos-js-sdk-v5 does not support nodejs environment. Please use cos-nodejs-sdk-v5 instead. See: https://cloud.tencent.com/document/product/436/8629"
                        )),
                      n.init(this),
                      o.init(this);
                  };
                a.init(c, o),
                  r.init(c, o),
                  (c.util = {
                    md5: s.md5,
                    xml2json: s.xml2json,
                    json2xml: s.json2xml,
                  }),
                  (c.getAuthorization = s.getAuth),
                  (c.version = "1.3.8"),
                  (e.exports = c);
              },
              function (module, exports, __nested_webpack_require_53650__) {
                (function (process, global) {
                  var __WEBPACK_AMD_DEFINE_RESULT__;
                  !(function () {
                    "use strict";
                    function Md5(e) {
                      if (e)
                        (blocks[0] =
                          blocks[16] =
                          blocks[1] =
                          blocks[2] =
                          blocks[3] =
                          blocks[4] =
                          blocks[5] =
                          blocks[6] =
                          blocks[7] =
                          blocks[8] =
                          blocks[9] =
                          blocks[10] =
                          blocks[11] =
                          blocks[12] =
                          blocks[13] =
                          blocks[14] =
                          blocks[15] =
                            0),
                          (this.blocks = blocks),
                          (this.buffer8 = buffer8);
                      else if (ARRAY_BUFFER) {
                        var t = new ArrayBuffer(68);
                        (this.buffer8 = new Uint8Array(t)),
                          (this.blocks = new Uint32Array(t));
                      } else
                        this.blocks = [
                          0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        ];
                      (this.h0 =
                        this.h1 =
                        this.h2 =
                        this.h3 =
                        this.start =
                        this.bytes =
                        this.hBytes =
                          0),
                        (this.finalized = this.hashed = !1),
                        (this.first = !0);
                    }
                    var ERROR = "input is invalid type",
                      WINDOW = "object" == typeof window,
                      root = WINDOW ? window : {};
                    root.JS_MD5_NO_WINDOW && (WINDOW = !1);
                    var WEB_WORKER = !WINDOW && "object" == typeof self,
                      NODE_JS =
                        !root.JS_MD5_NO_NODE_JS &&
                        "object" == typeof process &&
                        process.versions &&
                        process.versions.node;
                    NODE_JS ? (root = global) : WEB_WORKER && (root = self);
                    var COMMON_JS =
                        !root.JS_MD5_NO_COMMON_JS &&
                        "object" == typeof module &&
                        module.exports,
                      AMD = __nested_webpack_require_53650__(10),
                      ARRAY_BUFFER =
                        !root.JS_MD5_NO_ARRAY_BUFFER &&
                        "undefined" != typeof ArrayBuffer,
                      HEX_CHARS = "0123456789abcdef".split(""),
                      EXTRA = [128, 32768, 8388608, -2147483648],
                      SHIFT = [0, 8, 16, 24],
                      OUTPUT_TYPES = [
                        "hex",
                        "array",
                        "digest",
                        "buffer",
                        "arrayBuffer",
                        "base64",
                      ],
                      BASE64_ENCODE_CHAR =
                        "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(
                          ""
                        ),
                      blocks = [],
                      buffer8;
                    if (ARRAY_BUFFER) {
                      var buffer = new ArrayBuffer(68);
                      (buffer8 = new Uint8Array(buffer)),
                        (blocks = new Uint32Array(buffer));
                    }
                    (!root.JS_MD5_NO_NODE_JS && Array.isArray) ||
                      (Array.isArray = function (e) {
                        return (
                          "[object Array]" === Object.prototype.toString.call(e)
                        );
                      }),
                      !ARRAY_BUFFER ||
                        (!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW &&
                          ArrayBuffer.isView) ||
                        (ArrayBuffer.isView = function (e) {
                          return (
                            "object" == typeof e &&
                            e.buffer &&
                            e.buffer.constructor === ArrayBuffer
                          );
                        });
                    var createOutputMethod = function (e) {
                        return function (t, i) {
                          return new Md5(!0).update(t, i)[e]();
                        };
                      },
                      createMethod = function () {
                        var e = createOutputMethod("hex");
                        NODE_JS && (e = nodeWrap(e)),
                          (e.getCtx = e.create =
                            function () {
                              return new Md5();
                            }),
                          (e.update = function (t) {
                            return e.create().update(t);
                          });
                        for (var t = 0; t < OUTPUT_TYPES.length; ++t) {
                          var i = OUTPUT_TYPES[t];
                          e[i] = createOutputMethod(i);
                        }
                        return e;
                      },
                      nodeWrap = function (method) {
                        var crypto = eval("require('crypto')"),
                          Buffer = eval("require('buffer').Buffer"),
                          nodeMethod = function (e) {
                            if ("string" == typeof e)
                              return crypto
                                .createHash("md5")
                                .update(e, "utf8")
                                .digest("hex");
                            if (null === e || void 0 === e) throw ERROR;
                            return (
                              e.constructor === ArrayBuffer &&
                                (e = new Uint8Array(e)),
                              Array.isArray(e) ||
                              ArrayBuffer.isView(e) ||
                              e.constructor === Buffer
                                ? crypto
                                    .createHash("md5")
                                    .update(new Buffer(e))
                                    .digest("hex")
                                : method(e)
                            );
                          };
                        return nodeMethod;
                      };
                    (Md5.prototype.update = function (e, t) {
                      if (!this.finalized) {
                        for (
                          var i,
                            s,
                            n = 0,
                            o = e.length,
                            a = this.blocks,
                            r = this.buffer8;
                          n < o;

                        ) {
                          if (
                            (this.hashed &&
                              ((this.hashed = !1),
                              (a[0] = a[16]),
                              (a[16] =
                                a[1] =
                                a[2] =
                                a[3] =
                                a[4] =
                                a[5] =
                                a[6] =
                                a[7] =
                                a[8] =
                                a[9] =
                                a[10] =
                                a[11] =
                                a[12] =
                                a[13] =
                                a[14] =
                                a[15] =
                                  0)),
                            ARRAY_BUFFER)
                          )
                            for (s = this.start; n < o && s < 64; ++n)
                              (i = e.charCodeAt(n)),
                                t || i < 128
                                  ? (r[s++] = i)
                                  : i < 2048
                                  ? ((r[s++] = 192 | (i >> 6)),
                                    (r[s++] = 128 | (63 & i)))
                                  : i < 55296 || i >= 57344
                                  ? ((r[s++] = 224 | (i >> 12)),
                                    (r[s++] = 128 | ((i >> 6) & 63)),
                                    (r[s++] = 128 | (63 & i)))
                                  : ((i =
                                      65536 +
                                      (((1023 & i) << 10) |
                                        (1023 & e.charCodeAt(++n)))),
                                    (r[s++] = 240 | (i >> 18)),
                                    (r[s++] = 128 | ((i >> 12) & 63)),
                                    (r[s++] = 128 | ((i >> 6) & 63)),
                                    (r[s++] = 128 | (63 & i)));
                          else
                            for (s = this.start; n < o && s < 64; ++n)
                              (i = e.charCodeAt(n)),
                                t || i < 128
                                  ? (a[s >> 2] |= i << SHIFT[3 & s++])
                                  : i < 2048
                                  ? ((a[s >> 2] |=
                                      (192 | (i >> 6)) << SHIFT[3 & s++]),
                                    (a[s >> 2] |=
                                      (128 | (63 & i)) << SHIFT[3 & s++]))
                                  : i < 55296 || i >= 57344
                                  ? ((a[s >> 2] |=
                                      (224 | (i >> 12)) << SHIFT[3 & s++]),
                                    (a[s >> 2] |=
                                      (128 | ((i >> 6) & 63)) <<
                                      SHIFT[3 & s++]),
                                    (a[s >> 2] |=
                                      (128 | (63 & i)) << SHIFT[3 & s++]))
                                  : ((i =
                                      65536 +
                                      (((1023 & i) << 10) |
                                        (1023 & e.charCodeAt(++n)))),
                                    (a[s >> 2] |=
                                      (240 | (i >> 18)) << SHIFT[3 & s++]),
                                    (a[s >> 2] |=
                                      (128 | ((i >> 12) & 63)) <<
                                      SHIFT[3 & s++]),
                                    (a[s >> 2] |=
                                      (128 | ((i >> 6) & 63)) <<
                                      SHIFT[3 & s++]),
                                    (a[s >> 2] |=
                                      (128 | (63 & i)) << SHIFT[3 & s++]));
                          (this.lastByteIndex = s),
                            (this.bytes += s - this.start),
                            s >= 64
                              ? ((this.start = s - 64),
                                this.hash(),
                                (this.hashed = !0))
                              : (this.start = s);
                        }
                        return (
                          this.bytes > 4294967295 &&
                            ((this.hBytes += (this.bytes / 4294967296) << 0),
                            (this.bytes = this.bytes % 4294967296)),
                          this
                        );
                      }
                    }),
                      (Md5.prototype.finalize = function () {
                        if (!this.finalized) {
                          this.finalized = !0;
                          var e = this.blocks,
                            t = this.lastByteIndex;
                          (e[t >> 2] |= EXTRA[3 & t]),
                            t >= 56 &&
                              (this.hashed || this.hash(),
                              (e[0] = e[16]),
                              (e[16] =
                                e[1] =
                                e[2] =
                                e[3] =
                                e[4] =
                                e[5] =
                                e[6] =
                                e[7] =
                                e[8] =
                                e[9] =
                                e[10] =
                                e[11] =
                                e[12] =
                                e[13] =
                                e[14] =
                                e[15] =
                                  0)),
                            (e[14] = this.bytes << 3),
                            (e[15] = (this.hBytes << 3) | (this.bytes >>> 29)),
                            this.hash();
                        }
                      }),
                      (Md5.prototype.hash = function () {
                        var e,
                          t,
                          i,
                          s,
                          n,
                          o,
                          a = this.blocks;
                        this.first
                          ? ((e = a[0] - 680876937),
                            (e = (((e << 7) | (e >>> 25)) - 271733879) << 0),
                            (s =
                              (-1732584194 ^ (2004318071 & e)) +
                              a[1] -
                              117830708),
                            (s = (((s << 12) | (s >>> 20)) + e) << 0),
                            (i =
                              (-271733879 ^ (s & (-271733879 ^ e))) +
                              a[2] -
                              1126478375),
                            (i = (((i << 17) | (i >>> 15)) + s) << 0),
                            (t = (e ^ (i & (s ^ e))) + a[3] - 1316259209),
                            (t = (((t << 22) | (t >>> 10)) + i) << 0))
                          : ((e = this.h0),
                            (t = this.h1),
                            (i = this.h2),
                            (s = this.h3),
                            (e += (s ^ (t & (i ^ s))) + a[0] - 680876936),
                            (e = (((e << 7) | (e >>> 25)) + t) << 0),
                            (s += (i ^ (e & (t ^ i))) + a[1] - 389564586),
                            (s = (((s << 12) | (s >>> 20)) + e) << 0),
                            (i += (t ^ (s & (e ^ t))) + a[2] + 606105819),
                            (i = (((i << 17) | (i >>> 15)) + s) << 0),
                            (t += (e ^ (i & (s ^ e))) + a[3] - 1044525330),
                            (t = (((t << 22) | (t >>> 10)) + i) << 0)),
                          (e += (s ^ (t & (i ^ s))) + a[4] - 176418897),
                          (e = (((e << 7) | (e >>> 25)) + t) << 0),
                          (s += (i ^ (e & (t ^ i))) + a[5] + 1200080426),
                          (s = (((s << 12) | (s >>> 20)) + e) << 0),
                          (i += (t ^ (s & (e ^ t))) + a[6] - 1473231341),
                          (i = (((i << 17) | (i >>> 15)) + s) << 0),
                          (t += (e ^ (i & (s ^ e))) + a[7] - 45705983),
                          (t = (((t << 22) | (t >>> 10)) + i) << 0),
                          (e += (s ^ (t & (i ^ s))) + a[8] + 1770035416),
                          (e = (((e << 7) | (e >>> 25)) + t) << 0),
                          (s += (i ^ (e & (t ^ i))) + a[9] - 1958414417),
                          (s = (((s << 12) | (s >>> 20)) + e) << 0),
                          (i += (t ^ (s & (e ^ t))) + a[10] - 42063),
                          (i = (((i << 17) | (i >>> 15)) + s) << 0),
                          (t += (e ^ (i & (s ^ e))) + a[11] - 1990404162),
                          (t = (((t << 22) | (t >>> 10)) + i) << 0),
                          (e += (s ^ (t & (i ^ s))) + a[12] + 1804603682),
                          (e = (((e << 7) | (e >>> 25)) + t) << 0),
                          (s += (i ^ (e & (t ^ i))) + a[13] - 40341101),
                          (s = (((s << 12) | (s >>> 20)) + e) << 0),
                          (i += (t ^ (s & (e ^ t))) + a[14] - 1502002290),
                          (i = (((i << 17) | (i >>> 15)) + s) << 0),
                          (t += (e ^ (i & (s ^ e))) + a[15] + 1236535329),
                          (t = (((t << 22) | (t >>> 10)) + i) << 0),
                          (e += (i ^ (s & (t ^ i))) + a[1] - 165796510),
                          (e = (((e << 5) | (e >>> 27)) + t) << 0),
                          (s += (t ^ (i & (e ^ t))) + a[6] - 1069501632),
                          (s = (((s << 9) | (s >>> 23)) + e) << 0),
                          (i += (e ^ (t & (s ^ e))) + a[11] + 643717713),
                          (i = (((i << 14) | (i >>> 18)) + s) << 0),
                          (t += (s ^ (e & (i ^ s))) + a[0] - 373897302),
                          (t = (((t << 20) | (t >>> 12)) + i) << 0),
                          (e += (i ^ (s & (t ^ i))) + a[5] - 701558691),
                          (e = (((e << 5) | (e >>> 27)) + t) << 0),
                          (s += (t ^ (i & (e ^ t))) + a[10] + 38016083),
                          (s = (((s << 9) | (s >>> 23)) + e) << 0),
                          (i += (e ^ (t & (s ^ e))) + a[15] - 660478335),
                          (i = (((i << 14) | (i >>> 18)) + s) << 0),
                          (t += (s ^ (e & (i ^ s))) + a[4] - 405537848),
                          (t = (((t << 20) | (t >>> 12)) + i) << 0),
                          (e += (i ^ (s & (t ^ i))) + a[9] + 568446438),
                          (e = (((e << 5) | (e >>> 27)) + t) << 0),
                          (s += (t ^ (i & (e ^ t))) + a[14] - 1019803690),
                          (s = (((s << 9) | (s >>> 23)) + e) << 0),
                          (i += (e ^ (t & (s ^ e))) + a[3] - 187363961),
                          (i = (((i << 14) | (i >>> 18)) + s) << 0),
                          (t += (s ^ (e & (i ^ s))) + a[8] + 1163531501),
                          (t = (((t << 20) | (t >>> 12)) + i) << 0),
                          (e += (i ^ (s & (t ^ i))) + a[13] - 1444681467),
                          (e = (((e << 5) | (e >>> 27)) + t) << 0),
                          (s += (t ^ (i & (e ^ t))) + a[2] - 51403784),
                          (s = (((s << 9) | (s >>> 23)) + e) << 0),
                          (i += (e ^ (t & (s ^ e))) + a[7] + 1735328473),
                          (i = (((i << 14) | (i >>> 18)) + s) << 0),
                          (t += (s ^ (e & (i ^ s))) + a[12] - 1926607734),
                          (t = (((t << 20) | (t >>> 12)) + i) << 0),
                          (n = t ^ i),
                          (e += (n ^ s) + a[5] - 378558),
                          (e = (((e << 4) | (e >>> 28)) + t) << 0),
                          (s += (n ^ e) + a[8] - 2022574463),
                          (s = (((s << 11) | (s >>> 21)) + e) << 0),
                          (o = s ^ e),
                          (i += (o ^ t) + a[11] + 1839030562),
                          (i = (((i << 16) | (i >>> 16)) + s) << 0),
                          (t += (o ^ i) + a[14] - 35309556),
                          (t = (((t << 23) | (t >>> 9)) + i) << 0),
                          (n = t ^ i),
                          (e += (n ^ s) + a[1] - 1530992060),
                          (e = (((e << 4) | (e >>> 28)) + t) << 0),
                          (s += (n ^ e) + a[4] + 1272893353),
                          (s = (((s << 11) | (s >>> 21)) + e) << 0),
                          (o = s ^ e),
                          (i += (o ^ t) + a[7] - 155497632),
                          (i = (((i << 16) | (i >>> 16)) + s) << 0),
                          (t += (o ^ i) + a[10] - 1094730640),
                          (t = (((t << 23) | (t >>> 9)) + i) << 0),
                          (n = t ^ i),
                          (e += (n ^ s) + a[13] + 681279174),
                          (e = (((e << 4) | (e >>> 28)) + t) << 0),
                          (s += (n ^ e) + a[0] - 358537222),
                          (s = (((s << 11) | (s >>> 21)) + e) << 0),
                          (o = s ^ e),
                          (i += (o ^ t) + a[3] - 722521979),
                          (i = (((i << 16) | (i >>> 16)) + s) << 0),
                          (t += (o ^ i) + a[6] + 76029189),
                          (t = (((t << 23) | (t >>> 9)) + i) << 0),
                          (n = t ^ i),
                          (e += (n ^ s) + a[9] - 640364487),
                          (e = (((e << 4) | (e >>> 28)) + t) << 0),
                          (s += (n ^ e) + a[12] - 421815835),
                          (s = (((s << 11) | (s >>> 21)) + e) << 0),
                          (o = s ^ e),
                          (i += (o ^ t) + a[15] + 530742520),
                          (i = (((i << 16) | (i >>> 16)) + s) << 0),
                          (t += (o ^ i) + a[2] - 995338651),
                          (t = (((t << 23) | (t >>> 9)) + i) << 0),
                          (e += (i ^ (t | ~s)) + a[0] - 198630844),
                          (e = (((e << 6) | (e >>> 26)) + t) << 0),
                          (s += (t ^ (e | ~i)) + a[7] + 1126891415),
                          (s = (((s << 10) | (s >>> 22)) + e) << 0),
                          (i += (e ^ (s | ~t)) + a[14] - 1416354905),
                          (i = (((i << 15) | (i >>> 17)) + s) << 0),
                          (t += (s ^ (i | ~e)) + a[5] - 57434055),
                          (t = (((t << 21) | (t >>> 11)) + i) << 0),
                          (e += (i ^ (t | ~s)) + a[12] + 1700485571),
                          (e = (((e << 6) | (e >>> 26)) + t) << 0),
                          (s += (t ^ (e | ~i)) + a[3] - 1894986606),
                          (s = (((s << 10) | (s >>> 22)) + e) << 0),
                          (i += (e ^ (s | ~t)) + a[10] - 1051523),
                          (i = (((i << 15) | (i >>> 17)) + s) << 0),
                          (t += (s ^ (i | ~e)) + a[1] - 2054922799),
                          (t = (((t << 21) | (t >>> 11)) + i) << 0),
                          (e += (i ^ (t | ~s)) + a[8] + 1873313359),
                          (e = (((e << 6) | (e >>> 26)) + t) << 0),
                          (s += (t ^ (e | ~i)) + a[15] - 30611744),
                          (s = (((s << 10) | (s >>> 22)) + e) << 0),
                          (i += (e ^ (s | ~t)) + a[6] - 1560198380),
                          (i = (((i << 15) | (i >>> 17)) + s) << 0),
                          (t += (s ^ (i | ~e)) + a[13] + 1309151649),
                          (t = (((t << 21) | (t >>> 11)) + i) << 0),
                          (e += (i ^ (t | ~s)) + a[4] - 145523070),
                          (e = (((e << 6) | (e >>> 26)) + t) << 0),
                          (s += (t ^ (e | ~i)) + a[11] - 1120210379),
                          (s = (((s << 10) | (s >>> 22)) + e) << 0),
                          (i += (e ^ (s | ~t)) + a[2] + 718787259),
                          (i = (((i << 15) | (i >>> 17)) + s) << 0),
                          (t += (s ^ (i | ~e)) + a[9] - 343485551),
                          (t = (((t << 21) | (t >>> 11)) + i) << 0),
                          this.first
                            ? ((this.h0 = (e + 1732584193) << 0),
                              (this.h1 = (t - 271733879) << 0),
                              (this.h2 = (i - 1732584194) << 0),
                              (this.h3 = (s + 271733878) << 0),
                              (this.first = !1))
                            : ((this.h0 = (this.h0 + e) << 0),
                              (this.h1 = (this.h1 + t) << 0),
                              (this.h2 = (this.h2 + i) << 0),
                              (this.h3 = (this.h3 + s) << 0));
                      }),
                      (Md5.prototype.hex = function () {
                        this.finalize();
                        var e = this.h0,
                          t = this.h1,
                          i = this.h2,
                          s = this.h3;
                        return (
                          HEX_CHARS[(e >> 4) & 15] +
                          HEX_CHARS[15 & e] +
                          HEX_CHARS[(e >> 12) & 15] +
                          HEX_CHARS[(e >> 8) & 15] +
                          HEX_CHARS[(e >> 20) & 15] +
                          HEX_CHARS[(e >> 16) & 15] +
                          HEX_CHARS[(e >> 28) & 15] +
                          HEX_CHARS[(e >> 24) & 15] +
                          HEX_CHARS[(t >> 4) & 15] +
                          HEX_CHARS[15 & t] +
                          HEX_CHARS[(t >> 12) & 15] +
                          HEX_CHARS[(t >> 8) & 15] +
                          HEX_CHARS[(t >> 20) & 15] +
                          HEX_CHARS[(t >> 16) & 15] +
                          HEX_CHARS[(t >> 28) & 15] +
                          HEX_CHARS[(t >> 24) & 15] +
                          HEX_CHARS[(i >> 4) & 15] +
                          HEX_CHARS[15 & i] +
                          HEX_CHARS[(i >> 12) & 15] +
                          HEX_CHARS[(i >> 8) & 15] +
                          HEX_CHARS[(i >> 20) & 15] +
                          HEX_CHARS[(i >> 16) & 15] +
                          HEX_CHARS[(i >> 28) & 15] +
                          HEX_CHARS[(i >> 24) & 15] +
                          HEX_CHARS[(s >> 4) & 15] +
                          HEX_CHARS[15 & s] +
                          HEX_CHARS[(s >> 12) & 15] +
                          HEX_CHARS[(s >> 8) & 15] +
                          HEX_CHARS[(s >> 20) & 15] +
                          HEX_CHARS[(s >> 16) & 15] +
                          HEX_CHARS[(s >> 28) & 15] +
                          HEX_CHARS[(s >> 24) & 15]
                        );
                      }),
                      (Md5.prototype.toString = Md5.prototype.hex),
                      (Md5.prototype.digest = function (e) {
                        if ("hex" === e) return this.hex();
                        this.finalize();
                        var t = this.h0,
                          i = this.h1,
                          s = this.h2,
                          n = this.h3;
                        return [
                          255 & t,
                          (t >> 8) & 255,
                          (t >> 16) & 255,
                          (t >> 24) & 255,
                          255 & i,
                          (i >> 8) & 255,
                          (i >> 16) & 255,
                          (i >> 24) & 255,
                          255 & s,
                          (s >> 8) & 255,
                          (s >> 16) & 255,
                          (s >> 24) & 255,
                          255 & n,
                          (n >> 8) & 255,
                          (n >> 16) & 255,
                          (n >> 24) & 255,
                        ];
                      }),
                      (Md5.prototype.array = Md5.prototype.digest),
                      (Md5.prototype.arrayBuffer = function () {
                        this.finalize();
                        var e = new ArrayBuffer(16),
                          t = new Uint32Array(e);
                        return (
                          (t[0] = this.h0),
                          (t[1] = this.h1),
                          (t[2] = this.h2),
                          (t[3] = this.h3),
                          e
                        );
                      }),
                      (Md5.prototype.buffer = Md5.prototype.arrayBuffer),
                      (Md5.prototype.base64 = function () {
                        for (
                          var e, t, i, s = "", n = this.array(), o = 0;
                          o < 15;

                        )
                          (e = n[o++]),
                            (t = n[o++]),
                            (i = n[o++]),
                            (s +=
                              BASE64_ENCODE_CHAR[e >>> 2] +
                              BASE64_ENCODE_CHAR[63 & ((e << 4) | (t >>> 4))] +
                              BASE64_ENCODE_CHAR[63 & ((t << 2) | (i >>> 6))] +
                              BASE64_ENCODE_CHAR[63 & i]);
                        return (
                          (e = n[o]),
                          s +
                            (BASE64_ENCODE_CHAR[e >>> 2] +
                              BASE64_ENCODE_CHAR[(e << 4) & 63] +
                              "==")
                        );
                      });
                    var exports = createMethod();
                    COMMON_JS
                      ? (module.exports = exports)
                      : ((root.md5 = exports),
                        AMD &&
                          void 0 !==
                            (__WEBPACK_AMD_DEFINE_RESULT__ = function () {
                              return exports;
                            }.call(
                              exports,
                              __nested_webpack_require_53650__,
                              exports,
                              module
                            )) &&
                          (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
                  })();
                }).call(
                  exports,
                  __nested_webpack_require_53650__(2),
                  __nested_webpack_require_53650__(9)
                );
              },
              function (e, t) {
                var i;
                i = (function () {
                  return this;
                })();
                try {
                  i = i || Function("return this")() || (0, eval)("this");
                } catch (e) {
                  "object" == typeof window && (i = window);
                }
                e.exports = i;
              },
              function (e, t) {
                (function (t) {
                  e.exports = t;
                }).call(t, {});
              },
              function (e, t, i) {
                var s =
                  s ||
                  (function (e, t) {
                    var i = {},
                      s = (i.lib = {}),
                      n = function () {},
                      o = (s.Base = {
                        extend: function (e) {
                          n.prototype = this;
                          var t = new n();
                          return (
                            e && t.mixIn(e),
                            t.hasOwnProperty("init") ||
                              (t.init = function () {
                                t.$super.init.apply(this, arguments);
                              }),
                            (t.init.prototype = t),
                            (t.$super = this),
                            t
                          );
                        },
                        create: function () {
                          var e = this.extend();
                          return e.init.apply(e, arguments), e;
                        },
                        init: function () {},
                        mixIn: function (e) {
                          for (var t in e)
                            e.hasOwnProperty(t) && (this[t] = e[t]);
                          e.hasOwnProperty("toString") &&
                            (this.toString = e.toString);
                        },
                        clone: function () {
                          return this.init.prototype.extend(this);
                        },
                      }),
                      a = (s.WordArray = o.extend({
                        init: function (e, t) {
                          (e = this.words = e || []),
                            (this.sigBytes = void 0 != t ? t : 4 * e.length);
                        },
                        toString: function (e) {
                          return (e || l).stringify(this);
                        },
                        concat: function (e) {
                          var t = this.words,
                            i = e.words,
                            s = this.sigBytes;
                          if (((e = e.sigBytes), this.clamp(), s % 4))
                            for (var n = 0; n < e; n++)
                              t[(s + n) >>> 2] |=
                                ((i[n >>> 2] >>> (24 - (n % 4) * 8)) & 255) <<
                                (24 - ((s + n) % 4) * 8);
                          else if (65535 < i.length)
                            for (n = 0; n < e; n += 4)
                              t[(s + n) >>> 2] = i[n >>> 2];
                          else t.push.apply(t, i);
                          return (this.sigBytes += e), this;
                        },
                        clamp: function () {
                          var t = this.words,
                            i = this.sigBytes;
                          (t[i >>> 2] &= 4294967295 << (32 - (i % 4) * 8)),
                            (t.length = e.ceil(i / 4));
                        },
                        clone: function () {
                          var e = o.clone.call(this);
                          return (e.words = this.words.slice(0)), e;
                        },
                        random: function (t) {
                          for (var i = [], s = 0; s < t; s += 4)
                            i.push((4294967296 * e.random()) | 0);
                          return new a.init(i, t);
                        },
                      })),
                      r = (i.enc = {}),
                      l = (r.Hex = {
                        stringify: function (e) {
                          var t = e.words;
                          e = e.sigBytes;
                          for (var i = [], s = 0; s < e; s++) {
                            var n = (t[s >>> 2] >>> (24 - (s % 4) * 8)) & 255;
                            i.push((n >>> 4).toString(16)),
                              i.push((15 & n).toString(16));
                          }
                          return i.join("");
                        },
                        parse: function (e) {
                          for (var t = e.length, i = [], s = 0; s < t; s += 2)
                            i[s >>> 3] |=
                              parseInt(e.substr(s, 2), 16) <<
                              (24 - (s % 8) * 4);
                          return new a.init(i, t / 2);
                        },
                      }),
                      c = (r.Latin1 = {
                        stringify: function (e) {
                          var t = e.words;
                          e = e.sigBytes;
                          for (var i = [], s = 0; s < e; s++)
                            i.push(
                              String.fromCharCode(
                                (t[s >>> 2] >>> (24 - (s % 4) * 8)) & 255
                              )
                            );
                          return i.join("");
                        },
                        parse: function (e) {
                          for (var t = e.length, i = [], s = 0; s < t; s++)
                            i[s >>> 2] |=
                              (255 & e.charCodeAt(s)) << (24 - (s % 4) * 8);
                          return new a.init(i, t);
                        },
                      }),
                      u = (r.Utf8 = {
                        stringify: function (e) {
                          try {
                            return decodeURIComponent(escape(c.stringify(e)));
                          } catch (e) {
                            throw Error("Malformed UTF-8 data");
                          }
                        },
                        parse: function (e) {
                          return c.parse(unescape(encodeURIComponent(e)));
                        },
                      }),
                      d = (s.BufferedBlockAlgorithm = o.extend({
                        reset: function () {
                          (this._data = new a.init()), (this._nDataBytes = 0);
                        },
                        _append: function (e) {
                          "string" == typeof e && (e = u.parse(e)),
                            this._data.concat(e),
                            (this._nDataBytes += e.sigBytes);
                        },
                        _process: function (t) {
                          var i = this._data,
                            s = i.words,
                            n = i.sigBytes,
                            o = this.blockSize,
                            r = n / (4 * o);
                          r = t
                            ? e.ceil(r)
                            : e.max((0 | r) - this._minBufferSize, 0);
                          if (((t = r * o), (n = e.min(4 * t, n)), t)) {
                            for (var l = 0; l < t; l += o)
                              this._doProcessBlock(s, l);
                            (l = s.splice(0, t)), (i.sigBytes -= n);
                          }
                          return new a.init(l, n);
                        },
                        clone: function () {
                          var e = o.clone.call(this);
                          return (e._data = this._data.clone()), e;
                        },
                        _minBufferSize: 0,
                      }));
                    s.Hasher = d.extend({
                      cfg: o.extend(),
                      init: function (e) {
                        (this.cfg = this.cfg.extend(e)), this.reset();
                      },
                      reset: function () {
                        d.reset.call(this), this._doReset();
                      },
                      update: function (e) {
                        return this._append(e), this._process(), this;
                      },
                      finalize: function (e) {
                        return e && this._append(e), this._doFinalize();
                      },
                      blockSize: 16,
                      _createHelper: function (e) {
                        return function (t, i) {
                          return new e.init(i).finalize(t);
                        };
                      },
                      _createHmacHelper: function (e) {
                        return function (t, i) {
                          return new h.HMAC.init(e, i).finalize(t);
                        };
                      },
                    });
                    var h = (i.algo = {});
                    return i;
                  })(Math);
                !(function () {
                  var e = s,
                    t = e.lib,
                    i = t.WordArray,
                    n = t.Hasher,
                    o = [];
                  t = e.algo.SHA1 = n.extend({
                    _doReset: function () {
                      this._hash = new i.init([
                        1732584193, 4023233417, 2562383102, 271733878,
                        3285377520,
                      ]);
                    },
                    _doProcessBlock: function (e, t) {
                      for (
                        var i = this._hash.words,
                          s = i[0],
                          n = i[1],
                          a = i[2],
                          r = i[3],
                          l = i[4],
                          c = 0;
                        80 > c;
                        c++
                      ) {
                        if (16 > c) o[c] = 0 | e[t + c];
                        else {
                          var u = o[c - 3] ^ o[c - 8] ^ o[c - 14] ^ o[c - 16];
                          o[c] = (u << 1) | (u >>> 31);
                        }
                        (u = ((s << 5) | (s >>> 27)) + l + o[c]),
                          (u =
                            20 > c
                              ? u + (1518500249 + ((n & a) | (~n & r)))
                              : 40 > c
                              ? u + (1859775393 + (n ^ a ^ r))
                              : 60 > c
                              ? u + (((n & a) | (n & r) | (a & r)) - 1894007588)
                              : u + ((n ^ a ^ r) - 899497514)),
                          (l = r),
                          (r = a),
                          (a = (n << 30) | (n >>> 2)),
                          (n = s),
                          (s = u);
                      }
                      (i[0] = (i[0] + s) | 0),
                        (i[1] = (i[1] + n) | 0),
                        (i[2] = (i[2] + a) | 0),
                        (i[3] = (i[3] + r) | 0),
                        (i[4] = (i[4] + l) | 0);
                    },
                    _doFinalize: function () {
                      var e = this._data,
                        t = e.words,
                        i = 8 * this._nDataBytes,
                        s = 8 * e.sigBytes;
                      return (
                        (t[s >>> 5] |= 128 << (24 - (s % 32))),
                        (t[14 + (((s + 64) >>> 9) << 4)] = Math.floor(
                          i / 4294967296
                        )),
                        (t[15 + (((s + 64) >>> 9) << 4)] = i),
                        (e.sigBytes = 4 * t.length),
                        this._process(),
                        this._hash
                      );
                    },
                    clone: function () {
                      var e = n.clone.call(this);
                      return (e._hash = this._hash.clone()), e;
                    },
                  });
                  (e.SHA1 = n._createHelper(t)),
                    (e.HmacSHA1 = n._createHmacHelper(t));
                })(),
                  (function () {
                    var e = s,
                      t = e.enc.Utf8;
                    e.algo.HMAC = e.lib.Base.extend({
                      init: function (e, i) {
                        (e = this._hasher = new e.init()),
                          "string" == typeof i && (i = t.parse(i));
                        var s = e.blockSize,
                          n = 4 * s;
                        i.sigBytes > n && (i = e.finalize(i)), i.clamp();
                        for (
                          var o = (this._oKey = i.clone()),
                            a = (this._iKey = i.clone()),
                            r = o.words,
                            l = a.words,
                            c = 0;
                          c < s;
                          c++
                        )
                          (r[c] ^= 1549556828), (l[c] ^= 909522486);
                        (o.sigBytes = a.sigBytes = n), this.reset();
                      },
                      reset: function () {
                        var e = this._hasher;
                        e.reset(), e.update(this._iKey);
                      },
                      update: function (e) {
                        return this._hasher.update(e), this;
                      },
                      finalize: function (e) {
                        var t = this._hasher;
                        return (
                          (e = t.finalize(e)),
                          t.reset(),
                          t.finalize(this._oKey.clone().concat(e))
                        );
                      },
                    });
                  })(),
                  (function () {
                    var e = s,
                      t = e.lib,
                      i = t.WordArray,
                      n = e.enc;
                    n.Base64 = {
                      stringify: function (e) {
                        var t = e.words,
                          i = e.sigBytes,
                          s = this._map;
                        e.clamp();
                        for (var n = [], o = 0; o < i; o += 3)
                          for (
                            var a = (t[o >>> 2] >>> (24 - (o % 4) * 8)) & 255,
                              r =
                                (t[(o + 1) >>> 2] >>>
                                  (24 - ((o + 1) % 4) * 8)) &
                                255,
                              l =
                                (t[(o + 2) >>> 2] >>>
                                  (24 - ((o + 2) % 4) * 8)) &
                                255,
                              c = (a << 16) | (r << 8) | l,
                              u = 0;
                            u < 4 && o + 0.75 * u < i;
                            u++
                          )
                            n.push(s.charAt((c >>> (6 * (3 - u))) & 63));
                        var d = s.charAt(64);
                        if (d) for (; n.length % 4; ) n.push(d);
                        return n.join("");
                      },
                      parse: function (e) {
                        var t = e.length,
                          s = this._map,
                          n = s.charAt(64);
                        if (n) {
                          var o = e.indexOf(n);
                          -1 != o && (t = o);
                        }
                        for (var a = [], r = 0, l = 0; l < t; l++)
                          if (l % 4) {
                            var c = s.indexOf(e.charAt(l - 1)) << ((l % 4) * 2),
                              u = s.indexOf(e.charAt(l)) >>> (6 - (l % 4) * 2);
                            (a[r >>> 2] |= (c | u) << (24 - (r % 4) * 8)), r++;
                          }
                        return i.create(a, r);
                      },
                      _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                    };
                  })(),
                  (e.exports = s);
              },
              function (e, t, i) {
                var s = i(13).DOMParser,
                  n = function () {
                    this.version = "1.3.5";
                    var e = {
                        mergeCDATA: !0,
                        normalize: !0,
                        stripElemPrefix: !0,
                      },
                      t = new RegExp(/(?!xmlns)^.*:/);
                    return (
                      new RegExp(/^\s+|\s+$/g),
                      (this.grokType = function (e) {
                        return /^\s*$/.test(e)
                          ? null
                          : /^(?:true|false)$/i.test(e)
                          ? "true" === e.toLowerCase()
                          : isFinite(e)
                          ? parseFloat(e)
                          : e;
                      }),
                      (this.parseString = function (e, t) {
                        if (e) {
                          var i = this.stringToXML(e);
                          return i.getElementsByTagName("parsererror").length
                            ? null
                            : this.parseXML(i, t);
                        }
                        return null;
                      }),
                      (this.parseXML = function (i, s) {
                        for (var o in s) e[o] = s[o];
                        var a = {},
                          r = 0,
                          l = "";
                        if (i.childNodes.length)
                          for (var c, u, d, h = 0; h < i.childNodes.length; h++)
                            (c = i.childNodes.item(h)),
                              4 === c.nodeType
                                ? e.mergeCDATA && (l += c.nodeValue)
                                : 3 === c.nodeType
                                ? (l += c.nodeValue)
                                : 1 === c.nodeType &&
                                  (0 === r && (a = {}),
                                  (u = e.stripElemPrefix
                                    ? c.nodeName.replace(t, "")
                                    : c.nodeName),
                                  (d = n.parseXML(c)),
                                  a.hasOwnProperty(u)
                                    ? (a[u].constructor !== Array &&
                                        (a[u] = [a[u]]),
                                      a[u].push(d))
                                    : ((a[u] = d), r++));
                        return Object.keys(a).length || (a = l || ""), a;
                      }),
                      (this.xmlToString = function (e) {
                        try {
                          return e.xml
                            ? e.xml
                            : new XMLSerializer().serializeToString(e);
                        } catch (e) {
                          return null;
                        }
                      }),
                      (this.stringToXML = function (e) {
                        try {
                          var t = null;
                          return window.DOMParser
                            ? new s().parseFromString(e, "text/xml")
                            : ((t = new ActiveXObject("Microsoft.XMLDOM")),
                              (t.async = !1),
                              t.loadXML(e),
                              t);
                        } catch (e) {
                          return null;
                        }
                      }),
                      this
                    );
                  }.call({}),
                  o = function (e) {
                    return n.parseString(e);
                  };
                e.exports = o;
              },
              function (e, t, i) {
                var s = i(3);
                (t.DOMImplementation = s.DOMImplementation),
                  (t.XMLSerializer = s.XMLSerializer),
                  (t.DOMParser = i(14).DOMParser);
              },
              function (e, t, i) {
                function s(e) {
                  return e
                    .replace(/\r[\n\u0085]/g, "\n")
                    .replace(/[\r\u0085\u2028]/g, "\n");
                }
                function n(e) {
                  this.options = e || { locator: {} };
                }
                function o(e, t, i) {
                  function s(t) {
                    var s = e[t];
                    !s &&
                      o &&
                      (s =
                        2 == e.length
                          ? function (i) {
                              e(t, i);
                            }
                          : e),
                      (n[t] =
                        (s &&
                          function (e) {
                            s("[xmldom " + t + "]\t" + e + l(i));
                          }) ||
                        function () {});
                  }
                  if (!e) {
                    if (t instanceof a) return t;
                    e = t;
                  }
                  var n = {},
                    o = e instanceof Function;
                  return (
                    (i = i || {}), s("warning"), s("error"), s("fatalError"), n
                  );
                }
                function a() {
                  this.cdata = !1;
                }
                function r(e, t) {
                  (t.lineNumber = e.lineNumber),
                    (t.columnNumber = e.columnNumber);
                }
                function l(e) {
                  if (e)
                    return (
                      "\n@" +
                      (e.systemId || "") +
                      "#[line:" +
                      e.lineNumber +
                      ",col:" +
                      e.columnNumber +
                      "]"
                    );
                }
                function c(e, t, i) {
                  return "string" == typeof e
                    ? e.substr(t, i)
                    : e.length >= t + i || t
                    ? new java.lang.String(e, t, i) + ""
                    : e;
                }
                function u(e, t) {
                  e.currentElement
                    ? e.currentElement.appendChild(t)
                    : e.doc.appendChild(t);
                }
                var d = i(1),
                  h = i(3),
                  p = i(15),
                  _ = i(16),
                  m = h.DOMImplementation,
                  g = d.NAMESPACE,
                  f = _.ParseError,
                  v = _.XMLReader;
                (n.prototype.parseFromString = function (e, t) {
                  var i = this.options,
                    n = new v(),
                    r = i.domBuilder || new a(),
                    l = i.errorHandler,
                    c = i.locator,
                    u = i.xmlns || {},
                    d = /\/x?html?$/.test(t),
                    h = d ? p.HTML_ENTITIES : p.XML_ENTITIES;
                  c && r.setDocumentLocator(c),
                    (n.errorHandler = o(l, r, c)),
                    (n.domBuilder = i.domBuilder || r),
                    d && (u[""] = g.HTML),
                    (u.xml = u.xml || g.XML);
                  var _ = i.normalizeLineEndings || s;
                  return (
                    e && "string" == typeof e
                      ? n.parse(_(e), u, h)
                      : n.errorHandler.error("invalid doc source"),
                    r.doc
                  );
                }),
                  (a.prototype = {
                    startDocument: function () {
                      (this.doc = new m().createDocument(null, null, null)),
                        this.locator &&
                          (this.doc.documentURI = this.locator.systemId);
                    },
                    startElement: function (e, t, i, s) {
                      var n = this.doc,
                        o = n.createElementNS(e, i || t),
                        a = s.length;
                      u(this, o),
                        (this.currentElement = o),
                        this.locator && r(this.locator, o);
                      for (var l = 0; l < a; l++) {
                        e = s.getURI(l);
                        var c = s.getValue(l),
                          d = ((i = s.getQName(l)), n.createAttributeNS(e, i));
                        this.locator && r(s.getLocator(l), d),
                          (d.value = d.nodeValue = c),
                          o.setAttributeNode(d);
                      }
                    },
                    endElement: function (e, t, i) {
                      var s = this.currentElement;
                      s.tagName, (this.currentElement = s.parentNode);
                    },
                    startPrefixMapping: function (e, t) {},
                    endPrefixMapping: function (e) {},
                    processingInstruction: function (e, t) {
                      var i = this.doc.createProcessingInstruction(e, t);
                      this.locator && r(this.locator, i), u(this, i);
                    },
                    ignorableWhitespace: function (e, t, i) {},
                    characters: function (e, t, i) {
                      if ((e = c.apply(this, arguments))) {
                        if (this.cdata) var s = this.doc.createCDATASection(e);
                        else s = this.doc.createTextNode(e);
                        this.currentElement
                          ? this.currentElement.appendChild(s)
                          : /^\s*$/.test(e) && this.doc.appendChild(s),
                          this.locator && r(this.locator, s);
                      }
                    },
                    skippedEntity: function (e) {},
                    endDocument: function () {
                      this.doc.normalize();
                    },
                    setDocumentLocator: function (e) {
                      (this.locator = e) && (e.lineNumber = 0);
                    },
                    comment: function (e, t, i) {
                      e = c.apply(this, arguments);
                      var s = this.doc.createComment(e);
                      this.locator && r(this.locator, s), u(this, s);
                    },
                    startCDATA: function () {
                      this.cdata = !0;
                    },
                    endCDATA: function () {
                      this.cdata = !1;
                    },
                    startDTD: function (e, t, i) {
                      var s = this.doc.implementation;
                      if (s && s.createDocumentType) {
                        var n = s.createDocumentType(e, t, i);
                        this.locator && r(this.locator, n),
                          u(this, n),
                          (this.doc.doctype = n);
                      }
                    },
                    warning: function (e) {
                      console.warn("[xmldom warning]\t" + e, l(this.locator));
                    },
                    error: function (e) {
                      console.error("[xmldom error]\t" + e, l(this.locator));
                    },
                    fatalError: function (e) {
                      throw new f(e, this.locator);
                    },
                  }),
                  "endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(
                    /\w+/g,
                    function (e) {
                      a.prototype[e] = function () {
                        return null;
                      };
                    }
                  ),
                  (t.__DOMHandler = a),
                  (t.normalizeLineEndings = s),
                  (t.DOMParser = n);
              },
              function (e, t, i) {
                var s = i(1).freeze;
                (t.XML_ENTITIES = s({
                  amp: "&",
                  apos: "'",
                  gt: ">",
                  lt: "<",
                  quot: '"',
                })),
                  (t.HTML_ENTITIES = s({
                    lt: "<",
                    gt: ">",
                    amp: "&",
                    quot: '"',
                    apos: "'",
                    Agrave: "À",
                    Aacute: "Á",
                    Acirc: "Â",
                    Atilde: "Ã",
                    Auml: "Ä",
                    Aring: "Å",
                    AElig: "Æ",
                    Ccedil: "Ç",
                    Egrave: "È",
                    Eacute: "É",
                    Ecirc: "Ê",
                    Euml: "Ë",
                    Igrave: "Ì",
                    Iacute: "Í",
                    Icirc: "Î",
                    Iuml: "Ï",
                    ETH: "Ð",
                    Ntilde: "Ñ",
                    Ograve: "Ò",
                    Oacute: "Ó",
                    Ocirc: "Ô",
                    Otilde: "Õ",
                    Ouml: "Ö",
                    Oslash: "Ø",
                    Ugrave: "Ù",
                    Uacute: "Ú",
                    Ucirc: "Û",
                    Uuml: "Ü",
                    Yacute: "Ý",
                    THORN: "Þ",
                    szlig: "ß",
                    agrave: "à",
                    aacute: "á",
                    acirc: "â",
                    atilde: "ã",
                    auml: "ä",
                    aring: "å",
                    aelig: "æ",
                    ccedil: "ç",
                    egrave: "è",
                    eacute: "é",
                    ecirc: "ê",
                    euml: "ë",
                    igrave: "ì",
                    iacute: "í",
                    icirc: "î",
                    iuml: "ï",
                    eth: "ð",
                    ntilde: "ñ",
                    ograve: "ò",
                    oacute: "ó",
                    ocirc: "ô",
                    otilde: "õ",
                    ouml: "ö",
                    oslash: "ø",
                    ugrave: "ù",
                    uacute: "ú",
                    ucirc: "û",
                    uuml: "ü",
                    yacute: "ý",
                    thorn: "þ",
                    yuml: "ÿ",
                    nbsp: " ",
                    iexcl: "¡",
                    cent: "¢",
                    pound: "£",
                    curren: "¤",
                    yen: "¥",
                    brvbar: "¦",
                    sect: "§",
                    uml: "¨",
                    copy: "©",
                    ordf: "ª",
                    laquo: "«",
                    not: "¬",
                    shy: "­­",
                    reg: "®",
                    macr: "¯",
                    deg: "°",
                    plusmn: "±",
                    sup2: "²",
                    sup3: "³",
                    acute: "´",
                    micro: "µ",
                    para: "¶",
                    middot: "·",
                    cedil: "¸",
                    sup1: "¹",
                    ordm: "º",
                    raquo: "»",
                    frac14: "¼",
                    frac12: "½",
                    frac34: "¾",
                    iquest: "¿",
                    times: "×",
                    divide: "÷",
                    forall: "∀",
                    part: "∂",
                    exist: "∃",
                    empty: "∅",
                    nabla: "∇",
                    isin: "∈",
                    notin: "∉",
                    ni: "∋",
                    prod: "∏",
                    sum: "∑",
                    minus: "−",
                    lowast: "∗",
                    radic: "√",
                    prop: "∝",
                    infin: "∞",
                    ang: "∠",
                    and: "∧",
                    or: "∨",
                    cap: "∩",
                    cup: "∪",
                    int: "∫",
                    there4: "∴",
                    sim: "∼",
                    cong: "≅",
                    asymp: "≈",
                    ne: "≠",
                    equiv: "≡",
                    le: "≤",
                    ge: "≥",
                    sub: "⊂",
                    sup: "⊃",
                    nsub: "⊄",
                    sube: "⊆",
                    supe: "⊇",
                    oplus: "⊕",
                    otimes: "⊗",
                    perp: "⊥",
                    sdot: "⋅",
                    Alpha: "Α",
                    Beta: "Β",
                    Gamma: "Γ",
                    Delta: "Δ",
                    Epsilon: "Ε",
                    Zeta: "Ζ",
                    Eta: "Η",
                    Theta: "Θ",
                    Iota: "Ι",
                    Kappa: "Κ",
                    Lambda: "Λ",
                    Mu: "Μ",
                    Nu: "Ν",
                    Xi: "Ξ",
                    Omicron: "Ο",
                    Pi: "Π",
                    Rho: "Ρ",
                    Sigma: "Σ",
                    Tau: "Τ",
                    Upsilon: "Υ",
                    Phi: "Φ",
                    Chi: "Χ",
                    Psi: "Ψ",
                    Omega: "Ω",
                    alpha: "α",
                    beta: "β",
                    gamma: "γ",
                    delta: "δ",
                    epsilon: "ε",
                    zeta: "ζ",
                    eta: "η",
                    theta: "θ",
                    iota: "ι",
                    kappa: "κ",
                    lambda: "λ",
                    mu: "μ",
                    nu: "ν",
                    xi: "ξ",
                    omicron: "ο",
                    pi: "π",
                    rho: "ρ",
                    sigmaf: "ς",
                    sigma: "σ",
                    tau: "τ",
                    upsilon: "υ",
                    phi: "φ",
                    chi: "χ",
                    psi: "ψ",
                    omega: "ω",
                    thetasym: "ϑ",
                    upsih: "ϒ",
                    piv: "ϖ",
                    OElig: "Œ",
                    oelig: "œ",
                    Scaron: "Š",
                    scaron: "š",
                    Yuml: "Ÿ",
                    fnof: "ƒ",
                    circ: "ˆ",
                    tilde: "˜",
                    ensp: " ",
                    emsp: " ",
                    thinsp: " ",
                    zwnj: "‌",
                    zwj: "‍",
                    lrm: "‎",
                    rlm: "‏",
                    ndash: "–",
                    mdash: "—",
                    lsquo: "‘",
                    rsquo: "’",
                    sbquo: "‚",
                    ldquo: "“",
                    rdquo: "”",
                    bdquo: "„",
                    dagger: "†",
                    Dagger: "‡",
                    bull: "•",
                    hellip: "…",
                    permil: "‰",
                    prime: "′",
                    Prime: "″",
                    lsaquo: "‹",
                    rsaquo: "›",
                    oline: "‾",
                    euro: "€",
                    trade: "™",
                    larr: "←",
                    uarr: "↑",
                    rarr: "→",
                    darr: "↓",
                    harr: "↔",
                    crarr: "↵",
                    lceil: "⌈",
                    rceil: "⌉",
                    lfloor: "⌊",
                    rfloor: "⌋",
                    loz: "◊",
                    spades: "♠",
                    clubs: "♣",
                    hearts: "♥",
                    diams: "♦",
                  })),
                  (t.entityMap = t.HTML_ENTITIES);
              },
              function (e, t, i) {
                function s(e, t) {
                  (this.message = e),
                    (this.locator = t),
                    Error.captureStackTrace && Error.captureStackTrace(this, s);
                }
                function n() {}
                function o(e, t, i, n, o) {
                  function d(e) {
                    if (e > 65535) {
                      e -= 65536;
                      var t = 55296 + (e >> 10),
                        i = 56320 + (1023 & e);
                      return String.fromCharCode(t, i);
                    }
                    return String.fromCharCode(e);
                  }
                  function m(e) {
                    var t = e.slice(1, -1);
                    return Object.hasOwnProperty.call(i, t)
                      ? i[t]
                      : "#" === t.charAt(0)
                      ? d(parseInt(t.substr(1).replace("x", "0x")))
                      : (o.error("entity not found:" + e), e);
                  }
                  function f(t) {
                    if (t > D) {
                      var i = e.substring(D, t).replace(/&#?\w+;/g, m);
                      b && v(D), n.characters(i, 0, t - D), (D = t);
                    }
                  }
                  function v(t, i) {
                    for (; t >= w && (i = C.exec(e)); )
                      (y = i.index), (w = y + i[0].length), b.lineNumber++;
                    b.columnNumber = t - y + 1;
                  }
                  for (
                    var y = 0,
                      w = 0,
                      C = /.*(?:\r\n?|\n)|.*$/g,
                      b = n.locator,
                      k = [{ currentNSMap: t }],
                      x = {},
                      D = 0;
                    ;

                  ) {
                    try {
                      var S = e.indexOf("<", D);
                      if (S < 0) {
                        if (!e.substr(D).match(/^\s*$/)) {
                          var A = n.doc,
                            E = A.createTextNode(e.substr(D));
                          A.appendChild(E), (n.currentElement = E);
                        }
                        return;
                      }
                      switch ((S > D && f(S), e.charAt(S + 1))) {
                        case "/":
                          var T = e.indexOf(">", S + 3),
                            B = e
                              .substring(S + 2, T)
                              .replace(/[ \t\n\r]+$/g, ""),
                            $ = k.pop();
                          T < 0
                            ? ((B = e.substring(S + 2).replace(/[\s<].*/, "")),
                              o.error(
                                "end tag name: " +
                                  B +
                                  " is not complete:" +
                                  $.tagName
                              ),
                              (T = S + 1 + B.length))
                            : B.match(/\s</) &&
                              ((B = B.replace(/[\s<].*/, "")),
                              o.error(
                                "end tag name: " + B + " maybe not complete"
                              ),
                              (T = S + 1 + B.length));
                          var R = $.localNSMap,
                            M = $.tagName == B;
                          if (
                            M ||
                            ($.tagName &&
                              $.tagName.toLowerCase() == B.toLowerCase())
                          ) {
                            if ((n.endElement($.uri, $.localName, B), R))
                              for (var P in R) n.endPrefixMapping(P);
                            M ||
                              o.fatalError(
                                "end tag name: " +
                                  B +
                                  " is not match the current start tagName:" +
                                  $.tagName
                              );
                          } else k.push($);
                          T++;
                          break;
                        case "?":
                          b && v(S), (T = p(e, S, n));
                          break;
                        case "!":
                          b && v(S), (T = h(e, S, n, o));
                          break;
                        default:
                          b && v(S);
                          var I = new _(),
                            F = k[k.length - 1].currentNSMap,
                            U = ((T = r(e, S, I, F, m, o)), I.length);
                          if (
                            (!I.closed &&
                              u(e, T, I.tagName, x) &&
                              ((I.closed = !0),
                              i.nbsp || o.warning("unclosed xml attribute")),
                            b && U)
                          ) {
                            for (var N = a(b, {}), O = 0; O < U; O++) {
                              var H = I[O];
                              v(H.offset), (H.locator = a(b, {}));
                            }
                            (n.locator = N),
                              l(I, n, F) && k.push(I),
                              (n.locator = b);
                          } else l(I, n, F) && k.push(I);
                          g.isHTML(I.uri) && !I.closed
                            ? (T = c(e, T, I.tagName, m, n))
                            : T++;
                      }
                    } catch (e) {
                      if (e instanceof s) throw e;
                      o.error("element parse error: " + e), (T = -1);
                    }
                    T > D ? (D = T) : f(Math.max(S, D) + 1);
                  }
                }
                function a(e, t) {
                  return (
                    (t.lineNumber = e.lineNumber),
                    (t.columnNumber = e.columnNumber),
                    t
                  );
                }
                function r(e, t, i, s, n, o) {
                  function a(e, t, s) {
                    i.attributeNames.hasOwnProperty(e) &&
                      o.fatalError("Attribute " + e + " redefined"),
                      i.addValue(
                        e,
                        t.replace(/[\t\n\r]/g, " ").replace(/&#?\w+;/g, n),
                        s
                      );
                  }
                  for (var r, l = ++t, c = w; ; ) {
                    var u = e.charAt(l);
                    switch (u) {
                      case "=":
                        if (c === C) (r = e.slice(t, l)), (c = k);
                        else {
                          if (c !== b)
                            throw new Error(
                              "attribute equal must after attrName"
                            );
                          c = k;
                        }
                        break;
                      case "'":
                      case '"':
                        if (c === k || c === C) {
                          if (
                            (c === C &&
                              (o.warning('attribute value must after "="'),
                              (r = e.slice(t, l))),
                            (t = l + 1),
                            !((l = e.indexOf(u, t)) > 0))
                          )
                            throw new Error(
                              "attribute value no end '" + u + "' match"
                            );
                          (d = e.slice(t, l)), a(r, d, t - 1), (c = D);
                        } else {
                          if (c != x)
                            throw new Error('attribute value must after "="');
                          (d = e.slice(t, l)),
                            a(r, d, t),
                            o.warning(
                              'attribute "' +
                                r +
                                '" missed start quot(' +
                                u +
                                ")!!"
                            ),
                            (t = l + 1),
                            (c = D);
                        }
                        break;
                      case "/":
                        switch (c) {
                          case w:
                            i.setTagName(e.slice(t, l));
                          case D:
                          case S:
                          case A:
                            (c = A), (i.closed = !0);
                          case x:
                          case C:
                          case b:
                            break;
                          default:
                            throw new Error(
                              "attribute invalid close char('/')"
                            );
                        }
                        break;
                      case "":
                        return (
                          o.error("unexpected end of input"),
                          c == w && i.setTagName(e.slice(t, l)),
                          l
                        );
                      case ">":
                        switch (c) {
                          case w:
                            i.setTagName(e.slice(t, l));
                          case D:
                          case S:
                          case A:
                            break;
                          case x:
                          case C:
                            (d = e.slice(t, l)),
                              "/" === d.slice(-1) &&
                                ((i.closed = !0), (d = d.slice(0, -1)));
                          case b:
                            c === b && (d = r),
                              c == x
                                ? (o.warning(
                                    'attribute "' + d + '" missed quot(")!'
                                  ),
                                  a(r, d, t))
                                : ((g.isHTML(s[""]) &&
                                    d.match(
                                      /^(?:disabled|checked|selected)$/i
                                    )) ||
                                    o.warning(
                                      'attribute "' +
                                        d +
                                        '" missed value!! "' +
                                        d +
                                        '" instead!!'
                                    ),
                                  a(d, d, t));
                            break;
                          case k:
                            throw new Error("attribute value missed!!");
                        }
                        return l;
                      case "":
                        u = " ";
                      default:
                        if (u <= " ")
                          switch (c) {
                            case w:
                              i.setTagName(e.slice(t, l)), (c = S);
                              break;
                            case C:
                              (r = e.slice(t, l)), (c = b);
                              break;
                            case x:
                              var d = e.slice(t, l);
                              o.warning(
                                'attribute "' + d + '" missed quot(")!!'
                              ),
                                a(r, d, t);
                            case D:
                              c = S;
                          }
                        else
                          switch (c) {
                            case b:
                              i.tagName,
                                (g.isHTML(s[""]) &&
                                  r.match(
                                    /^(?:disabled|checked|selected)$/i
                                  )) ||
                                  o.warning(
                                    'attribute "' +
                                      r +
                                      '" missed value!! "' +
                                      r +
                                      '" instead2!!'
                                  ),
                                a(r, r, t),
                                (t = l),
                                (c = C);
                              break;
                            case D:
                              o.warning(
                                'attribute space is required"' + r + '"!!'
                              );
                            case S:
                              (c = C), (t = l);
                              break;
                            case k:
                              (c = x), (t = l);
                              break;
                            case A:
                              throw new Error(
                                "elements closed character '/' and '>' must be connected to"
                              );
                          }
                    }
                    l++;
                  }
                }
                function l(e, t, i) {
                  for (var s = e.tagName, n = null, o = e.length; o--; ) {
                    var a = e[o],
                      r = a.qName,
                      l = a.value,
                      c = r.indexOf(":");
                    if (c > 0)
                      var u = (a.prefix = r.slice(0, c)),
                        h = r.slice(c + 1),
                        p = "xmlns" === u && h;
                    else (h = r), (u = null), (p = "xmlns" === r && "");
                    (a.localName = h),
                      !1 !== p &&
                        (null == n && ((n = {}), d(i, (i = {}))),
                        (i[p] = n[p] = l),
                        (a.uri = g.XMLNS),
                        t.startPrefixMapping(p, l));
                  }
                  for (o = e.length; o--; ) {
                    a = e[o];
                    u = a.prefix;
                    u &&
                      ("xml" === u && (a.uri = g.XML),
                      "xmlns" !== u && (a.uri = i[u || ""]));
                  }
                  c = s.indexOf(":");
                  c > 0
                    ? ((u = e.prefix = s.slice(0, c)),
                      (h = e.localName = s.slice(c + 1)))
                    : ((u = null), (h = e.localName = s));
                  var _ = (e.uri = i[u || ""]);
                  if ((t.startElement(_, h, s, e), !e.closed))
                    return (e.currentNSMap = i), (e.localNSMap = n), !0;
                  if ((t.endElement(_, h, s), n))
                    for (u in n) t.endPrefixMapping(u);
                }
                function c(e, t, i, s, n) {
                  if (/^(?:script|textarea)$/i.test(i)) {
                    var o = e.indexOf("</" + i + ">", t),
                      a = e.substring(t + 1, o);
                    if (/[&<]/.test(a))
                      return /^script$/i.test(i)
                        ? (n.characters(a, 0, a.length), o)
                        : ((a = a.replace(/&#?\w+;/g, s)),
                          n.characters(a, 0, a.length),
                          o);
                  }
                  return t + 1;
                }
                function u(e, t, i, s) {
                  var n = s[i];
                  return (
                    null == n &&
                      ((n = e.lastIndexOf("</" + i + ">")),
                      n < t && (n = e.lastIndexOf("</" + i)),
                      (s[i] = n)),
                    n < t
                  );
                }
                function d(e, t) {
                  for (var i in e) t[i] = e[i];
                }
                function h(e, t, i, s) {
                  switch (e.charAt(t + 2)) {
                    case "-":
                      if ("-" === e.charAt(t + 3)) {
                        var n = e.indexOf("--\x3e", t + 4);
                        return n > t
                          ? (i.comment(e, t + 4, n - t - 4), n + 3)
                          : (s.error("Unclosed comment"), -1);
                      }
                      return -1;
                    default:
                      if ("CDATA[" == e.substr(t + 3, 6)) {
                        n = e.indexOf("]]>", t + 9);
                        return (
                          i.startCDATA(),
                          i.characters(e, t + 9, n - t - 9),
                          i.endCDATA(),
                          n + 3
                        );
                      }
                      var o = m(e, t),
                        a = o.length;
                      if (a > 1 && /!doctype/i.test(o[0][0])) {
                        var r = o[1][0],
                          l = !1,
                          c = !1;
                        a > 3 &&
                          (/^public$/i.test(o[2][0])
                            ? ((l = o[3][0]), (c = a > 4 && o[4][0]))
                            : /^system$/i.test(o[2][0]) && (c = o[3][0]));
                        var u = o[a - 1];
                        return (
                          i.startDTD(r, l, c), i.endDTD(), u.index + u[0].length
                        );
                      }
                  }
                  return -1;
                }
                function p(e, t, i) {
                  var s = e.indexOf("?>", t);
                  if (s) {
                    var n = e
                      .substring(t, s)
                      .match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);
                    return n
                      ? (n[0].length,
                        i.processingInstruction(n[1], n[2]),
                        s + 2)
                      : -1;
                  }
                  return -1;
                }
                function _() {
                  this.attributeNames = {};
                }
                function m(e, t) {
                  var i,
                    s = [],
                    n = /'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;
                  for (n.lastIndex = t, n.exec(e); (i = n.exec(e)); )
                    if ((s.push(i), i[1])) return s;
                }
                var g = i(1).NAMESPACE,
                  f =
                    /[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,
                  v = new RegExp(
                    "[\\-\\.0-9" +
                      f.source.slice(1, -1) +
                      "\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"
                  ),
                  y = new RegExp(
                    "^" +
                      f.source +
                      v.source +
                      "*(?::" +
                      f.source +
                      v.source +
                      "*)?$"
                  ),
                  w = 0,
                  C = 1,
                  b = 2,
                  k = 3,
                  x = 4,
                  D = 5,
                  S = 6,
                  A = 7;
                (s.prototype = new Error()),
                  (s.prototype.name = s.name),
                  (n.prototype = {
                    parse: function (e, t, i) {
                      var s = this.domBuilder;
                      s.startDocument(),
                        d(t, (t = {})),
                        o(e, t, i, s, this.errorHandler),
                        s.endDocument();
                    },
                  }),
                  (_.prototype = {
                    setTagName: function (e) {
                      if (!y.test(e)) throw new Error("invalid tagName:" + e);
                      this.tagName = e;
                    },
                    addValue: function (e, t, i) {
                      if (!y.test(e)) throw new Error("invalid attribute:" + e);
                      (this.attributeNames[e] = this.length),
                        (this[this.length++] = {
                          qName: e,
                          value: t,
                          offset: i,
                        });
                    },
                    length: 0,
                    getLocalName: function (e) {
                      return this[e].localName;
                    },
                    getLocator: function (e) {
                      return this[e].locator;
                    },
                    getQName: function (e) {
                      return this[e].qName;
                    },
                    getURI: function (e) {
                      return this[e].uri;
                    },
                    getValue: function (e) {
                      return this[e].value;
                    },
                  }),
                  (t.XMLReader = n),
                  (t.ParseError = s);
              },
              function (e, t) {
                function i(e) {
                  return ("" + e)
                    .replace(/&/g, "&amp;")
                    .replace(/</g, "&lt;")
                    .replace(/>/g, "&gt;")
                    .replace(/'/g, "&apos;")
                    .replace(/"/g, "&quot;")
                    .replace(n, "");
                }
                var s = new RegExp(
                    "^([^a-zA-Z_À-ÖØ-öø-ÿͰ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿿、-퟿豈-﷏ﷰ-�])|^((x|X)(m|M)(l|L))|([^a-zA-Z_À-ÖØ-öø-ÿͰ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿿、-퟿豈-﷏ﷰ-�-.0-9·̀-ͯ‿⁀])",
                    "g"
                  ),
                  n =
                    /[^\x09\x0A\x0D\x20-\xFF\x85\xA0-\uD7FF\uE000-\uFDCF\uFDE0-\uFFFD]/gm,
                  o = function (e) {
                    var t = [];
                    if (e instanceof Object)
                      for (var i in e) e.hasOwnProperty(i) && t.push(i);
                    return t;
                  },
                  a = function (e, t) {
                    var n = function (e, i, n, o, a) {
                      var r = void 0 !== t.indent ? t.indent : "\t",
                        l = t.prettyPrint ? "\n" + new Array(o).join(r) : "";
                      t.removeIllegalNameCharacters && (e = e.replace(s, "_"));
                      var c = [l, "<", e, n || ""];
                      return (
                        i && i.length > 0
                          ? (c.push(">"),
                            c.push(i),
                            a && c.push(l),
                            c.push("</"),
                            c.push(e),
                            c.push(">"))
                          : c.push("/>"),
                        c.join("")
                      );
                    };
                    return (function e(s, a, r) {
                      var l = typeof s;
                      switch (
                        ((Array.isArray ? Array.isArray(s) : s instanceof Array)
                          ? (l = "array")
                          : s instanceof Date && (l = "date"),
                        l)
                      ) {
                        case "array":
                          var c = [];
                          return (
                            s.map(function (t) {
                              c.push(e(t, 1, r + 1));
                            }),
                            t.prettyPrint && c.push("\n"),
                            c.join("")
                          );
                        case "date":
                          return s.toJSON ? s.toJSON() : s + "";
                        case "object":
                          var u = [];
                          for (var d in s)
                            if (s.hasOwnProperty(d))
                              if (s[d] instanceof Array)
                                for (var h = 0; h < s[d].length; h++)
                                  s[d].hasOwnProperty(h) &&
                                    u.push(
                                      n(
                                        d,
                                        e(s[d][h], 0, r + 1),
                                        null,
                                        r + 1,
                                        o(s[d][h]).length
                                      )
                                    );
                              else u.push(n(d, e(s[d], 0, r + 1), null, r + 1));
                          return (
                            t.prettyPrint && u.length > 0 && u.push("\n"),
                            u.join("")
                          );
                        case "function":
                          return s();
                        default:
                          return t.escape ? i(s) : "" + s;
                      }
                    })(e, 0, 0);
                  },
                  r = function (e) {
                    var t = ['<?xml version="1.0" encoding="UTF-8"'];
                    return (
                      e && t.push(' standalone="yes"'), t.push("?>"), t.join("")
                    );
                  };
                e.exports = function (e, t) {
                  if (
                    (t ||
                      (t = {
                        xmlHeader: { standalone: !0 },
                        prettyPrint: !0,
                        indent: "  ",
                        escape: !0,
                      }),
                    "string" == typeof e)
                  )
                    try {
                      e = JSON.parse(e.toString());
                    } catch (e) {
                      return !1;
                    }
                  var i = "",
                    s = "";
                  return (
                    t &&
                      ("object" == typeof t
                        ? (t.xmlHeader && (i = r(!!t.xmlHeader.standalone)),
                          void 0 !== t.docType &&
                            (s = "<!DOCTYPE " + t.docType + ">"))
                        : (i = r())),
                    (t = t || {}),
                    [i, t.prettyPrint && s ? "\n" : "", s, a(e, t)]
                      .join("")
                      .replace(/\n{2,}/g, "\n")
                      .replace(/\s+$/g, "")
                  );
                };
              },
              function (e, t, i) {
                var s = i(5),
                  n = i(0),
                  o = {},
                  a = function (e, t) {
                    (o[t] = e[t]),
                      (e[t] = function (e, i) {
                        e.SkipTask
                          ? o[t].call(this, e, i)
                          : this._addTask(t, e, i);
                      });
                  },
                  r = function (e) {
                    var t = [],
                      i = {},
                      a = 0,
                      r = 0,
                      l = function (e) {
                        var t = {
                          id: e.id,
                          Bucket: e.Bucket,
                          Region: e.Region,
                          Key: e.Key,
                          FilePath: e.FilePath,
                          state: e.state,
                          loaded: e.loaded,
                          size: e.size,
                          speed: e.speed,
                          percent: e.percent,
                          hashPercent: e.hashPercent,
                          error: e.error,
                        };
                        return (
                          e.FilePath && (t.FilePath = e.FilePath),
                          e._custom && (t._custom = e._custom),
                          t
                        );
                      },
                      c = (function () {
                        var i,
                          s = function () {
                            (i = 0),
                              e.emit("task-list-update", { list: n.map(t, l) }),
                              e.emit("list-update", { list: n.map(t, l) });
                          };
                        return function () {
                          i || (i = setTimeout(s));
                        };
                      })(),
                      u = function () {
                        if (!(t.length <= e.options.UploadQueueSize)) {
                          for (
                            var s = 0;
                            s < r &&
                            s < t.length &&
                            t.length > e.options.UploadQueueSize;

                          ) {
                            var n =
                              "waiting" === t[s].state ||
                              "checking" === t[s].state ||
                              "uploading" === t[s].state;
                            t[s] && n
                              ? s++
                              : (i[t[s].id] && delete i[t[s].id],
                                t.splice(s, 1),
                                r--);
                          }
                          c();
                        }
                      },
                      d = function () {
                        if (!(a >= e.options.FileParallelLimit)) {
                          for (; t[r] && "waiting" !== t[r].state; ) r++;
                          if (!(r >= t.length)) {
                            var i = t[r];
                            r++,
                              a++,
                              (i.state = "checking"),
                              i.params.onTaskStart &&
                                i.params.onTaskStart(l(i)),
                              !i.params.UploadData &&
                                (i.params.UploadData = {});
                            var s = n.formatParams(i.api, i.params);
                            o[i.api].call(e, s, function (t, s) {
                              e._isRunningTask(i.id) &&
                                (("checking" !== i.state &&
                                  "uploading" !== i.state) ||
                                  ((i.state = t ? "error" : "success"),
                                  t && (i.error = t),
                                  a--,
                                  c(),
                                  d(),
                                  i.callback && i.callback(t, s),
                                  "success" === i.state &&
                                    (i.params &&
                                      (delete i.params.UploadData,
                                      delete i.params.Body,
                                      delete i.params),
                                    delete i.callback)),
                                u());
                            }),
                              c(),
                              setTimeout(d);
                          }
                        }
                      },
                      h = function (t, n) {
                        var o = i[t];
                        if (o) {
                          var r = o && "waiting" === o.state,
                            l =
                              o &&
                              ("checking" === o.state ||
                                "uploading" === o.state);
                          if (
                            ("canceled" === n && "canceled" !== o.state) ||
                            ("paused" === n && r) ||
                            ("paused" === n && l)
                          ) {
                            if (
                              "paused" === n &&
                              o.params.Body &&
                              "function" == typeof o.params.Body.pipe
                            )
                              return void console.error(
                                "stream not support pause"
                              );
                            (o.state = n),
                              e.emit("inner-kill-task", {
                                TaskId: t,
                                toState: n,
                              });
                            try {
                              var h =
                                o && o.params && o.params.UploadData.UploadId;
                            } catch (e) {}
                            "canceled" === n && h && s.removeUsing(h),
                              c(),
                              l && (a--, d()),
                              "canceled" === n &&
                                (o.params &&
                                  (delete o.params.UploadData,
                                  delete o.params.Body,
                                  delete o.params),
                                delete o.callback);
                          }
                          u();
                        }
                      };
                    e._addTasks = function (t) {
                      n.each(t, function (t) {
                        e._addTask(t.api, t.params, t.callback, !0);
                      }),
                        c();
                    };
                    var p = !0;
                    (e._addTask = function (s, o, a, r) {
                      o = n.formatParams(s, o);
                      var l = n.uuid();
                      (o.TaskId = l),
                        o.onTaskReady && o.onTaskReady(l),
                        o.TaskReady &&
                          (o.TaskReady(l),
                          p &&
                            console.warn(
                              'warning: Param "TaskReady" has been deprecated. Please use "onTaskReady" instead.'
                            ),
                          (p = !1));
                      var h = {
                          params: o,
                          callback: a,
                          api: s,
                          index: t.length,
                          id: l,
                          Bucket: o.Bucket,
                          Region: o.Region,
                          Key: o.Key,
                          FilePath: o.FilePath || "",
                          state: "waiting",
                          loaded: 0,
                          size: 0,
                          speed: 0,
                          percent: 0,
                          hashPercent: 0,
                          error: null,
                          _custom: o._custom,
                        },
                        _ = o.onHashProgress;
                      o.onHashProgress = function (t) {
                        e._isRunningTask(h.id) &&
                          ((h.hashPercent = t.percent), _ && _(t), c());
                      };
                      var m = o.onProgress;
                      return (
                        (o.onProgress = function (t) {
                          e._isRunningTask(h.id) &&
                            ("checking" === h.state && (h.state = "uploading"),
                            (h.loaded = t.loaded),
                            (h.speed = t.speed),
                            (h.percent = t.percent),
                            m && m(t),
                            c());
                        }),
                        n.getFileSize(s, o, function (e, s) {
                          if (e) return a(n.error(e));
                          (i[l] = h),
                            t.push(h),
                            (h.size = s),
                            !r && c(),
                            d(),
                            u();
                        }),
                        l
                      );
                    }),
                      (e._isRunningTask = function (e) {
                        var t = i[e];
                        return !(
                          !t ||
                          ("checking" !== t.state && "uploading" !== t.state)
                        );
                      }),
                      (e.getTaskList = function () {
                        return n.map(t, l);
                      }),
                      (e.cancelTask = function (e) {
                        h(e, "canceled");
                      }),
                      (e.pauseTask = function (e) {
                        h(e, "paused");
                      }),
                      (e.restartTask = function (e) {
                        var t = i[e];
                        !t ||
                          ("paused" !== t.state && "error" !== t.state) ||
                          ((t.state = "waiting"),
                          c(),
                          (r = Math.min(r, t.index)),
                          d());
                      }),
                      (e.isUploadRunning = function () {
                        return a || r < t.length;
                      });
                  };
                (e.exports.transferToTaskMethod = a), (e.exports.init = r);
              },
              function (e, t, i) {
                function s(e, t) {
                  "function" == typeof e && ((t = e), (e = {}));
                  var i =
                      this.options.Protocol ||
                      ($e.isBrowser && "http:" === location.protocol
                        ? "http:"
                        : "https:"),
                    s = this.options.ServiceDomain,
                    n = e.AppId || this.options.appId,
                    o = e.Region;
                  s
                    ? ((s = s
                        .replace(/\{\{AppId\}\}/gi, n || "")
                        .replace(/\{\{Region\}\}/gi, o || "")
                        .replace(/\{\{.*?\}\}/gi, "")),
                      /^[a-zA-Z]+:\/\//.test(s) || (s = i + "//" + s),
                      "/" === s.slice(-1) && (s = s.slice(0, -1)))
                    : (s = o
                        ? i + "//cos." + o + ".myqcloud.com"
                        : i + "//service.cos.myqcloud.com");
                  var a = "",
                    r = o
                      ? "cos." + o + ".myqcloud.com"
                      : "service.cos.myqcloud.com";
                  r === s.replace(/^https?:\/\/([^\/]+)(\/.*)?$/, "$1") &&
                    (a = r),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:GetService",
                        url: s,
                        method: "GET",
                        headers: e.Headers,
                        SignHost: a,
                      },
                      function (e, i) {
                        if (e) return t(e);
                        var s =
                          (i &&
                            i.ListAllMyBucketsResult &&
                            i.ListAllMyBucketsResult.Buckets &&
                            i.ListAllMyBucketsResult.Buckets.Bucket) ||
                          [];
                        s = $e.isArray(s) ? s : [s];
                        var n =
                          (i &&
                            i.ListAllMyBucketsResult &&
                            i.ListAllMyBucketsResult.Owner) ||
                          {};
                        t(null, {
                          Buckets: s,
                          Owner: n,
                          statusCode: i.statusCode,
                          headers: i.headers,
                        });
                      }
                    );
                }
                function n(e, t) {
                  var i = this,
                    s = "";
                  if (e.BucketAZConfig) {
                    var n = { BucketAZConfig: e.BucketAZConfig };
                    s = $e.json2xml({ CreateBucketConfiguration: n });
                  }
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:PutBucket",
                      method: "PUT",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      body: s,
                    },
                    function (s, n) {
                      if (s) return t(s);
                      var o = xe({
                        protocol: i.options.Protocol,
                        domain: i.options.Domain,
                        bucket: e.Bucket,
                        region: e.Region,
                        isLocation: !0,
                      });
                      t(null, {
                        Location: o,
                        statusCode: n.statusCode,
                        headers: n.headers,
                      });
                    }
                  );
                }
                function o(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:HeadBucket",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      method: "HEAD",
                    },
                    t
                  );
                }
                function a(e, t) {
                  var i = {};
                  (i.prefix = e.Prefix || ""),
                    (i.delimiter = e.Delimiter),
                    (i.marker = e.Marker),
                    (i["max-keys"] = e.MaxKeys),
                    (i["encoding-type"] = e.EncodingType),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:GetBucket",
                        ResourceKey: i.prefix,
                        method: "GET",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        headers: e.Headers,
                        qs: i,
                      },
                      function (e, i) {
                        if (e) return t(e);
                        var s = i.ListBucketResult || {},
                          n = s.Contents || [],
                          o = s.CommonPrefixes || [];
                        (n = $e.isArray(n) ? n : [n]),
                          (o = $e.isArray(o) ? o : [o]);
                        var a = $e.clone(s);
                        $e.extend(a, {
                          Contents: n,
                          CommonPrefixes: o,
                          statusCode: i.statusCode,
                          headers: i.headers,
                        }),
                          t(null, a);
                      }
                    );
                }
                function r(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:DeleteBucket",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      method: "DELETE",
                    },
                    function (e, i) {
                      return e && 204 === e.statusCode
                        ? t(null, { statusCode: e.statusCode })
                        : e
                        ? t(e)
                        : void t(null, {
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                    }
                  );
                }
                function l(e, t) {
                  var i = e.Headers,
                    s = "";
                  if (e.AccessControlPolicy) {
                    var n = $e.clone(e.AccessControlPolicy || {}),
                      o = n.Grants || n.Grant;
                    (o = $e.isArray(o) ? o : [o]),
                      delete n.Grant,
                      delete n.Grants,
                      (n.AccessControlList = { Grant: o }),
                      (s = $e.json2xml({ AccessControlPolicy: n })),
                      (i["Content-Type"] = "application/xml"),
                      (i["Content-MD5"] = $e.binaryBase64($e.md5(s)));
                  }
                  $e.each(i, function (e, t) {
                    0 === t.indexOf("x-cos-grant-") && (i[t] = ke(i[t]));
                  }),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:PutBucketACL",
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        headers: i,
                        action: "acl",
                        body: s,
                      },
                      function (e, i) {
                        if (e) return t(e);
                        t(null, {
                          statusCode: i.statusCode,
                          headers: i.headers,
                        });
                      }
                    );
                }
                function c(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketACL",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "acl",
                    },
                    function (e, i) {
                      if (e) return t(e);
                      var s = i.AccessControlPolicy || {},
                        n = s.Owner || {},
                        o = s.AccessControlList.Grant || [];
                      o = $e.isArray(o) ? o : [o];
                      var a = be(s);
                      i.headers &&
                        i.headers["x-cos-acl"] &&
                        (a.ACL = i.headers["x-cos-acl"]),
                        (a = $e.extend(a, {
                          Owner: n,
                          Grants: o,
                          statusCode: i.statusCode,
                          headers: i.headers,
                        })),
                        t(null, a);
                    }
                  );
                }
                function u(e, t) {
                  var i = e.CORSConfiguration || {},
                    s = i.CORSRules || e.CORSRules || [];
                  (s = $e.clone($e.isArray(s) ? s : [s])),
                    $e.each(s, function (e) {
                      $e.each(
                        [
                          "AllowedOrigin",
                          "AllowedHeader",
                          "AllowedMethod",
                          "ExposeHeader",
                        ],
                        function (t) {
                          var i = t + "s",
                            s = e[i] || e[t] || [];
                          delete e[i], (e[t] = $e.isArray(s) ? s : [s]);
                        }
                      );
                    });
                  var n = $e.json2xml({ CORSConfiguration: { CORSRule: s } }),
                    o = e.Headers;
                  (o["Content-Type"] = "application/xml"),
                    (o["Content-MD5"] = $e.binaryBase64($e.md5(n))),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:PutBucketCORS",
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        body: n,
                        action: "cors",
                        headers: o,
                      },
                      function (e, i) {
                        if (e) return t(e);
                        t(null, {
                          statusCode: i.statusCode,
                          headers: i.headers,
                        });
                      }
                    );
                }
                function d(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketCORS",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "cors",
                    },
                    function (e, i) {
                      if (e)
                        if (
                          404 === e.statusCode &&
                          e.error &&
                          "NoSuchCORSConfiguration" === e.error.Code
                        ) {
                          var s = { CORSRules: [], statusCode: e.statusCode };
                          e.headers && (s.headers = e.headers), t(null, s);
                        } else t(e);
                      else {
                        var n = i.CORSConfiguration || {},
                          o = n.CORSRules || n.CORSRule || [];
                        (o = $e.clone($e.isArray(o) ? o : [o])),
                          $e.each(o, function (e) {
                            $e.each(
                              [
                                "AllowedOrigin",
                                "AllowedHeader",
                                "AllowedMethod",
                                "ExposeHeader",
                              ],
                              function (t) {
                                var i = t + "s",
                                  s = e[i] || e[t] || [];
                                delete e[t], (e[i] = $e.isArray(s) ? s : [s]);
                              }
                            );
                          }),
                          t(null, {
                            CORSRules: o,
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                      }
                    }
                  );
                }
                function h(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:DeleteBucketCORS",
                      method: "DELETE",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "cors",
                    },
                    function (e, i) {
                      return e && 204 === e.statusCode
                        ? t(null, { statusCode: e.statusCode })
                        : e
                        ? t(e)
                        : void t(null, {
                            statusCode: i.statusCode || e.statusCode,
                            headers: i.headers,
                          });
                    }
                  );
                }
                function p(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketLocation",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "location",
                    },
                    t
                  );
                }
                function _(e, t) {
                  var i = e.Policy;
                  try {
                    "string" == typeof i && (i = JSON.parse(i));
                  } catch (e) {}
                  if (!i || "string" == typeof i)
                    return t($e.error(new Error("Policy format error")));
                  var s = JSON.stringify(i);
                  i.version || (i.version = "2.0");
                  var n = e.Headers;
                  (n["Content-Type"] = "application/json"),
                    (n["Content-MD5"] = $e.binaryBase64($e.md5(s))),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:PutBucketPolicy",
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        action: "policy",
                        body: s,
                        headers: n,
                      },
                      function (e, i) {
                        return e && 204 === e.statusCode
                          ? t(null, { statusCode: e.statusCode })
                          : e
                          ? t(e)
                          : void t(null, {
                              statusCode: i.statusCode,
                              headers: i.headers,
                            });
                      }
                    );
                }
                function m(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketPolicy",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "policy",
                      rawBody: !0,
                    },
                    function (e, i) {
                      if (e)
                        return t(
                          e.statusCode && 403 === e.statusCode
                            ? $e.error(e, { ErrorStatus: "Access Denied" })
                            : e.statusCode && 405 === e.statusCode
                            ? $e.error(e, { ErrorStatus: "Method Not Allowed" })
                            : e.statusCode && 404 === e.statusCode
                            ? $e.error(e, { ErrorStatus: "Policy Not Found" })
                            : e
                        );
                      var s = {};
                      try {
                        s = JSON.parse(i.body);
                      } catch (e) {}
                      t(null, {
                        Policy: s,
                        statusCode: i.statusCode,
                        headers: i.headers,
                      });
                    }
                  );
                }
                function g(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:DeleteBucketPolicy",
                      method: "DELETE",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "policy",
                    },
                    function (e, i) {
                      return e && 204 === e.statusCode
                        ? t(null, { statusCode: e.statusCode })
                        : e
                        ? t(e)
                        : void t(null, {
                            statusCode: i.statusCode || e.statusCode,
                            headers: i.headers,
                          });
                    }
                  );
                }
                function f(e, t) {
                  var i = e.Tagging || {},
                    s = i.TagSet || i.Tags || e.Tags || [];
                  s = $e.clone($e.isArray(s) ? s : [s]);
                  var n = $e.json2xml({ Tagging: { TagSet: { Tag: s } } }),
                    o = e.Headers;
                  (o["Content-Type"] = "application/xml"),
                    (o["Content-MD5"] = $e.binaryBase64($e.md5(n))),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:PutBucketTagging",
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        body: n,
                        action: "tagging",
                        headers: o,
                      },
                      function (e, i) {
                        return e && 204 === e.statusCode
                          ? t(null, { statusCode: e.statusCode })
                          : e
                          ? t(e)
                          : void t(null, {
                              statusCode: i.statusCode,
                              headers: i.headers,
                            });
                      }
                    );
                }
                function v(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketTagging",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "tagging",
                    },
                    function (e, i) {
                      if (e)
                        if (
                          404 !== e.statusCode ||
                          !e.error ||
                          ("Not Found" !== e.error &&
                            "NoSuchTagSet" !== e.error.Code)
                        )
                          t(e);
                        else {
                          var s = { Tags: [], statusCode: e.statusCode };
                          e.headers && (s.headers = e.headers), t(null, s);
                        }
                      else {
                        var n = [];
                        try {
                          n = i.Tagging.TagSet.Tag || [];
                        } catch (e) {}
                        (n = $e.clone($e.isArray(n) ? n : [n])),
                          t(null, {
                            Tags: n,
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                      }
                    }
                  );
                }
                function y(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:DeleteBucketTagging",
                      method: "DELETE",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "tagging",
                    },
                    function (e, i) {
                      return e && 204 === e.statusCode
                        ? t(null, { statusCode: e.statusCode })
                        : e
                        ? t(e)
                        : void t(null, {
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                    }
                  );
                }
                function w(e, t) {
                  var i = e.LifecycleConfiguration || {},
                    s = i.Rules || e.Rules || [];
                  s = $e.clone(s);
                  var n = $e.json2xml({ LifecycleConfiguration: { Rule: s } }),
                    o = e.Headers;
                  (o["Content-Type"] = "application/xml"),
                    (o["Content-MD5"] = $e.binaryBase64($e.md5(n))),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:PutBucketLifecycle",
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        body: n,
                        action: "lifecycle",
                        headers: o,
                      },
                      function (e, i) {
                        return e && 204 === e.statusCode
                          ? t(null, { statusCode: e.statusCode })
                          : e
                          ? t(e)
                          : void t(null, {
                              statusCode: i.statusCode,
                              headers: i.headers,
                            });
                      }
                    );
                }
                function C(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketLifecycle",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "lifecycle",
                    },
                    function (e, i) {
                      if (e)
                        if (
                          404 === e.statusCode &&
                          e.error &&
                          "NoSuchLifecycleConfiguration" === e.error.Code
                        ) {
                          var s = { Rules: [], statusCode: e.statusCode };
                          e.headers && (s.headers = e.headers), t(null, s);
                        } else t(e);
                      else {
                        var n = [];
                        try {
                          n = i.LifecycleConfiguration.Rule || [];
                        } catch (e) {}
                        (n = $e.clone($e.isArray(n) ? n : [n])),
                          t(null, {
                            Rules: n,
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                      }
                    }
                  );
                }
                function b(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:DeleteBucketLifecycle",
                      method: "DELETE",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "lifecycle",
                    },
                    function (e, i) {
                      return e && 204 === e.statusCode
                        ? t(null, { statusCode: e.statusCode })
                        : e
                        ? t(e)
                        : void t(null, {
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                    }
                  );
                }
                function k(e, t) {
                  if (e.VersioningConfiguration) {
                    var i = e.VersioningConfiguration || {},
                      s = $e.json2xml({ VersioningConfiguration: i }),
                      n = e.Headers;
                    (n["Content-Type"] = "application/xml"),
                      (n["Content-MD5"] = $e.binaryBase64($e.md5(s))),
                      Ae.call(
                        this,
                        {
                          Action: "name/cos:PutBucketVersioning",
                          method: "PUT",
                          Bucket: e.Bucket,
                          Region: e.Region,
                          body: s,
                          action: "versioning",
                          headers: n,
                        },
                        function (e, i) {
                          return e && 204 === e.statusCode
                            ? t(null, { statusCode: e.statusCode })
                            : e
                            ? t(e)
                            : void t(null, {
                                statusCode: i.statusCode,
                                headers: i.headers,
                              });
                        }
                      );
                  } else
                    t(
                      $e.error(
                        new Error("missing param VersioningConfiguration")
                      )
                    );
                }
                function x(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketVersioning",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "versioning",
                    },
                    function (e, i) {
                      e ||
                        (!i.VersioningConfiguration &&
                          (i.VersioningConfiguration = {})),
                        t(e, i);
                    }
                  );
                }
                function D(e, t) {
                  var i = $e.clone(e.ReplicationConfiguration),
                    s = $e.json2xml({ ReplicationConfiguration: i });
                  (s = s.replace(/<(\/?)Rules>/gi, "<$1Rule>")),
                    (s = s.replace(/<(\/?)Tags>/gi, "<$1Tag>"));
                  var n = e.Headers;
                  (n["Content-Type"] = "application/xml"),
                    (n["Content-MD5"] = $e.binaryBase64($e.md5(s))),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:PutBucketReplication",
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        body: s,
                        action: "replication",
                        headers: n,
                      },
                      function (e, i) {
                        return e && 204 === e.statusCode
                          ? t(null, { statusCode: e.statusCode })
                          : e
                          ? t(e)
                          : void t(null, {
                              statusCode: i.statusCode,
                              headers: i.headers,
                            });
                      }
                    );
                }
                function S(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketReplication",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "replication",
                    },
                    function (e, i) {
                      if (e)
                        if (
                          404 !== e.statusCode ||
                          !e.error ||
                          ("Not Found" !== e.error &&
                            "ReplicationConfigurationnotFoundError" !==
                              e.error.Code)
                        )
                          t(e);
                        else {
                          var s = {
                            ReplicationConfiguration: { Rules: [] },
                            statusCode: e.statusCode,
                          };
                          e.headers && (s.headers = e.headers), t(null, s);
                        }
                      else
                        !i.ReplicationConfiguration &&
                          (i.ReplicationConfiguration = {}),
                          i.ReplicationConfiguration.Rule &&
                            ((i.ReplicationConfiguration.Rules = $e.makeArray(
                              i.ReplicationConfiguration.Rule
                            )),
                            delete i.ReplicationConfiguration.Rule),
                          t(e, i);
                    }
                  );
                }
                function A(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:DeleteBucketReplication",
                      method: "DELETE",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "replication",
                    },
                    function (e, i) {
                      return e && 204 === e.statusCode
                        ? t(null, { statusCode: e.statusCode })
                        : e
                        ? t(e)
                        : void t(null, {
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                    }
                  );
                }
                function E(e, t) {
                  if (e.WebsiteConfiguration) {
                    var i = $e.clone(e.WebsiteConfiguration || {}),
                      s = i.RoutingRules || i.RoutingRule || [];
                    (s = $e.isArray(s) ? s : [s]),
                      delete i.RoutingRule,
                      delete i.RoutingRules,
                      s.length && (i.RoutingRules = { RoutingRule: s });
                    var n = $e.json2xml({ WebsiteConfiguration: i }),
                      o = e.Headers;
                    (o["Content-Type"] = "application/xml"),
                      (o["Content-MD5"] = $e.binaryBase64($e.md5(n))),
                      Ae.call(
                        this,
                        {
                          Action: "name/cos:PutBucketWebsite",
                          method: "PUT",
                          Bucket: e.Bucket,
                          Region: e.Region,
                          body: n,
                          action: "website",
                          headers: o,
                        },
                        function (e, i) {
                          return e && 204 === e.statusCode
                            ? t(null, { statusCode: e.statusCode })
                            : e
                            ? t(e)
                            : void t(null, {
                                statusCode: i.statusCode,
                                headers: i.headers,
                              });
                        }
                      );
                  } else
                    t(
                      $e.error(new Error("missing param WebsiteConfiguration"))
                    );
                }
                function T(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketWebsite",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      Key: e.Key,
                      headers: e.Headers,
                      action: "website",
                    },
                    function (e, i) {
                      if (e)
                        if (
                          404 === e.statusCode &&
                          "NoSuchWebsiteConfiguration" === e.error.Code
                        ) {
                          var s = {
                            WebsiteConfiguration: {},
                            statusCode: e.statusCode,
                          };
                          e.headers && (s.headers = e.headers), t(null, s);
                        } else t(e);
                      else {
                        var n = i.WebsiteConfiguration || {};
                        if (n.RoutingRules) {
                          var o = $e.clone(n.RoutingRules.RoutingRule || []);
                          (o = $e.makeArray(o)), (n.RoutingRules = o);
                        }
                        t(null, {
                          WebsiteConfiguration: n,
                          statusCode: i.statusCode,
                          headers: i.headers,
                        });
                      }
                    }
                  );
                }
                function B(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:DeleteBucketWebsite",
                      method: "DELETE",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "website",
                    },
                    function (e, i) {
                      return e && 204 === e.statusCode
                        ? t(null, { statusCode: e.statusCode })
                        : e
                        ? t(e)
                        : void t(null, {
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                    }
                  );
                }
                function $(e, t) {
                  if (e.RefererConfiguration) {
                    var i = $e.clone(e.RefererConfiguration || {}),
                      s = i.DomainList || {},
                      n = s.Domains || s.Domain || [];
                    (n = $e.isArray(n) ? n : [n]),
                      n.length && (i.DomainList = { Domain: n });
                    var o = $e.json2xml({ RefererConfiguration: i }),
                      a = e.Headers;
                    (a["Content-Type"] = "application/xml"),
                      (a["Content-MD5"] = $e.binaryBase64($e.md5(o))),
                      Ae.call(
                        this,
                        {
                          Action: "name/cos:PutBucketReferer",
                          method: "PUT",
                          Bucket: e.Bucket,
                          Region: e.Region,
                          body: o,
                          action: "referer",
                          headers: a,
                        },
                        function (e, i) {
                          return e && 204 === e.statusCode
                            ? t(null, { statusCode: e.statusCode })
                            : e
                            ? t(e)
                            : void t(null, {
                                statusCode: i.statusCode,
                                headers: i.headers,
                              });
                        }
                      );
                  } else
                    t(
                      $e.error(new Error("missing param RefererConfiguration"))
                    );
                }
                function R(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketReferer",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      Key: e.Key,
                      headers: e.Headers,
                      action: "referer",
                    },
                    function (e, i) {
                      if (e)
                        if (
                          404 === e.statusCode &&
                          "NoSuchRefererConfiguration" === e.error.Code
                        ) {
                          var s = {
                            WebsiteConfiguration: {},
                            statusCode: e.statusCode,
                          };
                          e.headers && (s.headers = e.headers), t(null, s);
                        } else t(e);
                      else {
                        var n = i.RefererConfiguration || {};
                        if (n.DomainList) {
                          var o = $e.makeArray(n.DomainList.Domain || []);
                          n.DomainList = { Domains: o };
                        }
                        t(null, {
                          RefererConfiguration: n,
                          statusCode: i.statusCode,
                          headers: i.headers,
                        });
                      }
                    }
                  );
                }
                function M(e, t) {
                  var i = e.DomainConfiguration || {},
                    s = i.DomainRule || e.DomainRule || [];
                  s = $e.clone(s);
                  var n = $e.json2xml({
                      DomainConfiguration: { DomainRule: s },
                    }),
                    o = e.Headers;
                  (o["Content-Type"] = "application/xml"),
                    (o["Content-MD5"] = $e.binaryBase64($e.md5(n))),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:PutBucketDomain",
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        body: n,
                        action: "domain",
                        headers: o,
                      },
                      function (e, i) {
                        return e && 204 === e.statusCode
                          ? t(null, { statusCode: e.statusCode })
                          : e
                          ? t(e)
                          : void t(null, {
                              statusCode: i.statusCode,
                              headers: i.headers,
                            });
                      }
                    );
                }
                function P(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketDomain",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "domain",
                    },
                    function (e, i) {
                      if (e) return t(e);
                      var s = [];
                      try {
                        s = i.DomainConfiguration.DomainRule || [];
                      } catch (e) {}
                      (s = $e.clone($e.isArray(s) ? s : [s])),
                        t(null, {
                          DomainRule: s,
                          statusCode: i.statusCode,
                          headers: i.headers,
                        });
                    }
                  );
                }
                function I(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:DeleteBucketDomain",
                      method: "DELETE",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "domain",
                    },
                    function (e, i) {
                      return e && 204 === e.statusCode
                        ? t(null, { statusCode: e.statusCode })
                        : e
                        ? t(e)
                        : void t(null, {
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                    }
                  );
                }
                function F(e, t) {
                  var i = e.OriginConfiguration || {},
                    s = i.OriginRule || e.OriginRule || [];
                  s = $e.clone(s);
                  var n = $e.json2xml({
                      OriginConfiguration: { OriginRule: s },
                    }),
                    o = e.Headers;
                  (o["Content-Type"] = "application/xml"),
                    (o["Content-MD5"] = $e.binaryBase64($e.md5(n))),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:PutBucketOrigin",
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        body: n,
                        action: "origin",
                        headers: o,
                      },
                      function (e, i) {
                        return e && 204 === e.statusCode
                          ? t(null, { statusCode: e.statusCode })
                          : e
                          ? t(e)
                          : void t(null, {
                              statusCode: i.statusCode,
                              headers: i.headers,
                            });
                      }
                    );
                }
                function U(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketOrigin",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "origin",
                    },
                    function (e, i) {
                      if (e) return t(e);
                      var s = [];
                      try {
                        s = i.OriginConfiguration.OriginRule || [];
                      } catch (e) {}
                      (s = $e.clone($e.isArray(s) ? s : [s])),
                        t(null, {
                          OriginRule: s,
                          statusCode: i.statusCode,
                          headers: i.headers,
                        });
                    }
                  );
                }
                function N(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:DeleteBucketOrigin",
                      method: "DELETE",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "origin",
                    },
                    function (e, i) {
                      return e && 204 === e.statusCode
                        ? t(null, { statusCode: e.statusCode })
                        : e
                        ? t(e)
                        : void t(null, {
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                    }
                  );
                }
                function O(e, t) {
                  var i = $e.json2xml({
                      BucketLoggingStatus: e.BucketLoggingStatus || "",
                    }),
                    s = e.Headers;
                  (s["Content-Type"] = "application/xml"),
                    (s["Content-MD5"] = $e.binaryBase64($e.md5(i))),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:PutBucketLogging",
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        body: i,
                        action: "logging",
                        headers: s,
                      },
                      function (e, i) {
                        return e && 204 === e.statusCode
                          ? t(null, { statusCode: e.statusCode })
                          : e
                          ? t(e)
                          : void t(null, {
                              statusCode: i.statusCode,
                              headers: i.headers,
                            });
                      }
                    );
                }
                function H(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketLogging",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "logging",
                    },
                    function (e, i) {
                      if (e) return t(e);
                      t(null, {
                        BucketLoggingStatus: i.BucketLoggingStatus,
                        statusCode: i.statusCode,
                        headers: i.headers,
                      });
                    }
                  );
                }
                function L(e, t) {
                  var i = $e.clone(e.InventoryConfiguration);
                  if (i.OptionalFields) {
                    var s = i.OptionalFields || [];
                    i.OptionalFields = { Field: s };
                  }
                  if (
                    i.Destination &&
                    i.Destination.COSBucketDestination &&
                    i.Destination.COSBucketDestination.Encryption
                  ) {
                    var n = i.Destination.COSBucketDestination.Encryption;
                    Object.keys(n).indexOf("SSECOS") > -1 &&
                      ((n["SSE-COS"] = n.SSECOS), delete n.SSECOS);
                  }
                  var o = $e.json2xml({ InventoryConfiguration: i }),
                    a = e.Headers;
                  (a["Content-Type"] = "application/xml"),
                    (a["Content-MD5"] = $e.binaryBase64($e.md5(o))),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:PutBucketInventory",
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        body: o,
                        action: "inventory",
                        qs: { id: e.Id },
                        headers: a,
                      },
                      function (e, i) {
                        return e && 204 === e.statusCode
                          ? t(null, { statusCode: e.statusCode })
                          : e
                          ? t(e)
                          : void t(null, {
                              statusCode: i.statusCode,
                              headers: i.headers,
                            });
                      }
                    );
                }
                function K(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketInventory",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "inventory",
                      qs: { id: e.Id },
                    },
                    function (e, i) {
                      if (e) return t(e);
                      var s = i.InventoryConfiguration;
                      if (s && s.OptionalFields && s.OptionalFields.Field) {
                        var n = s.OptionalFields.Field;
                        $e.isArray(n) || (n = [n]), (s.OptionalFields = n);
                      }
                      if (
                        s.Destination &&
                        s.Destination.COSBucketDestination &&
                        s.Destination.COSBucketDestination.Encryption
                      ) {
                        var o = s.Destination.COSBucketDestination.Encryption;
                        Object.keys(o).indexOf("SSE-COS") > -1 &&
                          ((o.SSECOS = o["SSE-COS"]), delete o["SSE-COS"]);
                      }
                      t(null, {
                        InventoryConfiguration: s,
                        statusCode: i.statusCode,
                        headers: i.headers,
                      });
                    }
                  );
                }
                function z(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:ListBucketInventory",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "inventory",
                      qs: { "continuation-token": e.ContinuationToken },
                    },
                    function (e, i) {
                      if (e) return t(e);
                      var s = i.ListInventoryConfigurationResult,
                        n = s.InventoryConfiguration || [];
                      (n = $e.isArray(n) ? n : [n]),
                        delete s.InventoryConfiguration,
                        $e.each(n, function (e) {
                          if (e && e.OptionalFields && e.OptionalFields.Field) {
                            var t = e.OptionalFields.Field;
                            $e.isArray(t) || (t = [t]), (e.OptionalFields = t);
                          }
                          if (
                            e.Destination &&
                            e.Destination.COSBucketDestination &&
                            e.Destination.COSBucketDestination.Encryption
                          ) {
                            var i =
                              e.Destination.COSBucketDestination.Encryption;
                            Object.keys(i).indexOf("SSE-COS") > -1 &&
                              ((i.SSECOS = i["SSE-COS"]), delete i["SSE-COS"]);
                          }
                        }),
                        (s.InventoryConfigurations = n),
                        $e.extend(s, {
                          statusCode: i.statusCode,
                          headers: i.headers,
                        }),
                        t(null, s);
                    }
                  );
                }
                function q(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:DeleteBucketInventory",
                      method: "DELETE",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "inventory",
                      qs: { id: e.Id },
                    },
                    function (e, i) {
                      return e && 204 === e.statusCode
                        ? t(null, { statusCode: e.statusCode })
                        : e
                        ? t(e)
                        : void t(null, {
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                    }
                  );
                }
                function W(e, t) {
                  if (e.AccelerateConfiguration) {
                    var i = {
                        AccelerateConfiguration:
                          e.AccelerateConfiguration || {},
                      },
                      s = $e.json2xml(i),
                      n = { "Content-Type": "application/xml" };
                    (n["Content-MD5"] = $e.binaryBase64($e.md5(s))),
                      Ae.call(
                        this,
                        {
                          Action: "name/cos:PutBucketAccelerate",
                          method: "PUT",
                          Bucket: e.Bucket,
                          Region: e.Region,
                          body: s,
                          action: "accelerate",
                          headers: n,
                        },
                        function (e, i) {
                          if (e) return t(e);
                          t(null, {
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                        }
                      );
                  } else
                    t(
                      $e.error(
                        new Error("missing param AccelerateConfiguration")
                      )
                    );
                }
                function j(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketAccelerate",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      action: "accelerate",
                    },
                    function (e, i) {
                      e ||
                        (!i.AccelerateConfiguration &&
                          (i.AccelerateConfiguration = {})),
                        t(e, i);
                    }
                  );
                }
                function G(e, t) {
                  var i = e.ServerSideEncryptionConfiguration || {},
                    s = i.Rule || i.Rules || [],
                    n = $e.json2xml({
                      ServerSideEncryptionConfiguration: { Rule: s },
                    }),
                    o = e.Headers;
                  (o["Content-Type"] = "application/xml"),
                    (o["Content-MD5"] = $e.binaryBase64($e.md5(n))),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:PutBucketEncryption",
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        body: n,
                        action: "encryption",
                        headers: o,
                      },
                      function (e, i) {
                        return e && 204 === e.statusCode
                          ? t(null, { statusCode: e.statusCode })
                          : e
                          ? t(e)
                          : void t(null, {
                              statusCode: i.statusCode,
                              headers: i.headers,
                            });
                      }
                    );
                }
                function V(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetBucketEncryption",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "encryption",
                    },
                    function (e, i) {
                      if (e)
                        if (
                          404 === e.statusCode &&
                          "NoSuchEncryptionConfiguration" === e.code
                        ) {
                          var s = {
                            EncryptionConfiguration: { Rules: [] },
                            statusCode: e.statusCode,
                          };
                          e.headers && (s.headers = e.headers), t(null, s);
                        } else t(e);
                      else {
                        var n = $e.makeArray(
                          (i.EncryptionConfiguration &&
                            i.EncryptionConfiguration.Rule) ||
                            []
                        );
                        (i.EncryptionConfiguration = { Rules: n }), t(e, i);
                      }
                    }
                  );
                }
                function X(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:DeleteBucketReplication",
                      method: "DELETE",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "encryption",
                    },
                    function (e, i) {
                      return e && 204 === e.statusCode
                        ? t(null, { statusCode: e.statusCode })
                        : e
                        ? t(e)
                        : void t(null, {
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                    }
                  );
                }
                function Z(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:HeadObject",
                      method: "HEAD",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      Key: e.Key,
                      VersionId: e.VersionId,
                      headers: e.Headers,
                    },
                    function (i, s) {
                      if (i) {
                        var n = i.statusCode;
                        return e.Headers["If-Modified-Since"] && n && 304 === n
                          ? t(null, { NotModified: !0, statusCode: n })
                          : t(i);
                      }
                      (s.ETag = $e.attr(s.headers, "etag", "")), t(null, s);
                    }
                  );
                }
                function Y(e, t) {
                  var i = {};
                  (i.prefix = e.Prefix || ""),
                    (i.delimiter = e.Delimiter),
                    (i["key-marker"] = e.KeyMarker),
                    (i["version-id-marker"] = e.VersionIdMarker),
                    (i["max-keys"] = e.MaxKeys),
                    (i["encoding-type"] = e.EncodingType),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:GetBucketObjectVersions",
                        ResourceKey: i.prefix,
                        method: "GET",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        headers: e.Headers,
                        qs: i,
                        action: "versions",
                      },
                      function (e, i) {
                        if (e) return t(e);
                        var s = i.ListVersionsResult || {},
                          n = s.DeleteMarker || [];
                        n = $e.isArray(n) ? n : [n];
                        var o = s.Version || [];
                        o = $e.isArray(o) ? o : [o];
                        var a = $e.clone(s);
                        delete a.DeleteMarker,
                          delete a.Version,
                          $e.extend(a, {
                            DeleteMarkers: n,
                            Versions: o,
                            statusCode: i.statusCode,
                            headers: i.headers,
                          }),
                          t(null, a);
                      }
                    );
                }
                function Q(e, t) {
                  var i = e.Query || {},
                    s = e.QueryString || "",
                    n = $e.throttleOnProgress.call(this, 0, e.onProgress);
                  (i["response-content-type"] = e.ResponseContentType),
                    (i["response-content-language"] =
                      e.ResponseContentLanguage),
                    (i["response-expires"] = e.ResponseExpires),
                    (i["response-cache-control"] = e.ResponseCacheControl),
                    (i["response-content-disposition"] =
                      e.ResponseContentDisposition),
                    (i["response-content-encoding"] =
                      e.ResponseContentEncoding),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:GetObject",
                        method: "GET",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        Key: e.Key,
                        VersionId: e.VersionId,
                        DataType: e.DataType,
                        headers: e.Headers,
                        qs: i,
                        qsStr: s,
                        rawBody: !0,
                        onDownloadProgress: n,
                      },
                      function (i, s) {
                        if ((n(null, !0), i)) {
                          var o = i.statusCode;
                          return e.Headers["If-Modified-Since"] &&
                            o &&
                            304 === o
                            ? t(null, { NotModified: !0 })
                            : t(i);
                        }
                        t(null, {
                          Body: s.body,
                          ETag: $e.attr(s.headers, "etag", ""),
                          statusCode: s.statusCode,
                          headers: s.headers,
                        });
                      }
                    );
                }
                function J(e, t) {
                  var i = this,
                    s = e.ContentLength,
                    n = $e.throttleOnProgress.call(i, s, e.onProgress),
                    o = e.Headers;
                  o["Cache-Control"] ||
                    o["cache-control"] ||
                    (o["Cache-Control"] = ""),
                    o["Content-Type"] ||
                      o["content-type"] ||
                      (o["Content-Type"] = (e.Body && e.Body.type) || "");
                  var a =
                    e.UploadAddMetaMd5 ||
                    i.options.UploadAddMetaMd5 ||
                    i.options.UploadCheckContentMd5;
                  $e.getBodyMd5(
                    a,
                    e.Body,
                    function (a) {
                      a &&
                        (i.options.UploadCheckContentMd5 &&
                          (o["Content-MD5"] = $e.binaryBase64(a)),
                        (e.UploadAddMetaMd5 || i.options.UploadAddMetaMd5) &&
                          (o["x-cos-meta-md5"] = a)),
                        void 0 !== e.ContentLength &&
                          (o["Content-Length"] = e.ContentLength),
                        n(null, !0),
                        Ae.call(
                          i,
                          {
                            Action: "name/cos:PutObject",
                            TaskId: e.TaskId,
                            method: "PUT",
                            Bucket: e.Bucket,
                            Region: e.Region,
                            Key: e.Key,
                            headers: e.Headers,
                            qs: e.Query,
                            body: e.Body,
                            onProgress: n,
                          },
                          function (o, a) {
                            if (o) return n(null, !0), t(o);
                            n({ loaded: s, total: s }, !0);
                            var r = xe({
                              ForcePathStyle: i.options.ForcePathStyle,
                              protocol: i.options.Protocol,
                              domain: i.options.Domain,
                              bucket: e.Bucket,
                              region: i.options.UseAccelerate
                                ? "accelerate"
                                : e.Region,
                              object: e.Key,
                            });
                            (r = r.substr(r.indexOf("://") + 3)),
                              (a.Location = r),
                              (a.ETag = $e.attr(a.headers, "etag", "")),
                              t(null, a);
                          }
                        );
                    },
                    e.onHashProgress
                  );
                }
                function ee(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:DeleteObject",
                      method: "DELETE",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      Key: e.Key,
                      headers: e.Headers,
                      VersionId: e.VersionId,
                      action: e.Recursive ? "recursive" : "",
                    },
                    function (e, i) {
                      if (e) {
                        var s = e.statusCode;
                        return s && 404 === s
                          ? t(null, { BucketNotFound: !0, statusCode: s })
                          : t(e);
                      }
                      t(null, { statusCode: i.statusCode, headers: i.headers });
                    }
                  );
                }
                function te(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetObjectACL",
                      method: "GET",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      Key: e.Key,
                      headers: e.Headers,
                      action: "acl",
                    },
                    function (e, i) {
                      if (e) return t(e);
                      var s = i.AccessControlPolicy || {},
                        n = s.Owner || {},
                        o =
                          (s.AccessControlList && s.AccessControlList.Grant) ||
                          [];
                      o = $e.isArray(o) ? o : [o];
                      var a = be(s);
                      delete a.GrantWrite,
                        i.headers &&
                          i.headers["x-cos-acl"] &&
                          (a.ACL = i.headers["x-cos-acl"]),
                        (a = $e.extend(a, {
                          Owner: n,
                          Grants: o,
                          statusCode: i.statusCode,
                          headers: i.headers,
                        })),
                        t(null, a);
                    }
                  );
                }
                function ie(e, t) {
                  var i = e.Headers,
                    s = "";
                  if (e.AccessControlPolicy) {
                    var n = $e.clone(e.AccessControlPolicy || {}),
                      o = n.Grants || n.Grant;
                    (o = $e.isArray(o) ? o : [o]),
                      delete n.Grant,
                      delete n.Grants,
                      (n.AccessControlList = { Grant: o }),
                      (s = $e.json2xml({ AccessControlPolicy: n })),
                      (i["Content-Type"] = "application/xml"),
                      (i["Content-MD5"] = $e.binaryBase64($e.md5(s)));
                  }
                  $e.each(i, function (e, t) {
                    0 === t.indexOf("x-cos-grant-") && (i[t] = ke(i[t]));
                  }),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:PutObjectACL",
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        Key: e.Key,
                        action: "acl",
                        headers: i,
                        body: s,
                      },
                      function (e, i) {
                        if (e) return t(e);
                        t(null, {
                          statusCode: i.statusCode,
                          headers: i.headers,
                        });
                      }
                    );
                }
                function se(e, t) {
                  var i = e.Headers;
                  (i.Origin = e.Origin),
                    (i["Access-Control-Request-Method"] =
                      e.AccessControlRequestMethod),
                    (i["Access-Control-Request-Headers"] =
                      e.AccessControlRequestHeaders),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:OptionsObject",
                        method: "OPTIONS",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        Key: e.Key,
                        headers: i,
                      },
                      function (e, i) {
                        if (e)
                          return e.statusCode && 403 === e.statusCode
                            ? t(null, {
                                OptionsForbidden: !0,
                                statusCode: e.statusCode,
                              })
                            : t(e);
                        var s = i.headers || {};
                        t(null, {
                          AccessControlAllowOrigin:
                            s["access-control-allow-origin"],
                          AccessControlAllowMethods:
                            s["access-control-allow-methods"],
                          AccessControlAllowHeaders:
                            s["access-control-allow-headers"],
                          AccessControlExposeHeaders:
                            s["access-control-expose-headers"],
                          AccessControlMaxAge: s["access-control-max-age"],
                          statusCode: i.statusCode,
                          headers: i.headers,
                        });
                      }
                    );
                }
                function ne(e, t) {
                  var i = this,
                    s = e.Headers;
                  s["Cache-Control"] ||
                    s["cache-control"] ||
                    (s["Cache-Control"] = "");
                  var n = e.CopySource || "",
                    o = $e.getSourceParams.call(this, n);
                  if (o) {
                    var a = o[1],
                      r = o[3],
                      l = decodeURIComponent(o[4]);
                    Ae.call(
                      this,
                      {
                        Scope: [
                          {
                            action: "name/cos:GetObject",
                            bucket: a,
                            region: r,
                            prefix: l,
                          },
                          {
                            action: "name/cos:PutObject",
                            bucket: e.Bucket,
                            region: e.Region,
                            prefix: e.Key,
                          },
                        ],
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        Key: e.Key,
                        VersionId: e.VersionId,
                        headers: e.Headers,
                      },
                      function (s, n) {
                        if (s) return t(s);
                        var o = $e.clone(n.CopyObjectResult || {}),
                          a = xe({
                            ForcePathStyle: i.options.ForcePathStyle,
                            protocol: i.options.Protocol,
                            domain: i.options.Domain,
                            bucket: e.Bucket,
                            region: e.Region,
                            object: e.Key,
                            isLocation: !0,
                          });
                        $e.extend(o, {
                          Location: a,
                          statusCode: n.statusCode,
                          headers: n.headers,
                        }),
                          t(null, o);
                      }
                    );
                  } else t($e.error(new Error("CopySource format error")));
                }
                function oe(e, t) {
                  var i = e.CopySource || "",
                    s = $e.getSourceParams.call(this, i);
                  if (s) {
                    var n = s[1],
                      o = s[3],
                      a = decodeURIComponent(s[4]);
                    Ae.call(
                      this,
                      {
                        Scope: [
                          {
                            action: "name/cos:GetObject",
                            bucket: n,
                            region: o,
                            prefix: a,
                          },
                          {
                            action: "name/cos:PutObject",
                            bucket: e.Bucket,
                            region: e.Region,
                            prefix: e.Key,
                          },
                        ],
                        method: "PUT",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        Key: e.Key,
                        VersionId: e.VersionId,
                        qs: { partNumber: e.PartNumber, uploadId: e.UploadId },
                        headers: e.Headers,
                      },
                      function (e, i) {
                        if (e) return t(e);
                        var s = $e.clone(i.CopyPartResult || {});
                        $e.extend(s, {
                          statusCode: i.statusCode,
                          headers: i.headers,
                        }),
                          t(null, s);
                      }
                    );
                  } else t($e.error(new Error("CopySource format error")));
                }
                function ae(e, t) {
                  var i = e.Objects || [],
                    s = e.Quiet;
                  i = $e.isArray(i) ? i : [i];
                  var n = $e.json2xml({
                      Delete: { Object: i, Quiet: s || !1 },
                    }),
                    o = e.Headers;
                  (o["Content-Type"] = "application/xml"),
                    (o["Content-MD5"] = $e.binaryBase64($e.md5(n)));
                  var a = $e.map(i, function (t) {
                    return {
                      action: "name/cos:DeleteObject",
                      bucket: e.Bucket,
                      region: e.Region,
                      prefix: t.Key,
                    };
                  });
                  Ae.call(
                    this,
                    {
                      Scope: a,
                      method: "POST",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      body: n,
                      action: "delete",
                      headers: o,
                    },
                    function (e, i) {
                      if (e) return t(e);
                      var s = i.DeleteResult || {},
                        n = s.Deleted || [],
                        o = s.Error || [];
                      (n = $e.isArray(n) ? n : [n]),
                        (o = $e.isArray(o) ? o : [o]);
                      var a = $e.clone(s);
                      $e.extend(a, {
                        Error: o,
                        Deleted: n,
                        statusCode: i.statusCode,
                        headers: i.headers,
                      }),
                        t(null, a);
                    }
                  );
                }
                function re(e, t) {
                  var i = e.Headers;
                  if (e.RestoreRequest) {
                    var s = e.RestoreRequest || {},
                      n = $e.json2xml({ RestoreRequest: s });
                    (i["Content-Type"] = "application/xml"),
                      (i["Content-MD5"] = $e.binaryBase64($e.md5(n))),
                      Ae.call(
                        this,
                        {
                          Action: "name/cos:RestoreObject",
                          method: "POST",
                          Bucket: e.Bucket,
                          Region: e.Region,
                          Key: e.Key,
                          VersionId: e.VersionId,
                          body: n,
                          action: "restore",
                          headers: i,
                        },
                        t
                      );
                  } else t($e.error(new Error("missing param RestoreRequest")));
                }
                function le(e, t) {
                  var i = e.Tagging || {},
                    s = i.TagSet || i.Tags || e.Tags || [];
                  s = $e.clone($e.isArray(s) ? s : [s]);
                  var n = $e.json2xml({ Tagging: { TagSet: { Tag: s } } }),
                    o = e.Headers;
                  (o["Content-Type"] = "application/xml"),
                    (o["Content-MD5"] = $e.binaryBase64($e.md5(n))),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:PutObjectTagging",
                        method: "PUT",
                        Bucket: e.Bucket,
                        Key: e.Key,
                        Region: e.Region,
                        body: n,
                        action: "tagging",
                        headers: o,
                        VersionId: e.VersionId,
                      },
                      function (e, i) {
                        return e && 204 === e.statusCode
                          ? t(null, { statusCode: e.statusCode })
                          : e
                          ? t(e)
                          : void t(null, {
                              statusCode: i.statusCode,
                              headers: i.headers,
                            });
                      }
                    );
                }
                function ce(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:GetObjectTagging",
                      method: "GET",
                      Key: e.Key,
                      Bucket: e.Bucket,
                      Region: e.Region,
                      headers: e.Headers,
                      action: "tagging",
                      VersionId: e.VersionId,
                    },
                    function (e, i) {
                      if (e)
                        if (
                          404 !== e.statusCode ||
                          !e.error ||
                          ("Not Found" !== e.error &&
                            "NoSuchTagSet" !== e.error.Code)
                        )
                          t(e);
                        else {
                          var s = { Tags: [], statusCode: e.statusCode };
                          e.headers && (s.headers = e.headers), t(null, s);
                        }
                      else {
                        var n = [];
                        try {
                          n = i.Tagging.TagSet.Tag || [];
                        } catch (e) {}
                        (n = $e.clone($e.isArray(n) ? n : [n])),
                          t(null, {
                            Tags: n,
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                      }
                    }
                  );
                }
                function ue(e, t) {
                  Ae.call(
                    this,
                    {
                      Action: "name/cos:DeleteObjectTagging",
                      method: "DELETE",
                      Bucket: e.Bucket,
                      Region: e.Region,
                      Key: e.Key,
                      headers: e.Headers,
                      action: "tagging",
                      VersionId: e.VersionId,
                    },
                    function (e, i) {
                      return e && 204 === e.statusCode
                        ? t(null, { statusCode: e.statusCode })
                        : e
                        ? t(e)
                        : void t(null, {
                            statusCode: i.statusCode,
                            headers: i.headers,
                          });
                    }
                  );
                }
                function de(e, t) {
                  if (!e.SelectType)
                    return t($e.error(new Error("missing param SelectType")));
                  var i = e.SelectRequest || {},
                    s = $e.json2xml({ SelectRequest: i }),
                    n = e.Headers;
                  (n["Content-Type"] = "application/xml"),
                    (n["Content-MD5"] = $e.binaryBase64($e.md5(s))),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:GetObject",
                        method: "POST",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        Key: e.Key,
                        headers: e.Headers,
                        action: "select",
                        qs: { "select-type": e.SelectType },
                        VersionId: e.VersionId,
                        body: s,
                        DataType: "arraybuffer",
                        rawBody: !0,
                      },
                      function (e, i) {
                        if (e && 204 === e.statusCode)
                          return t(null, { statusCode: e.statusCode });
                        if (e) return t(e);
                        var s = $e.parseSelectPayload(i.body);
                        t(null, {
                          statusCode: i.statusCode,
                          headers: i.headers,
                          Body: s.body,
                          Payload: s.payload,
                        });
                      }
                    );
                }
                function he(e, t) {
                  var i = this,
                    s = e.Headers;
                  s["Cache-Control"] ||
                    s["cache-control"] ||
                    (s["Cache-Control"] = ""),
                    s["Content-Type"] ||
                      s["content-type"] ||
                      (s["Content-Type"] = (e.Body && e.Body.type) || ""),
                    $e.getBodyMd5(
                      e.Body &&
                        (e.UploadAddMetaMd5 || i.options.UploadAddMetaMd5),
                      e.Body,
                      function (s) {
                        s && (e.Headers["x-cos-meta-md5"] = s),
                          Ae.call(
                            i,
                            {
                              Action: "name/cos:InitiateMultipartUpload",
                              method: "POST",
                              Bucket: e.Bucket,
                              Region: e.Region,
                              Key: e.Key,
                              action: "uploads",
                              headers: e.Headers,
                              qs: e.Query,
                            },
                            function (e, i) {
                              return e
                                ? t(e)
                                : (i = $e.clone(i || {})) &&
                                  i.InitiateMultipartUploadResult
                                ? t(
                                    null,
                                    $e.extend(i.InitiateMultipartUploadResult, {
                                      statusCode: i.statusCode,
                                      headers: i.headers,
                                    })
                                  )
                                : void t(null, i);
                            }
                          );
                      },
                      e.onHashProgress
                    );
                }
                function pe(e, t) {
                  var i = this;
                  $e.getFileSize("multipartUpload", e, function () {
                    $e.getBodyMd5(
                      i.options.UploadCheckContentMd5,
                      e.Body,
                      function (s) {
                        s && (e.Headers["Content-MD5"] = $e.binaryBase64(s)),
                          Ae.call(
                            i,
                            {
                              Action: "name/cos:UploadPart",
                              TaskId: e.TaskId,
                              method: "PUT",
                              Bucket: e.Bucket,
                              Region: e.Region,
                              Key: e.Key,
                              qs: {
                                partNumber: e.PartNumber,
                                uploadId: e.UploadId,
                              },
                              headers: e.Headers,
                              onProgress: e.onProgress,
                              body: e.Body || null,
                            },
                            function (e, i) {
                              if (e) return t(e);
                              t(null, {
                                ETag: $e.attr(i.headers, "etag", ""),
                                statusCode: i.statusCode,
                                headers: i.headers,
                              });
                            }
                          );
                      }
                    );
                  });
                }
                function _e(e, t) {
                  for (
                    var i = this,
                      s = e.UploadId,
                      n = e.Parts,
                      o = 0,
                      a = n.length;
                    o < a;
                    o++
                  )
                    (n[o].ETag && 0 === n[o].ETag.indexOf('"')) ||
                      (n[o].ETag = '"' + n[o].ETag + '"');
                  var r = $e.json2xml({ CompleteMultipartUpload: { Part: n } });
                  r = r.replace(/\n\s*/g, "");
                  var l = e.Headers;
                  (l["Content-Type"] = "application/xml"),
                    (l["Content-MD5"] = $e.binaryBase64($e.md5(r))),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:CompleteMultipartUpload",
                        method: "POST",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        Key: e.Key,
                        qs: { uploadId: s },
                        body: r,
                        headers: l,
                      },
                      function (s, n) {
                        if (s) return t(s);
                        var o = xe({
                            ForcePathStyle: i.options.ForcePathStyle,
                            protocol: i.options.Protocol,
                            domain: i.options.Domain,
                            bucket: e.Bucket,
                            region: e.Region,
                            object: e.Key,
                            isLocation: !0,
                          }),
                          a = n.CompleteMultipartUploadResult || {};
                        a.ProcessResults &&
                          a &&
                          a.ProcessResults &&
                          ((a.UploadResult = {
                            OriginalInfo: {
                              Key: a.Key,
                              Location: o,
                              ETag: a.ETag,
                              ImageInfo: a.ImageInfo,
                            },
                            ProcessResults: a.ProcessResults,
                          }),
                          delete a.ImageInfo,
                          delete a.ProcessResults);
                        var r = $e.extend(a, {
                          Location: o,
                          statusCode: n.statusCode,
                          headers: n.headers,
                        });
                        t(null, r);
                      }
                    );
                }
                function me(e, t) {
                  var i = {};
                  (i.delimiter = e.Delimiter),
                    (i["encoding-type"] = e.EncodingType),
                    (i.prefix = e.Prefix || ""),
                    (i["max-uploads"] = e.MaxUploads),
                    (i["key-marker"] = e.KeyMarker),
                    (i["upload-id-marker"] = e.UploadIdMarker),
                    (i = $e.clearKey(i)),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:ListMultipartUploads",
                        ResourceKey: i.prefix,
                        method: "GET",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        headers: e.Headers,
                        qs: i,
                        action: "uploads",
                      },
                      function (e, i) {
                        if (e) return t(e);
                        if (i && i.ListMultipartUploadsResult) {
                          var s = i.ListMultipartUploadsResult.Upload || [];
                          (s = $e.isArray(s) ? s : [s]),
                            (i.ListMultipartUploadsResult.Upload = s);
                        }
                        var n = $e.clone(i.ListMultipartUploadsResult || {});
                        $e.extend(n, {
                          statusCode: i.statusCode,
                          headers: i.headers,
                        }),
                          t(null, n);
                      }
                    );
                }
                function ge(e, t) {
                  var i = {};
                  (i.uploadId = e.UploadId),
                    (i["encoding-type"] = e.EncodingType),
                    (i["max-parts"] = e.MaxParts),
                    (i["part-number-marker"] = e.PartNumberMarker),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:ListParts",
                        method: "GET",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        Key: e.Key,
                        headers: e.Headers,
                        qs: i,
                      },
                      function (e, i) {
                        if (e) return t(e);
                        var s = i.ListPartsResult || {},
                          n = s.Part || [];
                        (n = $e.isArray(n) ? n : [n]), (s.Part = n);
                        var o = $e.clone(s);
                        $e.extend(o, {
                          statusCode: i.statusCode,
                          headers: i.headers,
                        }),
                          t(null, o);
                      }
                    );
                }
                function fe(e, t) {
                  var i = {};
                  (i.uploadId = e.UploadId),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:AbortMultipartUpload",
                        method: "DELETE",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        Key: e.Key,
                        headers: e.Headers,
                        qs: i,
                      },
                      function (e, i) {
                        if (e) return t(e);
                        t(null, {
                          statusCode: i.statusCode,
                          headers: i.headers,
                        });
                      }
                    );
                }
                function ve(e, t) {
                  Ae.call(
                    this,
                    {
                      method: e.Method,
                      Bucket: e.Bucket,
                      Region: e.Region,
                      Key: e.Key,
                      action: e.Action,
                      headers: e.Headers,
                      qs: e.Query,
                      body: e.Body,
                      Url: e.Url,
                      rawBody: e.RawBody,
                      DataType: e.DataType,
                    },
                    function (e, i) {
                      if (e) return t(e);
                      i && i.body && ((i.Body = i.body), delete i.body),
                        t(e, i);
                    }
                  );
                }
                function ye(e, t) {
                  var i = e.Headers;
                  i["Cache-Control"] ||
                    i["cache-control"] ||
                    (i["Cache-Control"] = ""),
                    i["Content-Type"] ||
                      i["content-type"] ||
                      (i["Content-Type"] = (e.Body && e.Body.type) || ""),
                    Ae.call(
                      this,
                      {
                        Action: "name/cos:AppendObject",
                        method: "POST",
                        Bucket: e.Bucket,
                        Region: e.Region,
                        action: "append",
                        Key: e.Key,
                        body: e.Body,
                        qs: { position: e.Position },
                        headers: e.Headers,
                      },
                      function (e, i) {
                        if (e) return t(e);
                        t(null, i);
                      }
                    );
                }
                function we(e) {
                  var t = this;
                  return $e.getAuth({
                    SecretId: e.SecretId || this.options.SecretId || "",
                    SecretKey: e.SecretKey || this.options.SecretKey || "",
                    Bucket: e.Bucket,
                    Region: e.Region,
                    Method: e.Method,
                    Key: e.Key,
                    Query: e.Query,
                    Headers: e.Headers,
                    Expires: e.Expires,
                    UseRawKey: t.options.UseRawKey,
                    SystemClockOffset: t.options.SystemClockOffset,
                  });
                }
                function Ce(e, t) {
                  var i = this,
                    s =
                      void 0 === e.UseAccelerate
                        ? i.options.UseAccelerate
                        : e.UseAccelerate,
                    n = xe({
                      ForcePathStyle: i.options.ForcePathStyle,
                      protocol: e.Protocol || i.options.Protocol,
                      domain: e.Domain || i.options.Domain,
                      bucket: e.Bucket,
                      region: s ? "accelerate" : e.Region,
                      object: e.Key,
                    }),
                    o = "";
                  e.Query && (o += $e.obj2str(e.Query)),
                    e.QueryString && (o += (o ? "&" : "") + e.QueryString);
                  var a = n;
                  if (void 0 !== e.Sign && !e.Sign)
                    return o && (a += "?" + o), t(null, { Url: a }), a;
                  var r = Re.call(this, {
                      Bucket: e.Bucket,
                      Region: e.Region,
                      UseAccelerate: e.UseAccelerate,
                      Url: n,
                    }),
                    l = De.call(
                      this,
                      {
                        Action:
                          "PUT" === (e.Method || "").toUpperCase()
                            ? "name/cos:PutObject"
                            : "name/cos:GetObject",
                        Bucket: e.Bucket || "",
                        Region: e.Region || "",
                        Method: e.Method || "get",
                        Key: e.Key,
                        Expires: e.Expires,
                        Headers: e.Headers,
                        Query: e.Query,
                        SignHost: r,
                        ForceSignHost:
                          !1 !== e.ForceSignHost && i.options.ForceSignHost,
                      },
                      function (e, i) {
                        if (t) {
                          if (e) return void t(e);
                          var s = n;
                          (s +=
                            "?" +
                            (i.Authorization.indexOf("q-signature") > -1
                              ? (function (e) {
                                  var t = e.match(
                                      /q-url-param-list.*?(?=&)/g
                                    )[0],
                                    i =
                                      "q-url-param-list=" +
                                      encodeURIComponent(
                                        t.replace(/q-url-param-list=/, "")
                                      ).toLowerCase(),
                                    s = new RegExp(t, "g");
                                  return e.replace(s, i);
                                })(i.Authorization)
                              : "sign=" + encodeURIComponent(i.Authorization))),
                            i.SecurityToken &&
                              (s += "&x-cos-security-token=" + i.SecurityToken),
                            i.ClientIP && (s += "&clientIP=" + i.ClientIP),
                            i.ClientUA && (s += "&clientUA=" + i.ClientUA),
                            i.Token && (s += "&token=" + i.Token),
                            o && (s += "&" + o),
                            setTimeout(function () {
                              t(null, { Url: s });
                            });
                        }
                      }
                    );
                  return (
                    l
                      ? ((a +=
                          "?" +
                          l.Authorization +
                          (l.SecurityToken
                            ? "&x-cos-security-token=" + l.SecurityToken
                            : "")),
                        o && (a += "&" + o))
                      : o && (a += "?" + o),
                    a
                  );
                }
                function be(e) {
                  var t = {
                      GrantFullControl: [],
                      GrantWrite: [],
                      GrantRead: [],
                      GrantReadAcp: [],
                      GrantWriteAcp: [],
                      ACL: "",
                    },
                    i = {
                      FULL_CONTROL: "GrantFullControl",
                      WRITE: "GrantWrite",
                      READ: "GrantRead",
                      READ_ACP: "GrantReadAcp",
                      WRITE_ACP: "GrantWriteAcp",
                    },
                    s = (e && e.AccessControlList) || {},
                    n = s.Grant;
                  n && (n = $e.isArray(n) ? n : [n]);
                  var o = { READ: 0, WRITE: 0, FULL_CONTROL: 0 };
                  return (
                    n &&
                      n.length &&
                      $e.each(n, function (s) {
                        "qcs::cam::anyone:anyone" === s.Grantee.ID ||
                        "http://cam.qcloud.com/groups/global/AllUsers" ===
                          s.Grantee.URI
                          ? (o[s.Permission] = 1)
                          : s.Grantee.ID !== e.Owner.ID &&
                            t[i[s.Permission]].push(
                              'id="' + s.Grantee.ID + '"'
                            );
                      }),
                    o.FULL_CONTROL || (o.WRITE && o.READ)
                      ? (t.ACL = "public-read-write")
                      : o.READ
                      ? (t.ACL = "public-read")
                      : (t.ACL = "private"),
                    $e.each(i, function (e) {
                      t[e] = ke(t[e].join(","));
                    }),
                    t
                  );
                }
                function ke(e) {
                  var t,
                    i,
                    s = e.split(","),
                    n = {};
                  for (t = 0; t < s.length; )
                    (i = s[t].trim()),
                      n[i] ? s.splice(t, 1) : ((n[i] = !0), (s[t] = i), t++);
                  return s.join(",");
                }
                function xe(e) {
                  var t = e.region || "",
                    i = e.bucket || "",
                    s = i.substr(0, i.lastIndexOf("-")),
                    n = i.substr(i.lastIndexOf("-") + 1),
                    o = e.domain,
                    a = e.object;
                  "function" == typeof o && (o = o({ Bucket: i, Region: t }));
                  var r =
                    e.protocol ||
                    ($e.isBrowser && "http:" === location.protocol
                      ? "http:"
                      : "https:");
                  o ||
                    ((o =
                      [
                        "cn-south",
                        "cn-south-2",
                        "cn-north",
                        "cn-east",
                        "cn-southwest",
                        "sg",
                      ].indexOf(t) > -1
                        ? "{Region}.myqcloud.com"
                        : "cos.{Region}.myqcloud.com"),
                    e.ForcePathStyle || (o = "{Bucket}." + o)),
                    (o = o
                      .replace(/\{\{AppId\}\}/gi, n)
                      .replace(/\{\{Bucket\}\}/gi, s)
                      .replace(/\{\{Region\}\}/gi, t)
                      .replace(/\{\{.*?\}\}/gi, "")),
                    (o = o
                      .replace(/\{AppId\}/gi, n)
                      .replace(/\{BucketName\}/gi, s)
                      .replace(/\{Bucket\}/gi, i)
                      .replace(/\{Region\}/gi, t)
                      .replace(/\{.*?\}/gi, "")),
                    /^[a-zA-Z]+:\/\//.test(o) || (o = r + "//" + o),
                    "/" === o.slice(-1) && (o = o.slice(0, -1));
                  var l = o;
                  return (
                    e.ForcePathStyle && (l += "/" + i),
                    (l += "/"),
                    a && (l += $e.camSafeUrlEncode(a).replace(/%2F/g, "/")),
                    e.isLocation && (l = l.replace(/^https?:\/\//, "")),
                    l
                  );
                }
                function De(e, t) {
                  var i = $e.clone(e.Headers),
                    s = "";
                  $e.each(i, function (e, t) {
                    ("" === e ||
                      ["content-type", "cache-control", "expires"].indexOf(
                        t.toLowerCase()
                      ) > -1) &&
                      delete i[t],
                      "host" === t.toLowerCase() && (s = e);
                  });
                  var n = !1 !== e.ForceSignHost;
                  !s && e.SignHost && n && (i.Host = e.SignHost);
                  var o = !1,
                    a = function (e, i) {
                      o ||
                        ((o = !0),
                        i &&
                          i.XCosSecurityToken &&
                          !i.SecurityToken &&
                          ((i = $e.clone(i)),
                          (i.SecurityToken = i.XCosSecurityToken),
                          delete i.XCosSecurityToken),
                        t && t(e, i));
                    },
                    r = this,
                    l = e.Bucket || "",
                    c = e.Region || "",
                    u = e.Key || "";
                  r.options.ForcePathStyle && l && (u = l + "/" + u);
                  var d = "/" + u,
                    h = {},
                    p = e.Scope;
                  if (!p) {
                    var _ = e.Action || "",
                      m = e.ResourceKey || e.Key || "";
                    p = e.Scope || [
                      { action: _, bucket: l, region: c, prefix: m },
                    ];
                  }
                  var g = $e.md5(JSON.stringify(p));
                  (r._StsCache = r._StsCache || []),
                    (function () {
                      var e, t;
                      for (e = r._StsCache.length - 1; e >= 0; e--) {
                        t = r._StsCache[e];
                        var i =
                          Math.round(
                            $e.getSkewTime(r.options.SystemClockOffset) / 1e3
                          ) + 30;
                        if (
                          (t.StartTime && i < t.StartTime) ||
                          i >= t.ExpiredTime
                        )
                          r._StsCache.splice(e, 1);
                        else if (
                          !t.ScopeLimit ||
                          (t.ScopeLimit && t.ScopeKey === g)
                        ) {
                          h = t;
                          break;
                        }
                      }
                    })();
                  var f = function () {
                      var t = "";
                      h.StartTime && e.Expires
                        ? (t =
                            h.StartTime + ";" + (h.StartTime + 1 * e.Expires))
                        : h.StartTime &&
                          h.ExpiredTime &&
                          (t = h.StartTime + ";" + h.ExpiredTime);
                      var s = $e.getAuth({
                          SecretId: h.TmpSecretId,
                          SecretKey: h.TmpSecretKey,
                          Method: e.Method,
                          Pathname: d,
                          Query: e.Query,
                          Headers: i,
                          Expires: e.Expires,
                          UseRawKey: r.options.UseRawKey,
                          SystemClockOffset: r.options.SystemClockOffset,
                          KeyTime: t,
                          ForceSignHost: n,
                        }),
                        o = {
                          Authorization: s,
                          SecurityToken:
                            h.SecurityToken || h.XCosSecurityToken || "",
                          Token: h.Token || "",
                          ClientIP: h.ClientIP || "",
                          ClientUA: h.ClientUA || "",
                        };
                      a(null, o);
                    },
                    v = function (e) {
                      if (e.Authorization) {
                        var t = !1,
                          i = e.Authorization;
                        if (i)
                          if (i.indexOf(" ") > -1) t = !1;
                          else if (
                            i.indexOf("q-sign-algorithm=") > -1 &&
                            i.indexOf("q-ak=") > -1 &&
                            i.indexOf("q-sign-time=") > -1 &&
                            i.indexOf("q-key-time=") > -1 &&
                            i.indexOf("q-url-param-list=") > -1
                          )
                            t = !0;
                          else
                            try {
                              (i = atob(i)),
                                i.indexOf("a=") > -1 &&
                                  i.indexOf("k=") > -1 &&
                                  i.indexOf("t=") > -1 &&
                                  i.indexOf("r=") > -1 &&
                                  i.indexOf("b=") > -1 &&
                                  (t = !0);
                            } catch (e) {}
                        if (!t)
                          return $e.error(
                            new Error(
                              "getAuthorization callback params format error"
                            )
                          );
                      } else {
                        if (!e.TmpSecretId)
                          return $e.error(
                            new Error(
                              'getAuthorization callback params missing "TmpSecretId"'
                            )
                          );
                        if (!e.TmpSecretKey)
                          return $e.error(
                            new Error(
                              'getAuthorization callback params missing "TmpSecretKey"'
                            )
                          );
                        if (!e.SecurityToken && !e.XCosSecurityToken)
                          return $e.error(
                            new Error(
                              'getAuthorization callback params missing "SecurityToken"'
                            )
                          );
                        if (!e.ExpiredTime)
                          return $e.error(
                            new Error(
                              'getAuthorization callback params missing "ExpiredTime"'
                            )
                          );
                        if (
                          e.ExpiredTime &&
                          10 !== e.ExpiredTime.toString().length
                        )
                          return $e.error(
                            new Error(
                              'getAuthorization callback params "ExpiredTime" should be 10 digits'
                            )
                          );
                        if (e.StartTime && 10 !== e.StartTime.toString().length)
                          return $e.error(
                            new Error(
                              'getAuthorization callback params "StartTime" should be 10 StartTime'
                            )
                          );
                      }
                      return !1;
                    };
                  if (
                    h.ExpiredTime &&
                    h.ExpiredTime -
                      $e.getSkewTime(r.options.SystemClockOffset) / 1e3 >
                      60
                  )
                    f();
                  else if (r.options.getAuthorization)
                    r.options.getAuthorization.call(
                      r,
                      {
                        Bucket: l,
                        Region: c,
                        Method: e.Method,
                        Key: u,
                        Pathname: d,
                        Query: e.Query,
                        Headers: i,
                        Scope: p,
                        SystemClockOffset: r.options.SystemClockOffset,
                        ForceSignHost: n,
                      },
                      function (e) {
                        "string" == typeof e && (e = { Authorization: e });
                        var t = v(e);
                        if (t) return a(t);
                        e.Authorization
                          ? a(null, e)
                          : ((h = e || {}),
                            (h.Scope = p),
                            (h.ScopeKey = g),
                            r._StsCache.push(h),
                            f());
                      }
                    );
                  else {
                    if (!r.options.getSTS)
                      return (function () {
                        var t = $e.getAuth({
                            SecretId: e.SecretId || r.options.SecretId,
                            SecretKey: e.SecretKey || r.options.SecretKey,
                            Method: e.Method,
                            Pathname: d,
                            Query: e.Query,
                            Headers: i,
                            Expires: e.Expires,
                            UseRawKey: r.options.UseRawKey,
                            SystemClockOffset: r.options.SystemClockOffset,
                            ForceSignHost: n,
                          }),
                          s = {
                            Authorization: t,
                            SecurityToken:
                              r.options.SecurityToken ||
                              r.options.XCosSecurityToken,
                          };
                        return a(null, s), s;
                      })();
                    r.options.getSTS.call(
                      r,
                      { Bucket: l, Region: c },
                      function (e) {
                        (h = e || {}),
                          (h.Scope = p),
                          (h.ScopeKey = g),
                          h.TmpSecretId || (h.TmpSecretId = h.SecretId),
                          h.TmpSecretKey || (h.TmpSecretKey = h.SecretKey);
                        var t = v(h);
                        if (t) return a(t);
                        r._StsCache.push(h), f();
                      }
                    );
                  }
                  return "";
                }
                function Se(e) {
                  var t = !1,
                    i = !1,
                    s =
                      (e.headers && (e.headers.date || e.headers.Date)) ||
                      (e.error && e.error.ServerTime);
                  try {
                    var n = e.error.Code,
                      o = e.error.Message;
                    ("RequestTimeTooSkewed" === n ||
                      ("AccessDenied" === n && "Request has expired" === o)) &&
                      (i = !0);
                  } catch (e) {}
                  if (e)
                    if (i && s) {
                      var a = Date.parse(s);
                      this.options.CorrectClockSkew &&
                        Math.abs(
                          $e.getSkewTime(this.options.SystemClockOffset) - a
                        ) >= 3e4 &&
                        (console.error("error: Local time is too skewed."),
                        (this.options.SystemClockOffset = a - Date.now()),
                        (t = !0));
                    } else 5 === Math.floor(e.statusCode / 100) && (t = !0);
                  return t;
                }
                function Ae(e, t) {
                  var i = this;
                  !e.headers && (e.headers = {}),
                    !e.qs && (e.qs = {}),
                    e.VersionId && (e.qs.versionId = e.VersionId),
                    (e.qs = $e.clearKey(e.qs)),
                    e.headers && (e.headers = $e.clearKey(e.headers)),
                    e.qs && (e.qs = $e.clearKey(e.qs));
                  var s = $e.clone(e.qs);
                  e.action && (s[e.action] = "");
                  var n = e.url || e.Url,
                    o =
                      e.SignHost ||
                      Re.call(this, {
                        Bucket: e.Bucket,
                        Region: e.Region,
                        Url: n,
                      }),
                    a = function (n) {
                      var r = i.options.SystemClockOffset;
                      De.call(
                        i,
                        {
                          Bucket: e.Bucket || "",
                          Region: e.Region || "",
                          Method: e.method,
                          Key: e.Key,
                          Query: s,
                          Headers: e.headers,
                          SignHost: o,
                          Action: e.Action,
                          ResourceKey: e.ResourceKey,
                          Scope: e.Scope,
                          ForceSignHost: i.options.ForceSignHost,
                        },
                        function (s, o) {
                          s
                            ? t(s)
                            : ((e.AuthData = o),
                              Ee.call(i, e, function (s, o) {
                                s &&
                                n < 2 &&
                                (r !== i.options.SystemClockOffset ||
                                  Se.call(i, s))
                                  ? (e.headers &&
                                      (delete e.headers.Authorization,
                                      delete e.headers.token,
                                      delete e.headers.clientIP,
                                      delete e.headers.clientUA,
                                      e.headers["x-cos-security-token"] &&
                                        delete e.headers[
                                          "x-cos-security-token"
                                        ],
                                      e.headers["x-ci-security-token"] &&
                                        delete e.headers[
                                          "x-ci-security-token"
                                        ]),
                                    a(n + 1))
                                  : t(s, o);
                              }));
                        }
                      );
                    };
                  a(1);
                }
                function Ee(e, t) {
                  var i = this,
                    s = e.TaskId;
                  if (!s || i._isRunningTask(s)) {
                    var n = e.Bucket,
                      o = e.Region,
                      a = e.Key,
                      r = e.method || "GET",
                      l = e.Url || e.url,
                      c = e.body,
                      u = e.rawBody;
                    i.options.UseAccelerate && (o = "accelerate"),
                      (l =
                        l ||
                        xe({
                          ForcePathStyle: i.options.ForcePathStyle,
                          protocol: i.options.Protocol,
                          domain: i.options.Domain,
                          bucket: n,
                          region: o,
                          object: a,
                        })),
                      e.action && (l = l + "?" + e.action),
                      e.qsStr &&
                        (l =
                          l.indexOf("?") > -1
                            ? l + "&" + e.qsStr
                            : l + "?" + e.qsStr);
                    var d = {
                        method: r,
                        url: l,
                        headers: e.headers,
                        qs: e.qs,
                        body: c,
                      },
                      h = "x-cos-security-token";
                    if (
                      ($e.isCIHost(l) && (h = "x-ci-security-token"),
                      (d.headers.Authorization = e.AuthData.Authorization),
                      e.AuthData.Token && (d.headers.token = e.AuthData.Token),
                      e.AuthData.ClientIP &&
                        (d.headers.clientIP = e.AuthData.ClientIP),
                      e.AuthData.ClientUA &&
                        (d.headers.clientUA = e.AuthData.ClientUA),
                      e.AuthData.SecurityToken &&
                        (d.headers[h] = e.AuthData.SecurityToken),
                      d.headers && (d.headers = $e.clearKey(d.headers)),
                      (d = $e.clearKey(d)),
                      e.onProgress && "function" == typeof e.onProgress)
                    ) {
                      var p = (c && (c.size || c.length)) || 0;
                      d.onProgress = function (t) {
                        if (!s || i._isRunningTask(s)) {
                          var n = t ? t.loaded : 0;
                          e.onProgress({ loaded: n, total: p });
                        }
                      };
                    }
                    e.onDownloadProgress &&
                      (d.onDownloadProgress = e.onDownloadProgress),
                      e.DataType && (d.dataType = e.DataType),
                      this.options.Timeout &&
                        (d.timeout = this.options.Timeout),
                      i.options.ForcePathStyle &&
                        (d.pathStyle = i.options.ForcePathStyle),
                      i.emit("before-send", d);
                    var _ = (i.options.Request || Be)(d, function (e) {
                        if ("abort" !== e.error) {
                          var n = {
                            options: d,
                            error: r,
                            statusCode: (a && a.statusCode) || 0,
                            headers: (a && a.headers) || {},
                            body: l,
                          };
                          i.emit("after-receive", n),
                            (r = n.error),
                            (l = n.body),
                            (a = {
                              statusCode: n.statusCode,
                              headers: n.headers,
                            }),
                            i.emit("after-receive", e);
                          var o,
                            a = {
                              statusCode: e.statusCode,
                              statusMessage: e.statusMessage,
                              headers: e.headers,
                            },
                            r = e.error,
                            l = e.body,
                            c = function (e, n) {
                              if ((s && i.off("inner-kill-task", m), !o)) {
                                o = !0;
                                var r = {};
                                a &&
                                  a.statusCode &&
                                  (r.statusCode = a.statusCode),
                                  a && a.headers && (r.headers = a.headers),
                                  e
                                    ? ((e = $e.extend(e || {}, r)), t(e, null))
                                    : ((n = $e.extend(n || {}, r)), t(null, n)),
                                  (_ = null);
                              }
                            };
                          if (r) return c($e.error(r));
                          var h,
                            p = a.statusCode,
                            g = 2 === Math.floor(p / 100);
                          if (u && g) return c(null, { body: l });
                          try {
                            h =
                              (l &&
                                l.indexOf("<") > -1 &&
                                l.indexOf(">") > -1 &&
                                $e.xml2json(l)) ||
                              {};
                          } catch (e) {
                            h = {};
                          }
                          var f = h && h.Error;
                          g
                            ? c(null, h)
                            : f
                            ? c(
                                $e.error(new Error(f.Message), {
                                  code: f.Code,
                                  error: f,
                                })
                              )
                            : p
                            ? c(
                                $e.error(new Error(a.statusMessage), {
                                  code: "" + p,
                                })
                              )
                            : p && c($e.error(new Error("statusCode error")));
                        }
                      }),
                      m = function (e) {
                        e.TaskId === s &&
                          (_ && _.abort && _.abort(),
                          i.off("inner-kill-task", m));
                      };
                    s && i.on("inner-kill-task", m);
                  }
                }
                function Te(e, t, i) {
                  $e.each(["Cors", "Acl"], function (s) {
                    if (e.slice(-s.length) === s) {
                      var n = e.slice(0, -s.length) + s.toUpperCase(),
                        o = $e.apiWrapper(e, t),
                        a = !1;
                      i[n] = function () {
                        !a &&
                          console.warn(
                            "warning: cos." +
                              n +
                              " has been deprecated. Please Use cos." +
                              e +
                              " instead."
                          ),
                          (a = !0),
                          o.apply(this, arguments);
                      };
                    }
                  });
                }
                var Be = i(20),
                  $e = i(0),
                  Re = function (e) {
                    if (!e.Bucket || !e.Region) return "";
                    var t =
                        void 0 === e.UseAccelerate
                          ? this.options.UseAccelerate
                          : e.UseAccelerate,
                      i =
                        e.Url ||
                        xe({
                          ForcePathStyle: this.options.ForcePathStyle,
                          protocol: this.options.Protocol,
                          domain: this.options.Domain,
                          bucket: e.Bucket,
                          region: t ? "accelerate" : e.Region,
                        }),
                      s = i.replace(/^https?:\/\/([^\/]+)(\/.*)?$/, "$1");
                    return new RegExp(
                      "^([a-z\\d-]+-\\d+\\.)?(cos|cosv6|ci|pic)\\.([a-z\\d-]+)\\.myqcloud\\.com$"
                    ).test(s)
                      ? s
                      : "";
                  },
                  Me = {
                    getService: s,
                    putBucket: n,
                    headBucket: o,
                    getBucket: a,
                    deleteBucket: r,
                    putBucketAcl: l,
                    getBucketAcl: c,
                    putBucketCors: u,
                    getBucketCors: d,
                    deleteBucketCors: h,
                    getBucketLocation: p,
                    getBucketPolicy: m,
                    putBucketPolicy: _,
                    deleteBucketPolicy: g,
                    putBucketTagging: f,
                    getBucketTagging: v,
                    deleteBucketTagging: y,
                    putBucketLifecycle: w,
                    getBucketLifecycle: C,
                    deleteBucketLifecycle: b,
                    putBucketVersioning: k,
                    getBucketVersioning: x,
                    putBucketReplication: D,
                    getBucketReplication: S,
                    deleteBucketReplication: A,
                    putBucketWebsite: E,
                    getBucketWebsite: T,
                    deleteBucketWebsite: B,
                    putBucketReferer: $,
                    getBucketReferer: R,
                    putBucketDomain: M,
                    getBucketDomain: P,
                    deleteBucketDomain: I,
                    putBucketOrigin: F,
                    getBucketOrigin: U,
                    deleteBucketOrigin: N,
                    putBucketLogging: O,
                    getBucketLogging: H,
                    putBucketInventory: L,
                    getBucketInventory: K,
                    listBucketInventory: z,
                    deleteBucketInventory: q,
                    putBucketAccelerate: W,
                    getBucketAccelerate: j,
                    putBucketEncryption: G,
                    getBucketEncryption: V,
                    deleteBucketEncryption: X,
                    getObject: Q,
                    headObject: Z,
                    listObjectVersions: Y,
                    putObject: J,
                    deleteObject: ee,
                    getObjectAcl: te,
                    putObjectAcl: ie,
                    optionsObject: se,
                    putObjectCopy: ne,
                    deleteMultipleObject: ae,
                    restoreObject: re,
                    putObjectTagging: le,
                    getObjectTagging: ce,
                    deleteObjectTagging: ue,
                    selectObjectContent: de,
                    appendObject: ye,
                    uploadPartCopy: oe,
                    multipartInit: he,
                    multipartUpload: pe,
                    multipartComplete: _e,
                    multipartList: me,
                    multipartListPart: ge,
                    multipartAbort: fe,
                    request: ve,
                    getObjectUrl: Ce,
                    getAuth: we,
                  };
                e.exports.init = function (e, t) {
                  t.transferToTaskMethod(Me, "putObject"),
                    $e.each(Me, function (t, i) {
                      (e.prototype[i] = $e.apiWrapper(i, t)),
                        Te(i, t, e.prototype);
                    });
                };
              },
              function (e, t) {
                var i = function (e) {
                    switch (typeof e) {
                      case "string":
                        return e;
                      case "boolean":
                        return e ? "true" : "false";
                      case "number":
                        return isFinite(e) ? e : "";
                      default:
                        return "";
                    }
                  },
                  s = function (e, t, s, n) {
                    return (
                      (t = t || "&"),
                      (s = s || "="),
                      null === e && (e = void 0),
                      "object" == typeof e
                        ? Object.keys(e)
                            .map(function (n) {
                              var o = encodeURIComponent(i(n)) + s;
                              return Array.isArray(e[n])
                                ? e[n]
                                    .map(function (e) {
                                      return o + encodeURIComponent(i(e));
                                    })
                                    .join(t)
                                : o + encodeURIComponent(i(e[n]));
                            })
                            .filter(Boolean)
                            .join(t)
                        : n
                        ? encodeURIComponent(i(n)) +
                          s +
                          encodeURIComponent(i(e))
                        : ""
                    );
                  },
                  n = function (e, t, i) {
                    var s = {};
                    return (
                      t
                        .getAllResponseHeaders()
                        .trim()
                        .split("\n")
                        .forEach(function (e) {
                          if (e) {
                            var t = e.indexOf(":"),
                              i = e.substr(0, t).trim().toLowerCase(),
                              n = e.substr(t + 1).trim();
                            s[i] = n;
                          }
                        }),
                      {
                        error: e,
                        statusCode: t.status,
                        statusMessage: t.statusText,
                        headers: s,
                        body: i,
                      }
                    );
                  },
                  o = function (e, t) {
                    return t || "text" !== t ? e.response : e.responseText;
                  },
                  a = function (e, t) {
                    var i = (e.method || "GET").toUpperCase(),
                      a = e.url;
                    if (e.qs) {
                      var r = s(e.qs);
                      r && (a += (-1 === a.indexOf("?") ? "?" : "&") + r);
                    }
                    var l = new XMLHttpRequest();
                    if (
                      (l.open(i, a, !0),
                      (l.responseType = e.dataType || "text"),
                      e.xhrFields)
                    )
                      for (var c in e.xhrFields) l[c] = e.xhrFields[c];
                    var u = e.headers;
                    if (u)
                      for (var d in u)
                        u.hasOwnProperty(d) &&
                          "content-length" !== d.toLowerCase() &&
                          "user-agent" !== d.toLowerCase() &&
                          "origin" !== d.toLowerCase() &&
                          "host" !== d.toLowerCase() &&
                          l.setRequestHeader(d, u[d]);
                    return (
                      e.onProgress &&
                        l.upload &&
                        (l.upload.onprogress = e.onProgress),
                      e.onDownloadProgress &&
                        (l.onprogress = e.onDownloadProgress),
                      e.timeout && (l.timeout = e.timeout),
                      (l.ontimeout = function (e) {
                        var i = new Error("timeout");
                        t(n(i, l));
                      }),
                      (l.onload = function () {
                        t(n(null, l, o(l, e.dataType)));
                      }),
                      (l.onerror = function (i) {
                        var s = o(l, e.dataType);
                        if (s) t(n(null, l, s));
                        else {
                          var a = l.statusText;
                          a ||
                            0 !== l.status ||
                            (a = new Error("CORS blocked or network error")),
                            t(n(a, l, s));
                        }
                      }),
                      l.send(e.body || ""),
                      l
                    );
                  };
                e.exports = a;
              },
              function (e, t, i) {
                function s(e, t) {
                  var i,
                    s,
                    o = this,
                    a = new v(),
                    l = e.TaskId,
                    u = e.Bucket,
                    d = e.Region,
                    h = e.Key,
                    p = e.Body,
                    _ = e.ChunkSize || e.SliceSize || o.options.ChunkSize,
                    m = e.AsyncLimit,
                    f = e.StorageClass,
                    w = e.ServerSideEncryption,
                    C = e.onHashProgress;
                  a.on("error", function (i) {
                    if (o._isRunningTask(l))
                      return (i.UploadId = e.UploadData.UploadId || ""), t(i);
                  }),
                    a.on("upload_complete", function (i) {
                      var s = y.extend(
                        { UploadId: e.UploadData.UploadId || "" },
                        i
                      );
                      t(null, s);
                    }),
                    a.on("upload_slice_complete", function (t) {
                      var n = {};
                      y.each(e.Headers, function (e, t) {
                        var i = t.toLowerCase();
                        (0 !== i.indexOf("x-cos-meta-") &&
                          "pic-operations" !== i) ||
                          (n[t] = e);
                      }),
                        c.call(
                          o,
                          {
                            Bucket: u,
                            Region: d,
                            Key: h,
                            UploadId: t.UploadId,
                            SliceList: t.SliceList,
                            Headers: n,
                          },
                          function (e, n) {
                            if (o._isRunningTask(l)) {
                              if ((g.removeUsing(t.UploadId), e))
                                return s(null, !0), a.emit("error", e);
                              g.removeUploadId.call(o, t.UploadId),
                                s({ loaded: i, total: i }, !0),
                                a.emit("upload_complete", n);
                            }
                          }
                        );
                    }),
                    a.on("get_upload_data_finish", function (t) {
                      var n = g.getFileId(p, e.ChunkSize, u, h);
                      n &&
                        g.saveUploadId.call(
                          o,
                          n,
                          t.UploadId,
                          o.options.UploadIdCacheLimit
                        ),
                        g.setUsing(t.UploadId),
                        s(null, !0),
                        r.call(
                          o,
                          {
                            TaskId: l,
                            Bucket: u,
                            Region: d,
                            Key: h,
                            Body: p,
                            FileSize: i,
                            SliceSize: _,
                            AsyncLimit: m,
                            ServerSideEncryption: w,
                            UploadData: t,
                            Headers: e.Headers,
                            onProgress: s,
                          },
                          function (e, t) {
                            if (o._isRunningTask(l))
                              return e
                                ? (s(null, !0), a.emit("error", e))
                                : void a.emit("upload_slice_complete", t);
                          }
                        );
                    }),
                    a.on("get_file_size_finish", function () {
                      if (
                        ((s = y.throttleOnProgress.call(o, i, e.onProgress)),
                        e.UploadData.UploadId)
                      )
                        a.emit("get_upload_data_finish", e.UploadData);
                      else {
                        var t = y.extend(
                          {
                            TaskId: l,
                            Bucket: u,
                            Region: d,
                            Key: h,
                            Headers: e.Headers,
                            StorageClass: f,
                            Body: p,
                            FileSize: i,
                            SliceSize: _,
                            onHashProgress: C,
                          },
                          e
                        );
                        n.call(o, t, function (t, i) {
                          if (o._isRunningTask(l)) {
                            if (t) return a.emit("error", t);
                            (e.UploadData.UploadId = i.UploadId),
                              (e.UploadData.PartList = i.PartList),
                              a.emit("get_upload_data_finish", e.UploadData);
                          }
                        });
                      }
                    }),
                    (i = e.ContentLength),
                    delete e.ContentLength,
                    !e.Headers && (e.Headers = {}),
                    y.each(e.Headers, function (t, i) {
                      "content-length" === i.toLowerCase() &&
                        delete e.Headers[i];
                    }),
                    (function () {
                      for (
                        var t = [
                            1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048,
                            4096, 5120,
                          ],
                          s = 1048576,
                          n = 0;
                        n < t.length &&
                        ((s = 1024 * t[n] * 1024),
                        !(i / s <= o.options.MaxPartNumber));
                        n++
                      );
                      e.ChunkSize = e.SliceSize = _ = Math.max(_, s);
                    })(),
                    0 === i
                      ? ((e.Body = ""),
                        (e.ContentLength = 0),
                        (e.SkipTask = !0),
                        o.putObject(e, t))
                      : a.emit("get_file_size_finish");
                }
                function n(e, t) {
                  var i = e.TaskId,
                    s = e.Bucket,
                    n = e.Region,
                    r = e.Key,
                    l = e.StorageClass,
                    c = this,
                    u = {},
                    d = e.FileSize,
                    h = e.SliceSize,
                    p = Math.ceil(d / h),
                    _ = 0,
                    m = y.throttleOnProgress.call(c, d, e.onHashProgress),
                    w = function (t, i) {
                      var s = h * (t - 1),
                        n = Math.min(s + h, d),
                        o = n - s;
                      u[t]
                        ? i(null, { PartNumber: t, ETag: u[t], Size: o })
                        : y.fileSlice(e.Body, s, n, !1, function (e) {
                            y.getFileMd5(e, function (e, s) {
                              if (e) return i(y.error(e));
                              var n = '"' + s + '"';
                              (u[t] = n),
                                1,
                                (_ += o),
                                m({ loaded: _, total: d }),
                                i(null, { PartNumber: t, ETag: n, Size: o });
                            });
                          });
                    },
                    C = function (e, t) {
                      var i = e.length;
                      if (0 === i) return t(null, !0);
                      if (i > p) return t(null, !1);
                      if (i > 1 && Math.max(e[0].Size, e[1].Size) !== h)
                        return t(null, !1);
                      var s = function (n) {
                        if (n < i) {
                          var o = e[n];
                          w(o.PartNumber, function (e, i) {
                            i && i.ETag === o.ETag && i.Size === o.Size
                              ? s(n + 1)
                              : t(null, !1);
                          });
                        } else t(null, !0);
                      };
                      s(0);
                    },
                    b = new v();
                  b.on("error", function (e) {
                    if (c._isRunningTask(i)) return t(e);
                  }),
                    b.on("upload_id_available", function (e) {
                      var i = {},
                        s = [];
                      y.each(e.PartList, function (e) {
                        i[e.PartNumber] = e;
                      });
                      for (var n = 1; n <= p; n++) {
                        var o = i[n];
                        o
                          ? ((o.PartNumber = n), (o.Uploaded = !0))
                          : (o = { PartNumber: n, ETag: null, Uploaded: !1 }),
                          s.push(o);
                      }
                      (e.PartList = s), t(null, e);
                    }),
                    b.on("no_available_upload_id", function () {
                      if (c._isRunningTask(i)) {
                        var o = y.extend(
                            {
                              Bucket: s,
                              Region: n,
                              Key: r,
                              Query: y.clone(e.Query),
                              StorageClass: l,
                              Body: e.Body,
                            },
                            e
                          ),
                          a = y.clone(e.Headers);
                        delete a["x-cos-mime-limit"],
                          (o.Headers = a),
                          c.multipartInit(o, function (e, s) {
                            if (c._isRunningTask(i)) {
                              if (e) return b.emit("error", e);
                              var n = s.UploadId;
                              if (!n)
                                return t(
                                  y.error(new Error("no such upload id"))
                                );
                              b.emit("upload_id_available", {
                                UploadId: n,
                                PartList: [],
                              });
                            }
                          });
                      }
                    }),
                    b.on("has_and_check_upload_id", function (e) {
                      (e = e.reverse()),
                        f.eachLimit(
                          e,
                          1,
                          function (e, t) {
                            if (c._isRunningTask(i))
                              return g.using[e]
                                ? void t()
                                : void a.call(
                                    c,
                                    {
                                      Bucket: s,
                                      Region: n,
                                      Key: r,
                                      UploadId: e,
                                    },
                                    function (s, n) {
                                      if (c._isRunningTask(i)) {
                                        if (s)
                                          return (
                                            g.removeUsing(e), b.emit("error", s)
                                          );
                                        var o = n.PartList;
                                        o.forEach(function (e) {
                                          (e.PartNumber *= 1),
                                            (e.Size *= 1),
                                            (e.ETag = e.ETag || "");
                                        }),
                                          C(o, function (s, n) {
                                            if (c._isRunningTask(i))
                                              return s
                                                ? b.emit("error", s)
                                                : void (n
                                                    ? t({
                                                        UploadId: e,
                                                        PartList: o,
                                                      })
                                                    : t());
                                          });
                                      }
                                    }
                                  );
                          },
                          function (e) {
                            c._isRunningTask(i) &&
                              (m(null, !0),
                              e && e.UploadId
                                ? b.emit("upload_id_available", e)
                                : b.emit("no_available_upload_id"));
                          }
                        );
                    }),
                    b.on("seek_local_avail_upload_id", function (t) {
                      var o = g.getFileId(e.Body, e.ChunkSize, s, r),
                        l = g.getUploadIdList.call(c, o);
                      if (o && l) {
                        var u = function (e) {
                          if (!(e >= l.length)) {
                            var o = l[e];
                            return y.isInArray(t, o)
                              ? g.using[o]
                                ? void u(e + 1)
                                : void a.call(
                                    c,
                                    {
                                      Bucket: s,
                                      Region: n,
                                      Key: r,
                                      UploadId: o,
                                    },
                                    function (t, s) {
                                      c._isRunningTask(i) &&
                                        (t
                                          ? (g.removeUploadId.call(c, o),
                                            u(e + 1))
                                          : b.emit("upload_id_available", {
                                              UploadId: o,
                                              PartList: s.PartList,
                                            }));
                                    }
                                  )
                              : (g.removeUploadId.call(c, o), void u(e + 1));
                          }
                          b.emit("has_and_check_upload_id", t);
                        };
                        u(0);
                      } else b.emit("has_and_check_upload_id", t);
                    }),
                    b.on("get_remote_upload_id_list", function () {
                      o.call(
                        c,
                        { Bucket: s, Region: n, Key: r },
                        function (t, n) {
                          if (c._isRunningTask(i)) {
                            if (t) return b.emit("error", t);
                            var o = y
                              .filter(n.UploadList, function (e) {
                                return (
                                  e.Key === r &&
                                  (!l ||
                                    e.StorageClass.toUpperCase() ===
                                      l.toUpperCase())
                                );
                              })
                              .reverse()
                              .map(function (e) {
                                return e.UploadId || e.UploadID;
                              });
                            if (o.length)
                              b.emit("seek_local_avail_upload_id", o);
                            else {
                              var a,
                                u = g.getFileId(e.Body, e.ChunkSize, s, r);
                              u &&
                                (a = g.getUploadIdList.call(c, u)) &&
                                y.each(a, function (e) {
                                  g.removeUploadId.call(c, e);
                                }),
                                b.emit("no_available_upload_id");
                            }
                          }
                        }
                      );
                    }),
                    b.emit("get_remote_upload_id_list");
                }
                function o(e, t) {
                  var i = this,
                    s = [],
                    n = { Bucket: e.Bucket, Region: e.Region, Prefix: e.Key },
                    o = function () {
                      i.multipartList(n, function (e, i) {
                        if (e) return t(e);
                        s.push.apply(s, i.Upload || []),
                          "true" === i.IsTruncated
                            ? ((n.KeyMarker = i.NextKeyMarker),
                              (n.UploadIdMarker = i.NextUploadIdMarker),
                              o())
                            : t(null, { UploadList: s });
                      });
                    };
                  o();
                }
                function a(e, t) {
                  var i = this,
                    s = [],
                    n = {
                      Bucket: e.Bucket,
                      Region: e.Region,
                      Key: e.Key,
                      UploadId: e.UploadId,
                    },
                    o = function () {
                      i.multipartListPart(n, function (e, i) {
                        if (e) return t(e);
                        s.push.apply(s, i.Part || []),
                          "true" === i.IsTruncated
                            ? ((n.PartNumberMarker = i.NextPartNumberMarker),
                              o())
                            : t(null, { PartList: s });
                      });
                    };
                  o();
                }
                function r(e, t) {
                  var i = this,
                    s = e.TaskId,
                    n = e.Bucket,
                    o = e.Region,
                    a = e.Key,
                    r = e.UploadData,
                    c = e.FileSize,
                    u = e.SliceSize,
                    d = Math.min(
                      e.AsyncLimit || i.options.ChunkParallelLimit || 1,
                      256
                    ),
                    h = e.Body,
                    p = Math.ceil(c / u),
                    _ = 0,
                    m = e.ServerSideEncryption,
                    g = e.Headers,
                    v = y.filter(r.PartList, function (e) {
                      return (
                        e.Uploaded && (_ += (e.PartNumber >= p && c % u) || u),
                        !e.Uploaded
                      );
                    }),
                    w = e.onProgress;
                  f.eachLimit(
                    v,
                    d,
                    function (e, t) {
                      if (i._isRunningTask(s)) {
                        var d = e.PartNumber,
                          p =
                            Math.min(c, e.PartNumber * u) -
                            (e.PartNumber - 1) * u,
                          f = 0;
                        l.call(
                          i,
                          {
                            TaskId: s,
                            Bucket: n,
                            Region: o,
                            Key: a,
                            SliceSize: u,
                            FileSize: c,
                            PartNumber: d,
                            ServerSideEncryption: m,
                            Body: h,
                            UploadData: r,
                            Headers: g,
                            onProgress: function (e) {
                              (_ += e.loaded - f),
                                (f = e.loaded),
                                w({ loaded: _, total: c });
                            },
                          },
                          function (n, o) {
                            i._isRunningTask(s) &&
                              (n ||
                                o.ETag ||
                                (n =
                                  'get ETag error, please add "ETag" to CORS ExposeHeader setting.( 获取ETag失败，请在CORS ExposeHeader设置中添加ETag，请参考文档：https://cloud.tencent.com/document/product/436/13318 )'),
                              n ? (_ -= f) : ((_ += p - f), (e.ETag = o.ETag)),
                              w({ loaded: _, total: c }),
                              t(n || null, o));
                          }
                        );
                      }
                    },
                    function (e) {
                      if (i._isRunningTask(s))
                        return e
                          ? t(e)
                          : void t(null, {
                              UploadId: r.UploadId,
                              SliceList: r.PartList,
                            });
                    }
                  );
                }
                function l(e, t) {
                  var i = this,
                    s = e.TaskId,
                    n = e.Bucket,
                    o = e.Region,
                    a = e.Key,
                    r = e.FileSize,
                    l = e.Body,
                    c = 1 * e.PartNumber,
                    u = e.SliceSize,
                    d = e.ServerSideEncryption,
                    h = e.UploadData,
                    p = e.Headers || {},
                    _ = i.options.ChunkRetryTimes + 1,
                    m = u * (c - 1),
                    g = u,
                    v = m + u;
                  v > r && ((v = r), (g = v - m));
                  var w = ["x-cos-traffic-limit", "x-cos-mime-limit"],
                    C = {};
                  y.each(p, function (e, t) {
                    w.indexOf(t) > -1 && (C[t] = e);
                  });
                  var b = h.PartList[c - 1];
                  f.retry(
                    _,
                    function (t) {
                      i._isRunningTask(s) &&
                        y.fileSlice(l, m, v, !0, function (r) {
                          i.multipartUpload(
                            {
                              TaskId: s,
                              Bucket: n,
                              Region: o,
                              Key: a,
                              ContentLength: g,
                              PartNumber: c,
                              UploadId: h.UploadId,
                              ServerSideEncryption: d,
                              Body: r,
                              Headers: C,
                              onProgress: e.onProgress,
                            },
                            function (e, n) {
                              if (i._isRunningTask(s))
                                return e
                                  ? t(e)
                                  : ((b.Uploaded = !0), t(null, n));
                            }
                          );
                        });
                    },
                    function (e, n) {
                      if (i._isRunningTask(s)) return t(e, n);
                    }
                  );
                }
                function c(e, t) {
                  var i = e.Bucket,
                    s = e.Region,
                    n = e.Key,
                    o = e.UploadId,
                    a = e.SliceList,
                    r = this,
                    l = this.options.ChunkRetryTimes + 1,
                    c = e.Headers,
                    u = a.map(function (e) {
                      return { PartNumber: e.PartNumber, ETag: e.ETag };
                    });
                  f.retry(
                    l,
                    function (e) {
                      r.multipartComplete(
                        {
                          Bucket: i,
                          Region: s,
                          Key: n,
                          UploadId: o,
                          Parts: u,
                          Headers: c,
                        },
                        e
                      );
                    },
                    function (e, i) {
                      t(e, i);
                    }
                  );
                }
                function u(e, t) {
                  var i = e.Bucket,
                    s = e.Region,
                    n = e.Key,
                    a = e.UploadId,
                    r = e.Level || "task",
                    l = e.AsyncLimit,
                    c = this,
                    u = new v();
                  if (
                    (u.on("error", function (e) {
                      return t(e);
                    }),
                    u.on("get_abort_array", function (o) {
                      d.call(
                        c,
                        {
                          Bucket: i,
                          Region: s,
                          Key: n,
                          Headers: e.Headers,
                          AsyncLimit: l,
                          AbortArray: o,
                        },
                        t
                      );
                    }),
                    "bucket" === r)
                  )
                    o.call(c, { Bucket: i, Region: s }, function (e, i) {
                      if (e) return t(e);
                      u.emit("get_abort_array", i.UploadList || []);
                    });
                  else if ("file" === r) {
                    if (!n)
                      return t(y.error(new Error("abort_upload_task_no_key")));
                    o.call(
                      c,
                      { Bucket: i, Region: s, Key: n },
                      function (e, i) {
                        if (e) return t(e);
                        u.emit("get_abort_array", i.UploadList || []);
                      }
                    );
                  } else {
                    if ("task" !== r)
                      return t(y.error(new Error("abort_unknown_level")));
                    if (!a)
                      return t(y.error(new Error("abort_upload_task_no_id")));
                    if (!n)
                      return t(y.error(new Error("abort_upload_task_no_key")));
                    u.emit("get_abort_array", [{ Key: n, UploadId: a }]);
                  }
                }
                function d(e, t) {
                  var i = e.Bucket,
                    s = e.Region,
                    n = e.Key,
                    o = e.AbortArray,
                    a = e.AsyncLimit || 1,
                    r = this,
                    l = 0,
                    c = new Array(o.length);
                  f.eachLimit(
                    o,
                    a,
                    function (t, o) {
                      var a = l;
                      if (n && n !== t.Key)
                        return (
                          (c[a] = { error: { KeyNotMatch: !0 } }), void o(null)
                        );
                      var u = t.UploadId || t.UploadID;
                      r.multipartAbort(
                        {
                          Bucket: i,
                          Region: s,
                          Key: t.Key,
                          Headers: e.Headers,
                          UploadId: u,
                        },
                        function (e) {
                          var n = {
                            Bucket: i,
                            Region: s,
                            Key: t.Key,
                            UploadId: u,
                          };
                          (c[a] = { error: e, task: n }), o(null);
                        }
                      ),
                        l++;
                    },
                    function (e) {
                      if (e) return t(e);
                      for (
                        var i = [], s = [], n = 0, o = c.length;
                        n < o;
                        n++
                      ) {
                        var a = c[n];
                        a.task && (a.error ? s.push(a.task) : i.push(a.task));
                      }
                      return t(null, { successList: i, errorList: s });
                    }
                  );
                }
                function h(e, t) {
                  var i = this,
                    s =
                      void 0 === e.SliceSize
                        ? i.options.SliceSize
                        : e.SliceSize,
                    n = [],
                    o = e.Body,
                    a = o.size || o.length || 0,
                    r = { TaskId: "" };
                  y.each(e, function (e, t) {
                    "object" != typeof e &&
                      "function" != typeof e &&
                      (r[t] = e);
                  });
                  var l = e.onTaskReady,
                    c = function (e) {
                      (r.TaskId = e), l && l(e);
                    };
                  e.onTaskReady = c;
                  var u = e.onFileFinish,
                    d = function (e, i) {
                      u && u(e, i, r), t && t(e, i);
                    },
                    h = a > s ? "sliceUploadFile" : "putObject";
                  n.push({ api: h, params: e, callback: d }), i._addTasks(n);
                }
                function p(e, t) {
                  var i = this,
                    s =
                      void 0 === e.SliceSize
                        ? i.options.SliceSize
                        : e.SliceSize,
                    n = 0,
                    o = 0,
                    a = y.throttleOnProgress.call(i, o, e.onProgress),
                    r = e.files.length,
                    l = e.onFileFinish,
                    c = Array(r),
                    u = function (e, i, s) {
                      a(null, !0),
                        l && l(e, i, s),
                        (c[s.Index] = { options: s, error: e, data: i }),
                        --r <= 0 && t && t(null, { files: c });
                    },
                    d = [];
                  y.each(e.files, function (e, t) {
                    !(function () {
                      var i = e.Body,
                        r = i.size || i.length || 0,
                        l = { Index: t, TaskId: "" };
                      (n += r),
                        y.each(e, function (e, t) {
                          "object" != typeof e &&
                            "function" != typeof e &&
                            (l[t] = e);
                        });
                      var c = e.onTaskReady,
                        h = function (e) {
                          (l.TaskId = e), c && c(e);
                        };
                      e.onTaskReady = h;
                      var p = 0,
                        _ = e.onProgress,
                        m = function (e) {
                          (o = o - p + e.loaded),
                            (p = e.loaded),
                            _ && _(e),
                            a({ loaded: o, total: n });
                        };
                      e.onProgress = m;
                      var g = e.onFileFinish,
                        f = function (e, t) {
                          g && g(e, t), u && u(e, t, l);
                        },
                        v = r > s ? "sliceUploadFile" : "putObject";
                      d.push({ api: v, params: e, callback: f });
                    })();
                  }),
                    i._addTasks(d);
                }
                function _(e, t) {
                  var i = new v(),
                    s = this,
                    n = e.Bucket,
                    o = e.Region,
                    a = e.Key,
                    r = e.CopySource,
                    l = y.getSourceParams.call(this, r);
                  if (l) {
                    var c = l.Bucket,
                      u = l.Region,
                      d = decodeURIComponent(l.Key),
                      h =
                        void 0 === e.CopySliceSize
                          ? s.options.CopySliceSize
                          : e.CopySliceSize;
                    h = Math.max(0, h);
                    var p,
                      _,
                      g = e.CopyChunkSize || this.options.CopyChunkSize,
                      w = this.options.CopyChunkParallelLimit,
                      C = 0;
                    i.on("copy_slice_complete", function (i) {
                      var r = {};
                      y.each(e.Headers, function (e, t) {
                        0 === t.toLowerCase().indexOf("x-cos-meta-") &&
                          (r[t] = e);
                      });
                      var l = y.map(i.PartList, function (e) {
                        return { PartNumber: e.PartNumber, ETag: e.ETag };
                      });
                      s.multipartComplete(
                        {
                          Bucket: n,
                          Region: o,
                          Key: a,
                          UploadId: i.UploadId,
                          Parts: l,
                        },
                        function (e, i) {
                          if (e) return _(null, !0), t(e);
                          _({ loaded: p, total: p }, !0), t(null, i);
                        }
                      );
                    }),
                      i.on("get_copy_data_finish", function (e) {
                        f.eachLimit(
                          e.PartList,
                          w,
                          function (t, i) {
                            var l = t.PartNumber,
                              c = t.CopySourceRange,
                              u = t.end - t.start;
                            m.call(
                              s,
                              {
                                Bucket: n,
                                Region: o,
                                Key: a,
                                CopySource: r,
                                UploadId: e.UploadId,
                                PartNumber: l,
                                CopySourceRange: c,
                              },
                              function (e, s) {
                                if (e) return i(e);
                                (C += u),
                                  _({ loaded: C, total: p }),
                                  (t.ETag = s.ETag),
                                  i(e || null, s);
                              }
                            );
                          },
                          function (s) {
                            if (s) return _(null, !0), t(s);
                            i.emit("copy_slice_complete", e);
                          }
                        );
                      }),
                      i.on("get_file_size_finish", function (r) {
                        var l;
                        if (
                          ((function () {
                            for (
                              var t = [
                                  1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024,
                                  2048, 4096, 5120,
                                ],
                                i = 1048576,
                                n = 0;
                              n < t.length &&
                              ((i = 1024 * t[n] * 1024),
                              !(p / i <= s.options.MaxPartNumber));
                              n++
                            );
                            e.ChunkSize = g = Math.max(g, i);
                            for (
                              var o = Math.ceil(p / g), a = [], r = 1;
                              r <= o;
                              r++
                            ) {
                              var l = (r - 1) * g,
                                c = r * g < p ? r * g - 1 : p - 1,
                                u = {
                                  PartNumber: r,
                                  start: l,
                                  end: c,
                                  CopySourceRange: "bytes=" + l + "-" + c,
                                };
                              a.push(u);
                            }
                            e.PartList = a;
                          })(),
                          (l =
                            "Replaced" === e.Headers["x-cos-metadata-directive"]
                              ? e.Headers
                              : r),
                          (l["x-cos-storage-class"] =
                            e.Headers["x-cos-storage-class"] ||
                            r["x-cos-storage-class"]),
                          (l = y.clearKey(l)),
                          "ARCHIVE" === r["x-cos-storage-class"] ||
                            "DEEP_ARCHIVE" === r["x-cos-storage-class"])
                        ) {
                          var c = r["x-cos-restore"];
                          if (!c || 'ongoing-request="true"' === c)
                            return void t(
                              y.error(
                                new Error(
                                  "Unrestored archive object is not allowed to be copied"
                                )
                              )
                            );
                        }
                        delete l["x-cos-copy-source"],
                          delete l["x-cos-metadata-directive"],
                          delete l["x-cos-copy-source-If-Modified-Since"],
                          delete l["x-cos-copy-source-If-Unmodified-Since"],
                          delete l["x-cos-copy-source-If-Match"],
                          delete l["x-cos-copy-source-If-None-Match"],
                          s.multipartInit(
                            { Bucket: n, Region: o, Key: a, Headers: l },
                            function (s, n) {
                              if (s) return t(s);
                              (e.UploadId = n.UploadId),
                                i.emit("get_copy_data_finish", e);
                            }
                          );
                      }),
                      s.headObject(
                        { Bucket: c, Region: u, Key: d },
                        function (n, o) {
                          if (n)
                            t(
                              n.statusCode && 404 === n.statusCode
                                ? y.error(n, { ErrorStatus: d + " Not Exist" })
                                : n
                            );
                          else if (
                            void 0 !==
                              (p = e.FileSize = o.headers["content-length"]) &&
                            p
                          )
                            if (
                              ((_ = y.throttleOnProgress.call(
                                s,
                                p,
                                e.onProgress
                              )),
                              p <= h)
                            )
                              e.Headers["x-cos-metadata-directive"] ||
                                (e.Headers["x-cos-metadata-directive"] =
                                  "Copy"),
                                s.putObjectCopy(e, function (e, i) {
                                  if (e) return _(null, !0), t(e);
                                  _({ loaded: p, total: p }, !0), t(e, i);
                                });
                            else {
                              var a = o.headers,
                                r = {
                                  "Cache-Control": a["cache-control"],
                                  "Content-Disposition":
                                    a["content-disposition"],
                                  "Content-Encoding": a["content-encoding"],
                                  "Content-Type": a["content-type"],
                                  Expires: a.expires,
                                  "x-cos-storage-class":
                                    a["x-cos-storage-class"],
                                };
                              y.each(a, function (e, t) {
                                0 === t.indexOf("x-cos-meta-") &&
                                  t.length > 11 &&
                                  (r[t] = e);
                              }),
                                i.emit("get_file_size_finish", r);
                            }
                          else
                            t(
                              y.error(
                                new Error(
                                  'get Content-Length error, please add "Content-Length" to CORS ExposeHeader setting.（ 获取Content-Length失败，请在CORS ExposeHeader设置中添加Content-Length，请参考文档：https://cloud.tencent.com/document/product/436/13318 ）'
                                )
                              )
                            );
                        }
                      );
                  } else t(y.error(new Error("CopySource format error")));
                }
                function m(e, t) {
                  var i = e.TaskId,
                    s = e.Bucket,
                    n = e.Region,
                    o = e.Key,
                    a = e.CopySource,
                    r = e.UploadId,
                    l = 1 * e.PartNumber,
                    c = e.CopySourceRange,
                    u = this.options.ChunkRetryTimes + 1,
                    d = this;
                  f.retry(
                    u,
                    function (e) {
                      d.uploadPartCopy(
                        {
                          TaskId: i,
                          Bucket: s,
                          Region: n,
                          Key: o,
                          CopySource: a,
                          UploadId: r,
                          PartNumber: l,
                          CopySourceRange: c,
                        },
                        function (t, i) {
                          e(t || null, i);
                        }
                      );
                    },
                    function (e, i) {
                      return t(e, i);
                    }
                  );
                }
                var g = i(5),
                  f = i(22),
                  v = i(4).EventProxy,
                  y = i(0),
                  w = {
                    sliceUploadFile: s,
                    abortUploadTask: u,
                    uploadFile: h,
                    uploadFiles: p,
                    sliceCopyFile: _,
                  };
                e.exports.init = function (e, t) {
                  t.transferToTaskMethod(w, "sliceUploadFile"),
                    y.each(w, function (t, i) {
                      e.prototype[i] = y.apiWrapper(i, t);
                    });
                };
              },
              function (e, t) {
                var i = function (e, t, i, s) {
                    if (((s = s || function () {}), !e.length || t <= 0))
                      return s();
                    var n = 0,
                      o = 0,
                      a = 0;
                    !(function r() {
                      if (n >= e.length) return s();
                      for (; a < t && o < e.length; )
                        (o += 1),
                          (a += 1),
                          i(e[o - 1], function (t) {
                            t
                              ? (s(t), (s = function () {}))
                              : ((n += 1), (a -= 1), n >= e.length ? s() : r());
                          });
                    })();
                  },
                  s = function (e, t, i) {
                    var s = function (n) {
                      t(function (t, o) {
                        t && n < e ? s(n + 1) : i(t, o);
                      });
                    };
                    e < 1 ? i() : s(1);
                  },
                  n = { eachLimit: i, retry: s };
                e.exports = n;
              },
            ]);
          });
      },
      90175: function (e, t, i) {
        i(57658),
          (function (e, i) {
            i(t);
          })(0, function (e) {
            "use strict";
            function t(e, t) {
              for (var i = 0; i < t.length; i++) {
                var s = t[i];
                (s.enumerable = s.enumerable || !1),
                  (s.configurable = !0),
                  "value" in s && (s.writable = !0),
                  Object.defineProperty(
                    e,
                    (function (e) {
                      return (
                        (e = (function (e, t) {
                          if ("object" != typeof e || null === e) return e;
                          var i = e[Symbol.toPrimitive];
                          if (void 0 === i)
                            return ("string" === t ? String : Number)(e);
                          if (
                            ((i = i.call(e, t || "default")),
                            "object" != typeof i)
                          )
                            return i;
                          throw new TypeError(
                            "@@toPrimitive must return a primitive value."
                          );
                        })(e, "string")),
                        "symbol" == typeof e ? e : String(e)
                      );
                    })(s.key),
                    s
                  );
              }
            }
            function i(e, t) {
              (null == t || t > e.length) && (t = e.length);
              for (var i = 0, s = new Array(t); i < t; i++) s[i] = e[i];
              return s;
            }
            function s(e, t) {
              var s,
                n =
                  ("undefined" != typeof Symbol && e[Symbol.iterator]) ||
                  e["@@iterator"];
              if (n) return (n = n.call(e)).next.bind(n);
              if (
                Array.isArray(e) ||
                (n = (function (e, t) {
                  var s;
                  if (e)
                    return "string" == typeof e
                      ? i(e, t)
                      : "Map" ===
                          (s =
                            "Object" ===
                              (s = Object.prototype.toString
                                .call(e)
                                .slice(8, -1)) && e.constructor
                              ? e.constructor.name
                              : s) || "Set" === s
                      ? Array.from(e)
                      : "Arguments" === s ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)
                      ? i(e, t)
                      : void 0;
                })(e)) ||
                (t && e && "number" == typeof e.length)
              )
                return (
                  n && (e = n),
                  (s = 0),
                  function () {
                    return s >= e.length
                      ? { done: !0 }
                      : { done: !1, value: e[s++] };
                  }
                );
              throw new TypeError(
                "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
              );
            }
            function n() {
              return {
                async: !1,
                baseUrl: null,
                breaks: !1,
                extensions: null,
                gfm: !0,
                headerIds: !0,
                headerPrefix: "",
                highlight: null,
                langPrefix: "language-",
                mangle: !0,
                pedantic: !1,
                renderer: null,
                sanitize: !1,
                sanitizer: null,
                silent: !1,
                smartypants: !1,
                tokenizer: null,
                walkTokens: null,
                xhtml: !1,
              };
            }
            function o(e) {
              return u[e];
            }
            e.defaults = n();
            var a = /[&<>"']/,
              r = new RegExp(a.source, "g"),
              l = /[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,
              c = new RegExp(l.source, "g"),
              u = {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;",
              };
            function d(e, t) {
              if (t) {
                if (a.test(e)) return e.replace(r, o);
              } else if (l.test(e)) return e.replace(c, o);
              return e;
            }
            var h = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;
            function p(e) {
              return e.replace(h, function (e, t) {
                return "colon" === (t = t.toLowerCase())
                  ? ":"
                  : "#" === t.charAt(0)
                  ? "x" === t.charAt(1)
                    ? String.fromCharCode(parseInt(t.substring(2), 16))
                    : String.fromCharCode(+t.substring(1))
                  : "";
              });
            }
            var _ = /(^|[^\[])\^/g;
            function m(e, t) {
              (e = "string" == typeof e ? e : e.source), (t = t || "");
              var i = {
                replace: function (t, s) {
                  return (
                    (s = (s = s.source || s).replace(_, "$1")),
                    (e = e.replace(t, s)),
                    i
                  );
                },
                getRegex: function () {
                  return new RegExp(e, t);
                },
              };
              return i;
            }
            var g = /[^\w:]/g,
              f = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;
            function v(e, t, i) {
              if (e) {
                try {
                  s = decodeURIComponent(p(i)).replace(g, "").toLowerCase();
                } catch (e) {
                  return null;
                }
                if (
                  0 === s.indexOf("javascript:") ||
                  0 === s.indexOf("vbscript:") ||
                  0 === s.indexOf("data:")
                )
                  return null;
              }
              var s;
              t &&
                !f.test(i) &&
                ((e = i),
                y[" " + (s = t)] ||
                  (w.test(s)
                    ? (y[" " + s] = s + "/")
                    : (y[" " + s] = S(s, "/", !0))),
                (t = -1 === (s = y[" " + s]).indexOf(":")),
                (i =
                  "//" === e.substring(0, 2)
                    ? t
                      ? e
                      : s.replace(C, "$1") + e
                    : "/" === e.charAt(0)
                    ? t
                      ? e
                      : s.replace(b, "$1") + e
                    : s + e));
              try {
                i = encodeURI(i).replace(/%25/g, "%");
              } catch (e) {
                return null;
              }
              return i;
            }
            var y = {},
              w = /^[^:]+:\/*[^/]*$/,
              C = /^([^:]+:)[\s\S]*$/,
              b = /^([^:]+:\/*[^/]*)[\s\S]*$/,
              k = { exec: function () {} };
            function x(e) {
              for (var t, i, s = 1; s < arguments.length; s++)
                for (i in (t = arguments[s]))
                  Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
              return e;
            }
            function D(e, t) {
              var i = e
                  .replace(/\|/g, function (e, t, i) {
                    for (var s = !1, n = t; 0 <= --n && "\\" === i[n]; ) s = !s;
                    return s ? "|" : " |";
                  })
                  .split(/ \|/),
                s = 0;
              if (
                (i[0].trim() || i.shift(),
                0 < i.length && !i[i.length - 1].trim() && i.pop(),
                i.length > t)
              )
                i.splice(t);
              else for (; i.length < t; ) i.push("");
              for (; s < i.length; s++)
                i[s] = i[s].trim().replace(/\\\|/g, "|");
              return i;
            }
            function S(e, t, i) {
              var s = e.length;
              if (0 === s) return "";
              for (var n = 0; n < s; ) {
                var o = e.charAt(s - n - 1);
                if ((o !== t || i) && (o === t || !i)) break;
                n++;
              }
              return e.slice(0, s - n);
            }
            function A(e) {
              e &&
                e.sanitize &&
                !e.silent &&
                console.warn(
                  "marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"
                );
            }
            function E(e, t) {
              if (t < 1) return "";
              for (var i = ""; 1 < t; ) 1 & t && (i += e), (t >>= 1), (e += e);
              return i + e;
            }
            function T(e, t, i, s) {
              var n = t.href,
                o =
                  ((t = t.title ? d(t.title) : null),
                  e[1].replace(/\\([\[\]])/g, "$1"));
              return "!" !== e[0].charAt(0)
                ? ((s.state.inLink = !0),
                  (e = {
                    type: "link",
                    raw: i,
                    href: n,
                    title: t,
                    text: o,
                    tokens: s.inlineTokens(o),
                  }),
                  (s.state.inLink = !1),
                  e)
                : { type: "image", raw: i, href: n, title: t, text: d(o) };
            }
            var B = (function () {
                function t(t) {
                  this.options = t || e.defaults;
                }
                var i = t.prototype;
                return (
                  (i.space = function (e) {
                    if (
                      ((e = this.rules.block.newline.exec(e)),
                      e && 0 < e[0].length)
                    )
                      return { type: "space", raw: e[0] };
                  }),
                  (i.code = function (e) {
                    var t;
                    e = this.rules.block.code.exec(e);
                    if (e)
                      return (
                        (t = e[0].replace(/^ {1,4}/gm, "")),
                        {
                          type: "code",
                          raw: e[0],
                          codeBlockStyle: "indented",
                          text: this.options.pedantic ? t : S(t, "\n"),
                        }
                      );
                  }),
                  (i.fences = function (e) {
                    var t, i, s, n;
                    e = this.rules.block.fences.exec(e);
                    if (e)
                      return (
                        (t = e[0]),
                        (i = t),
                        (s = e[3] || ""),
                        (i =
                          null === (i = t.match(/^(\s+)(?:```)/))
                            ? s
                            : ((n = i[1]),
                              s
                                .split("\n")
                                .map(function (e) {
                                  var t = e.match(/^\s+/);
                                  return null !== t && t[0].length >= n.length
                                    ? e.slice(n.length)
                                    : e;
                                })
                                .join("\n"))),
                        {
                          type: "code",
                          raw: t,
                          lang:
                            e[2] &&
                            e[2]
                              .trim()
                              .replace(this.rules.inline._escapes, "$1"),
                          text: i,
                        }
                      );
                  }),
                  (i.heading = function (e) {
                    var t, i;
                    e = this.rules.block.heading.exec(e);
                    if (e)
                      return (
                        (t = e[2].trim()),
                        /#$/.test(t) &&
                          ((i = S(t, "#")),
                          (!this.options.pedantic && i && !/ $/.test(i)) ||
                            (t = i.trim())),
                        {
                          type: "heading",
                          raw: e[0],
                          depth: e[1].length,
                          text: t,
                          tokens: this.lexer.inline(t),
                        }
                      );
                  }),
                  (i.hr = function (e) {
                    if (((e = this.rules.block.hr.exec(e)), e))
                      return { type: "hr", raw: e[0] };
                  }),
                  (i.blockquote = function (e) {
                    var t, i, s;
                    e = this.rules.block.blockquote.exec(e);
                    if (e)
                      return (
                        (t = e[0].replace(/^ *>[ \t]?/gm, "")),
                        (i = this.lexer.state.top),
                        (this.lexer.state.top = !0),
                        (s = this.lexer.blockTokens(t)),
                        (this.lexer.state.top = i),
                        { type: "blockquote", raw: e[0], tokens: s, text: t }
                      );
                  }),
                  (i.list = function (e) {
                    var t = this.rules.block.list.exec(e);
                    if (t) {
                      var i,
                        s,
                        n,
                        o,
                        a,
                        r,
                        l,
                        c,
                        u,
                        d,
                        h,
                        p = 1 < (m = t[1].trim()).length,
                        _ = {
                          type: "list",
                          raw: "",
                          ordered: p,
                          start: p ? +m.slice(0, -1) : "",
                          loose: !1,
                          items: [],
                        },
                        m = p ? "\\d{1,9}\\" + m.slice(-1) : "\\" + m;
                      this.options.pedantic && (m = p ? m : "[*+-]");
                      for (
                        var g = new RegExp(
                          "^( {0,3}" + m + ")((?:[\t ][^\\n]*)?(?:\\n|$))"
                        );
                        e &&
                        ((h = !1), (t = g.exec(e))) &&
                        !this.rules.block.hr.test(e);

                      ) {
                        if (
                          ((i = t[0]),
                          (e = e.substring(i.length)),
                          (l = t[2]
                            .split("\n", 1)[0]
                            .replace(/^\t+/, function (e) {
                              return " ".repeat(3 * e.length);
                            })),
                          (c = e.split("\n", 1)[0]),
                          this.options.pedantic
                            ? ((o = 2), (d = l.trimLeft()))
                            : ((o = t[2].search(/[^ ]/)),
                              (d = l.slice((o = 4 < o ? 1 : o))),
                              (o += t[1].length)),
                          (a = !1),
                          !l &&
                            /^ *$/.test(c) &&
                            ((i += c + "\n"),
                            (e = e.substring(c.length + 1)),
                            (h = !0)),
                          !h)
                        )
                          for (
                            var f = new RegExp(
                                "^ {0," +
                                  Math.min(3, o - 1) +
                                  "}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))"
                              ),
                              v = new RegExp(
                                "^ {0," +
                                  Math.min(3, o - 1) +
                                  "}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"
                              ),
                              y = new RegExp(
                                "^ {0," + Math.min(3, o - 1) + "}(?:```|~~~)"
                              ),
                              w = new RegExp(
                                "^ {0," + Math.min(3, o - 1) + "}#"
                              );
                            e &&
                            ((c = u = e.split("\n", 1)[0]),
                            this.options.pedantic &&
                              (c = c.replace(/^ {1,4}(?=( {4})*[^ ])/g, "  ")),
                            !y.test(c)) &&
                            !w.test(c) &&
                            !f.test(c) &&
                            !v.test(e);

                          ) {
                            if (c.search(/[^ ]/) >= o || !c.trim())
                              d += "\n" + c.slice(o);
                            else {
                              if (a) break;
                              if (4 <= l.search(/[^ ]/)) break;
                              if (y.test(l)) break;
                              if (w.test(l)) break;
                              if (v.test(l)) break;
                              d += "\n" + c;
                            }
                            a || c.trim() || (a = !0),
                              (i += u + "\n"),
                              (e = e.substring(u.length + 1)),
                              (l = c.slice(o));
                          }
                        _.loose ||
                          (r
                            ? (_.loose = !0)
                            : /\n *\n *$/.test(i) && (r = !0)),
                          this.options.gfm &&
                            (s = /^\[[ xX]\] /.exec(d)) &&
                            ((n = "[ ] " !== s[0]),
                            (d = d.replace(/^\[[ xX]\] +/, ""))),
                          _.items.push({
                            type: "list_item",
                            raw: i,
                            task: !!s,
                            checked: n,
                            loose: !1,
                            text: d,
                          }),
                          (_.raw += i);
                      }
                      (_.items[_.items.length - 1].raw = i.trimRight()),
                        (_.items[_.items.length - 1].text = d.trimRight()),
                        (_.raw = _.raw.trimRight());
                      for (var C, b = _.items.length, k = 0; k < b; k++)
                        (this.lexer.state.top = !1),
                          (_.items[k].tokens = this.lexer.blockTokens(
                            _.items[k].text,
                            []
                          )),
                          _.loose ||
                            ((C =
                              0 <
                                (C = _.items[k].tokens.filter(function (e) {
                                  return "space" === e.type;
                                })).length &&
                              C.some(function (e) {
                                return /\n.*\n/.test(e.raw);
                              })),
                            (_.loose = C));
                      if (_.loose)
                        for (k = 0; k < b; k++) _.items[k].loose = !0;
                      return _;
                    }
                  }),
                  (i.html = function (e) {
                    var t;
                    e = this.rules.block.html.exec(e);
                    if (e)
                      return (
                        (t = {
                          type: "html",
                          raw: e[0],
                          pre:
                            !this.options.sanitizer &&
                            ("pre" === e[1] ||
                              "script" === e[1] ||
                              "style" === e[1]),
                          text: e[0],
                        }),
                        this.options.sanitize &&
                          ((e = this.options.sanitizer
                            ? this.options.sanitizer(e[0])
                            : d(e[0])),
                          (t.type = "paragraph"),
                          (t.text = e),
                          (t.tokens = this.lexer.inline(e))),
                        t
                      );
                  }),
                  (i.def = function (e) {
                    var t, i, s;
                    e = this.rules.block.def.exec(e);
                    if (e)
                      return (
                        (t = e[1].toLowerCase().replace(/\s+/g, " ")),
                        (i = e[2]
                          ? e[2]
                              .replace(/^<(.*)>$/, "$1")
                              .replace(this.rules.inline._escapes, "$1")
                          : ""),
                        (s =
                          e[3] &&
                          e[3]
                            .substring(1, e[3].length - 1)
                            .replace(this.rules.inline._escapes, "$1")),
                        { type: "def", tag: t, raw: e[0], href: i, title: s }
                      );
                  }),
                  (i.table = function (e) {
                    if (((e = this.rules.block.table.exec(e)), e)) {
                      var t = {
                        type: "table",
                        header: D(e[1]).map(function (e) {
                          return { text: e };
                        }),
                        align: e[2].replace(/^ *|\| *$/g, "").split(/ *\| */),
                        rows:
                          e[3] && e[3].trim()
                            ? e[3].replace(/\n[ \t]*$/, "").split("\n")
                            : [],
                      };
                      if (t.header.length === t.align.length) {
                        t.raw = e[0];
                        for (var i, s, n, o = t.align.length, a = 0; a < o; a++)
                          /^ *-+: *$/.test(t.align[a])
                            ? (t.align[a] = "right")
                            : /^ *:-+: *$/.test(t.align[a])
                            ? (t.align[a] = "center")
                            : /^ *:-+ *$/.test(t.align[a])
                            ? (t.align[a] = "left")
                            : (t.align[a] = null);
                        for (o = t.rows.length, a = 0; a < o; a++)
                          t.rows[a] = D(t.rows[a], t.header.length).map(
                            function (e) {
                              return { text: e };
                            }
                          );
                        for (o = t.header.length, i = 0; i < o; i++)
                          t.header[i].tokens = this.lexer.inline(
                            t.header[i].text
                          );
                        for (o = t.rows.length, i = 0; i < o; i++)
                          for (n = t.rows[i], s = 0; s < n.length; s++)
                            n[s].tokens = this.lexer.inline(n[s].text);
                        return t;
                      }
                    }
                  }),
                  (i.lheading = function (e) {
                    if (((e = this.rules.block.lheading.exec(e)), e))
                      return {
                        type: "heading",
                        raw: e[0],
                        depth: "=" === e[2].charAt(0) ? 1 : 2,
                        text: e[1],
                        tokens: this.lexer.inline(e[1]),
                      };
                  }),
                  (i.paragraph = function (e) {
                    var t;
                    e = this.rules.block.paragraph.exec(e);
                    if (e)
                      return (
                        (t =
                          "\n" === e[1].charAt(e[1].length - 1)
                            ? e[1].slice(0, -1)
                            : e[1]),
                        {
                          type: "paragraph",
                          raw: e[0],
                          text: t,
                          tokens: this.lexer.inline(t),
                        }
                      );
                  }),
                  (i.text = function (e) {
                    if (((e = this.rules.block.text.exec(e)), e))
                      return {
                        type: "text",
                        raw: e[0],
                        text: e[0],
                        tokens: this.lexer.inline(e[0]),
                      };
                  }),
                  (i.escape = function (e) {
                    if (((e = this.rules.inline.escape.exec(e)), e))
                      return { type: "escape", raw: e[0], text: d(e[1]) };
                  }),
                  (i.tag = function (e) {
                    if (((e = this.rules.inline.tag.exec(e)), e))
                      return (
                        !this.lexer.state.inLink && /^<a /i.test(e[0])
                          ? (this.lexer.state.inLink = !0)
                          : this.lexer.state.inLink &&
                            /^<\/a>/i.test(e[0]) &&
                            (this.lexer.state.inLink = !1),
                        !this.lexer.state.inRawBlock &&
                        /^<(pre|code|kbd|script)(\s|>)/i.test(e[0])
                          ? (this.lexer.state.inRawBlock = !0)
                          : this.lexer.state.inRawBlock &&
                            /^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0]) &&
                            (this.lexer.state.inRawBlock = !1),
                        {
                          type: this.options.sanitize ? "text" : "html",
                          raw: e[0],
                          inLink: this.lexer.state.inLink,
                          inRawBlock: this.lexer.state.inRawBlock,
                          text: this.options.sanitize
                            ? this.options.sanitizer
                              ? this.options.sanitizer(e[0])
                              : d(e[0])
                            : e[0],
                        }
                      );
                  }),
                  (i.link = function (e) {
                    if (((e = this.rules.inline.link.exec(e)), e)) {
                      var t = e[2].trim();
                      if (!this.options.pedantic && /^</.test(t)) {
                        if (!/>$/.test(t)) return;
                        var i = S(t.slice(0, -1), "\\");
                        if ((t.length - i.length) % 2 == 0) return;
                      } else
                        (i = (function (e, t) {
                          if (-1 !== e.indexOf(t[1]))
                            for (var i = e.length, s = 0, n = 0; n < i; n++)
                              if ("\\" === e[n]) n++;
                              else if (e[n] === t[0]) s++;
                              else if (e[n] === t[1] && --s < 0) return n;
                          return -1;
                        })(e[2], "()")),
                          -1 < i &&
                            ((n =
                              (0 === e[0].indexOf("!") ? 5 : 4) +
                              e[1].length +
                              i),
                            (e[2] = e[2].substring(0, i)),
                            (e[0] = e[0].substring(0, n).trim()),
                            (e[3] = ""));
                      i = e[2];
                      var s,
                        n = "";
                      return (
                        this.options.pedantic
                          ? (s = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i)) &&
                            ((i = s[1]), (n = s[3]))
                          : (n = e[3] ? e[3].slice(1, -1) : ""),
                        (i = i.trim()),
                        T(
                          e,
                          {
                            href:
                              (i = /^</.test(i)
                                ? this.options.pedantic && !/>$/.test(t)
                                  ? i.slice(1)
                                  : i.slice(1, -1)
                                : i) &&
                              i.replace(this.rules.inline._escapes, "$1"),
                            title:
                              n && n.replace(this.rules.inline._escapes, "$1"),
                          },
                          e[0],
                          this.lexer
                        )
                      );
                    }
                  }),
                  (i.reflink = function (e, t) {
                    var i;
                    if (
                      (i =
                        (i = this.rules.inline.reflink.exec(e)) ||
                        this.rules.inline.nolink.exec(e))
                    )
                      return (e =
                        t[
                          (e = (i[2] || i[1]).replace(
                            /\s+/g,
                            " "
                          )).toLowerCase()
                        ])
                        ? T(i, e, i[0], this.lexer)
                        : { type: "text", raw: (t = i[0].charAt(0)), text: t };
                  }),
                  (i.emStrong = function (e, t, i) {
                    void 0 === i && (i = "");
                    var s = this.rules.inline.emStrong.lDelim.exec(e);
                    if (
                      s &&
                      (!s[3] ||
                        !i.match(
                          /(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/
                        ))
                    ) {
                      var n = s[1] || s[2] || "";
                      if (
                        !n ||
                        "" === i ||
                        this.rules.inline.punctuation.exec(i)
                      ) {
                        var o = s[0].length - 1,
                          a = o,
                          r = 0,
                          l =
                            "*" === s[0][0]
                              ? this.rules.inline.emStrong.rDelimAst
                              : this.rules.inline.emStrong.rDelimUnd;
                        for (
                          l.lastIndex = 0, t = t.slice(-1 * e.length + o);
                          null != (s = l.exec(t));

                        ) {
                          var c,
                            u = s[1] || s[2] || s[3] || s[4] || s[5] || s[6];
                          if (u)
                            if (((c = u.length), s[3] || s[4])) a += c;
                            else if ((s[5] || s[6]) && o % 3 && !((o + c) % 3))
                              r += c;
                            else if (!(0 < (a -= c)))
                              return (
                                (c = Math.min(c, c + a + r)),
                                (u = e.slice(
                                  0,
                                  o + s.index + (s[0].length - u.length) + c
                                )),
                                Math.min(o, c) % 2
                                  ? ((c = u.slice(1, -1)),
                                    {
                                      type: "em",
                                      raw: u,
                                      text: c,
                                      tokens: this.lexer.inlineTokens(c),
                                    })
                                  : ((c = u.slice(2, -2)),
                                    {
                                      type: "strong",
                                      raw: u,
                                      text: c,
                                      tokens: this.lexer.inlineTokens(c),
                                    })
                              );
                        }
                      }
                    }
                  }),
                  (i.codespan = function (e) {
                    var t, i, s;
                    e = this.rules.inline.code.exec(e);
                    if (e)
                      return (
                        (s = e[2].replace(/\n/g, " ")),
                        (t = /[^ ]/.test(s)),
                        (i = /^ /.test(s) && / $/.test(s)),
                        (s = d(
                          (s = t && i ? s.substring(1, s.length - 1) : s),
                          !0
                        )),
                        { type: "codespan", raw: e[0], text: s }
                      );
                  }),
                  (i.br = function (e) {
                    if (((e = this.rules.inline.br.exec(e)), e))
                      return { type: "br", raw: e[0] };
                  }),
                  (i.del = function (e) {
                    if (((e = this.rules.inline.del.exec(e)), e))
                      return {
                        type: "del",
                        raw: e[0],
                        text: e[2],
                        tokens: this.lexer.inlineTokens(e[2]),
                      };
                  }),
                  (i.autolink = function (e, t) {
                    var i;
                    e = this.rules.inline.autolink.exec(e);
                    if (e)
                      return (
                        (t =
                          "@" === e[2]
                            ? "mailto:" +
                              (i = d(this.options.mangle ? t(e[1]) : e[1]))
                            : (i = d(e[1]))),
                        {
                          type: "link",
                          raw: e[0],
                          text: i,
                          href: t,
                          tokens: [{ type: "text", raw: i, text: i }],
                        }
                      );
                  }),
                  (i.url = function (e, t) {
                    var i, s, n, o;
                    if ((i = this.rules.inline.url.exec(e))) {
                      if ("@" === i[2])
                        n =
                          "mailto:" +
                          (s = d(this.options.mangle ? t(i[0]) : i[0]));
                      else {
                        for (
                          ;
                          (o = i[0]),
                            (i[0] = this.rules.inline._backpedal.exec(i[0])[0]),
                            o !== i[0];

                        );
                        (s = d(i[0])),
                          (n = "www." === i[1] ? "http://" + i[0] : i[0]);
                      }
                      return {
                        type: "link",
                        raw: i[0],
                        text: s,
                        href: n,
                        tokens: [{ type: "text", raw: s, text: s }],
                      };
                    }
                  }),
                  (i.inlineText = function (e, t) {
                    if (((e = this.rules.inline.text.exec(e)), e))
                      return (
                        (t = this.lexer.state.inRawBlock
                          ? this.options.sanitize
                            ? this.options.sanitizer
                              ? this.options.sanitizer(e[0])
                              : d(e[0])
                            : e[0]
                          : d(this.options.smartypants ? t(e[0]) : e[0])),
                        { type: "text", raw: e[0], text: t }
                      );
                  }),
                  t
                );
              })(),
              $ = {
                newline: /^(?: *(?:\n|$))+/,
                code: /^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,
                fences:
                  /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,
                hr: /^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,
                heading: /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
                blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
                list: /^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,
                html: "^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",
                def: /^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,
                table: k,
                lheading: /^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,
                _paragraph:
                  /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,
                text: /^[^\n]+/,
                _label: /(?!\s*\])(?:\\.|[^\[\]\\])+/,
                _title:
                  /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,
              },
              R =
                (($.def = m($.def)
                  .replace("label", $._label)
                  .replace("title", $._title)
                  .getRegex()),
                ($.bullet = /(?:[*+-]|\d{1,9}[.)])/),
                ($.listItemStart = m(/^( *)(bull) */)
                  .replace("bull", $.bullet)
                  .getRegex()),
                ($.list = m($.list)
                  .replace(/bull/g, $.bullet)
                  .replace(
                    "hr",
                    "\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))"
                  )
                  .replace("def", "\\n+(?=" + $.def.source + ")")
                  .getRegex()),
                ($._tag =
                  "address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul"),
                ($._comment = /<!--(?!-?>)[\s\S]*?(?:-->|$)/),
                ($.html = m($.html, "i")
                  .replace("comment", $._comment)
                  .replace("tag", $._tag)
                  .replace(
                    "attribute",
                    / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/
                  )
                  .getRegex()),
                ($.paragraph = m($._paragraph)
                  .replace("hr", $.hr)
                  .replace("heading", " {0,3}#{1,6} ")
                  .replace("|lheading", "")
                  .replace("|table", "")
                  .replace("blockquote", " {0,3}>")
                  .replace(
                    "fences",
                    " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n"
                  )
                  .replace("list", " {0,3}(?:[*+-]|1[.)]) ")
                  .replace(
                    "html",
                    "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)"
                  )
                  .replace("tag", $._tag)
                  .getRegex()),
                ($.blockquote = m($.blockquote)
                  .replace("paragraph", $.paragraph)
                  .getRegex()),
                ($.normal = x({}, $)),
                ($.gfm = x({}, $.normal, {
                  table:
                    "^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",
                })),
                ($.gfm.table = m($.gfm.table)
                  .replace("hr", $.hr)
                  .replace("heading", " {0,3}#{1,6} ")
                  .replace("blockquote", " {0,3}>")
                  .replace("code", " {4}[^\\n]")
                  .replace(
                    "fences",
                    " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n"
                  )
                  .replace("list", " {0,3}(?:[*+-]|1[.)]) ")
                  .replace(
                    "html",
                    "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)"
                  )
                  .replace("tag", $._tag)
                  .getRegex()),
                ($.gfm.paragraph = m($._paragraph)
                  .replace("hr", $.hr)
                  .replace("heading", " {0,3}#{1,6} ")
                  .replace("|lheading", "")
                  .replace("table", $.gfm.table)
                  .replace("blockquote", " {0,3}>")
                  .replace(
                    "fences",
                    " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n"
                  )
                  .replace("list", " {0,3}(?:[*+-]|1[.)]) ")
                  .replace(
                    "html",
                    "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)"
                  )
                  .replace("tag", $._tag)
                  .getRegex()),
                ($.pedantic = x({}, $.normal, {
                  html: m(
                    "^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))"
                  )
                    .replace("comment", $._comment)
                    .replace(
                      /tag/g,
                      "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b"
                    )
                    .getRegex(),
                  def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
                  heading: /^(#{1,6})(.*)(?:\n+|$)/,
                  fences: k,
                  lheading: /^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,
                  paragraph: m($.normal._paragraph)
                    .replace("hr", $.hr)
                    .replace("heading", " *#{1,6} *[^\n]")
                    .replace("lheading", $.lheading)
                    .replace("blockquote", " {0,3}>")
                    .replace("|fences", "")
                    .replace("|list", "")
                    .replace("|html", "")
                    .getRegex(),
                })),
                {
                  escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,
                  autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
                  url: k,
                  tag: "^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",
                  link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,
                  reflink: /^!?\[(label)\]\[(ref)\]/,
                  nolink: /^!?\[(ref)\](?:\[\])?/,
                  reflinkSearch: "reflink|nolink(?!\\()",
                  emStrong: {
                    lDelim:
                      /^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,
                    rDelimAst:
                      /^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,
                    rDelimUnd:
                      /^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/,
                  },
                  code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
                  br: /^( {2,}|\\)\n(?!\s*$)/,
                  del: k,
                  text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,
                  punctuation: /^([\spunctuation])/,
                });
            function M(e) {
              return e
                .replace(/---/g, "—")
                .replace(/--/g, "–")
                .replace(/(^|[-\u2014/(\[{"\s])'/g, "$1‘")
                .replace(/'/g, "’")
                .replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1“")
                .replace(/"/g, "”")
                .replace(/\.{3}/g, "…");
            }
            function P(e) {
              for (var t, i = "", s = e.length, n = 0; n < s; n++)
                (t = e.charCodeAt(n)),
                  (i +=
                    "&#" +
                    (t = 0.5 < Math.random() ? "x" + t.toString(16) : t) +
                    ";");
              return i;
            }
            (R._punctuation = "!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"),
              (R.punctuation = m(R.punctuation)
                .replace(/punctuation/g, R._punctuation)
                .getRegex()),
              (R.blockSkip = /\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g),
              (R.escapedEmSt = /(?:^|[^\\])(?:\\\\)*\\[*_]/g),
              (R._comment = m($._comment)
                .replace("(?:--\x3e|$)", "--\x3e")
                .getRegex()),
              (R.emStrong.lDelim = m(R.emStrong.lDelim)
                .replace(/punct/g, R._punctuation)
                .getRegex()),
              (R.emStrong.rDelimAst = m(R.emStrong.rDelimAst, "g")
                .replace(/punct/g, R._punctuation)
                .getRegex()),
              (R.emStrong.rDelimUnd = m(R.emStrong.rDelimUnd, "g")
                .replace(/punct/g, R._punctuation)
                .getRegex()),
              (R._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g),
              (R._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/),
              (R._email =
                /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/),
              (R.autolink = m(R.autolink)
                .replace("scheme", R._scheme)
                .replace("email", R._email)
                .getRegex()),
              (R._attribute =
                /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/),
              (R.tag = m(R.tag)
                .replace("comment", R._comment)
                .replace("attribute", R._attribute)
                .getRegex()),
              (R._label =
                /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/),
              (R._href = /<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/),
              (R._title =
                /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/),
              (R.link = m(R.link)
                .replace("label", R._label)
                .replace("href", R._href)
                .replace("title", R._title)
                .getRegex()),
              (R.reflink = m(R.reflink)
                .replace("label", R._label)
                .replace("ref", $._label)
                .getRegex()),
              (R.nolink = m(R.nolink).replace("ref", $._label).getRegex()),
              (R.reflinkSearch = m(R.reflinkSearch, "g")
                .replace("reflink", R.reflink)
                .replace("nolink", R.nolink)
                .getRegex()),
              (R.normal = x({}, R)),
              (R.pedantic = x({}, R.normal, {
                strong: {
                  start: /^__|\*\*/,
                  middle:
                    /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
                  endAst: /\*\*(?!\*)/g,
                  endUnd: /__(?!_)/g,
                },
                em: {
                  start: /^_|\*/,
                  middle:
                    /^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
                  endAst: /\*(?!\*)/g,
                  endUnd: /_(?!_)/g,
                },
                link: m(/^!?\[(label)\]\((.*?)\)/)
                  .replace("label", R._label)
                  .getRegex(),
                reflink: m(/^!?\[(label)\]\s*\[([^\]]*)\]/)
                  .replace("label", R._label)
                  .getRegex(),
              })),
              (R.gfm = x({}, R.normal, {
                escape: m(R.escape).replace("])", "~|])").getRegex(),
                _extended_email:
                  /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
                url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
                _backpedal:
                  /(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,
                del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,
                text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/,
              })),
              (R.gfm.url = m(R.gfm.url, "i")
                .replace("email", R.gfm._extended_email)
                .getRegex()),
              (R.breaks = x({}, R.gfm, {
                br: m(R.br).replace("{2,}", "*").getRegex(),
                text: m(R.gfm.text)
                  .replace("\\b_", "\\b_| {2,}\\n")
                  .replace(/\{2,\}/g, "*")
                  .getRegex(),
              }));
            var I = (function () {
                function i(t) {
                  (this.tokens = []),
                    (this.tokens.links = Object.create(null)),
                    (this.options = t || e.defaults),
                    (this.options.tokenizer =
                      this.options.tokenizer || new B()),
                    (this.tokenizer = this.options.tokenizer),
                    (this.tokenizer.options = this.options),
                    ((this.tokenizer.lexer = this).inlineQueue = []),
                    (this.state = { inLink: !1, inRawBlock: !1, top: !0 }),
                    (t = { block: $.normal, inline: R.normal }),
                    this.options.pedantic
                      ? ((t.block = $.pedantic), (t.inline = R.pedantic))
                      : this.options.gfm &&
                        ((t.block = $.gfm),
                        this.options.breaks
                          ? (t.inline = R.breaks)
                          : (t.inline = R.gfm)),
                    (this.tokenizer.rules = t);
                }
                (i.lex = function (e, t) {
                  return new i(t).lex(e);
                }),
                  (i.lexInline = function (e, t) {
                    return new i(t).inlineTokens(e);
                  });
                var s,
                  n,
                  o = i.prototype;
                return (
                  (o.lex = function (e) {
                    var t;
                    for (
                      e = e.replace(/\r\n|\r/g, "\n"),
                        this.blockTokens(e, this.tokens);
                      (t = this.inlineQueue.shift());

                    )
                      this.inlineTokens(t.src, t.tokens);
                    return this.tokens;
                  }),
                  (o.blockTokens = function (e, t) {
                    var i,
                      s,
                      n,
                      o,
                      a = this;
                    for (
                      void 0 === t && (t = []),
                        e = this.options.pedantic
                          ? e.replace(/\t/g, "    ").replace(/^ +$/gm, "")
                          : e.replace(/^( *)(\t+)/gm, function (e, t, i) {
                              return t + "    ".repeat(i.length);
                            });
                      e;

                    )
                      if (
                        !(
                          this.options.extensions &&
                          this.options.extensions.block &&
                          this.options.extensions.block.some(function (s) {
                            return (
                              !!(i = s.call({ lexer: a }, e, t)) &&
                              ((e = e.substring(i.raw.length)), t.push(i), !0)
                            );
                          })
                        )
                      )
                        if ((i = this.tokenizer.space(e)))
                          (e = e.substring(i.raw.length)),
                            1 === i.raw.length && 0 < t.length
                              ? (t[t.length - 1].raw += "\n")
                              : t.push(i);
                        else if ((i = this.tokenizer.code(e)))
                          (e = e.substring(i.raw.length)),
                            !(s = t[t.length - 1]) ||
                            ("paragraph" !== s.type && "text" !== s.type)
                              ? t.push(i)
                              : ((s.raw += "\n" + i.raw),
                                (s.text += "\n" + i.text),
                                (this.inlineQueue[
                                  this.inlineQueue.length - 1
                                ].src = s.text));
                        else if ((i = this.tokenizer.fences(e)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if ((i = this.tokenizer.heading(e)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if ((i = this.tokenizer.hr(e)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if ((i = this.tokenizer.blockquote(e)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if ((i = this.tokenizer.list(e)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if ((i = this.tokenizer.html(e)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if ((i = this.tokenizer.def(e)))
                          (e = e.substring(i.raw.length)),
                            !(s = t[t.length - 1]) ||
                            ("paragraph" !== s.type && "text" !== s.type)
                              ? this.tokens.links[i.tag] ||
                                (this.tokens.links[i.tag] = {
                                  href: i.href,
                                  title: i.title,
                                })
                              : ((s.raw += "\n" + i.raw),
                                (s.text += "\n" + i.raw),
                                (this.inlineQueue[
                                  this.inlineQueue.length - 1
                                ].src = s.text));
                        else if ((i = this.tokenizer.table(e)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if ((i = this.tokenizer.lheading(e)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if (
                          ((n = e),
                          this.options.extensions &&
                            this.options.extensions.startBlock &&
                            (function () {
                              var t = 1 / 0,
                                i = e.slice(1),
                                s = void 0;
                              a.options.extensions.startBlock.forEach(function (
                                e
                              ) {
                                "number" ==
                                  typeof (s = e.call({ lexer: this }, i)) &&
                                  0 <= s &&
                                  (t = Math.min(t, s));
                              }),
                                t < 1 / 0 &&
                                  0 <= t &&
                                  (n = e.substring(0, t + 1));
                            })(),
                          this.state.top && (i = this.tokenizer.paragraph(n)))
                        )
                          (s = t[t.length - 1]),
                            o && "paragraph" === s.type
                              ? ((s.raw += "\n" + i.raw),
                                (s.text += "\n" + i.text),
                                this.inlineQueue.pop(),
                                (this.inlineQueue[
                                  this.inlineQueue.length - 1
                                ].src = s.text))
                              : t.push(i),
                            (o = n.length !== e.length),
                            (e = e.substring(i.raw.length));
                        else if ((i = this.tokenizer.text(e)))
                          (e = e.substring(i.raw.length)),
                            (s = t[t.length - 1]) && "text" === s.type
                              ? ((s.raw += "\n" + i.raw),
                                (s.text += "\n" + i.text),
                                this.inlineQueue.pop(),
                                (this.inlineQueue[
                                  this.inlineQueue.length - 1
                                ].src = s.text))
                              : t.push(i);
                        else if (e) {
                          var r = "Infinite loop on byte: " + e.charCodeAt(0);
                          if (this.options.silent) {
                            console.error(r);
                            break;
                          }
                          throw new Error(r);
                        }
                    return (this.state.top = !0), t;
                  }),
                  (o.inline = function (e, t) {
                    return (
                      this.inlineQueue.push({
                        src: e,
                        tokens: (t = void 0 === t ? [] : t),
                      }),
                      t
                    );
                  }),
                  (o.inlineTokens = function (e, t) {
                    var i,
                      s,
                      n,
                      o,
                      a,
                      r,
                      l = this,
                      c = (void 0 === t && (t = []), e);
                    if (this.tokens.links) {
                      var u = Object.keys(this.tokens.links);
                      if (0 < u.length)
                        for (
                          ;
                          null !=
                          (o =
                            this.tokenizer.rules.inline.reflinkSearch.exec(c));

                        )
                          u.includes(
                            o[0].slice(o[0].lastIndexOf("[") + 1, -1)
                          ) &&
                            (c =
                              c.slice(0, o.index) +
                              "[" +
                              E("a", o[0].length - 2) +
                              "]" +
                              c.slice(
                                this.tokenizer.rules.inline.reflinkSearch
                                  .lastIndex
                              ));
                    }
                    for (
                      ;
                      null !=
                      (o = this.tokenizer.rules.inline.blockSkip.exec(c));

                    )
                      c =
                        c.slice(0, o.index) +
                        "[" +
                        E("a", o[0].length - 2) +
                        "]" +
                        c.slice(
                          this.tokenizer.rules.inline.blockSkip.lastIndex
                        );
                    for (
                      ;
                      null !=
                      (o = this.tokenizer.rules.inline.escapedEmSt.exec(c));

                    )
                      (c =
                        c.slice(0, o.index + o[0].length - 2) +
                        "++" +
                        c.slice(
                          this.tokenizer.rules.inline.escapedEmSt.lastIndex
                        )),
                        this.tokenizer.rules.inline.escapedEmSt.lastIndex--;
                    for (; e; )
                      if (
                        (a || (r = ""),
                        (a = !1),
                        !(
                          this.options.extensions &&
                          this.options.extensions.inline &&
                          this.options.extensions.inline.some(function (s) {
                            return (
                              !!(i = s.call({ lexer: l }, e, t)) &&
                              ((e = e.substring(i.raw.length)), t.push(i), !0)
                            );
                          })
                        ))
                      )
                        if ((i = this.tokenizer.escape(e)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if ((i = this.tokenizer.tag(e)))
                          (e = e.substring(i.raw.length)),
                            (s = t[t.length - 1]) &&
                            "text" === i.type &&
                            "text" === s.type
                              ? ((s.raw += i.raw), (s.text += i.text))
                              : t.push(i);
                        else if ((i = this.tokenizer.link(e)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if (
                          (i = this.tokenizer.reflink(e, this.tokens.links))
                        )
                          (e = e.substring(i.raw.length)),
                            (s = t[t.length - 1]) &&
                            "text" === i.type &&
                            "text" === s.type
                              ? ((s.raw += i.raw), (s.text += i.text))
                              : t.push(i);
                        else if ((i = this.tokenizer.emStrong(e, c, r)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if ((i = this.tokenizer.codespan(e)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if ((i = this.tokenizer.br(e)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if ((i = this.tokenizer.del(e)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if ((i = this.tokenizer.autolink(e, P)))
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if (
                          !this.state.inLink &&
                          (i = this.tokenizer.url(e, P))
                        )
                          (e = e.substring(i.raw.length)), t.push(i);
                        else if (
                          ((n = e),
                          this.options.extensions &&
                            this.options.extensions.startInline &&
                            (function () {
                              var t = 1 / 0,
                                i = e.slice(1),
                                s = void 0;
                              l.options.extensions.startInline.forEach(
                                function (e) {
                                  "number" ==
                                    typeof (s = e.call({ lexer: this }, i)) &&
                                    0 <= s &&
                                    (t = Math.min(t, s));
                                }
                              ),
                                t < 1 / 0 &&
                                  0 <= t &&
                                  (n = e.substring(0, t + 1));
                            })(),
                          (i = this.tokenizer.inlineText(n, M)))
                        )
                          (e = e.substring(i.raw.length)),
                            "_" !== i.raw.slice(-1) && (r = i.raw.slice(-1)),
                            (a = !0),
                            (s = t[t.length - 1]) && "text" === s.type
                              ? ((s.raw += i.raw), (s.text += i.text))
                              : t.push(i);
                        else if (e) {
                          var d = "Infinite loop on byte: " + e.charCodeAt(0);
                          if (this.options.silent) {
                            console.error(d);
                            break;
                          }
                          throw new Error(d);
                        }
                    return t;
                  }),
                  (o = i),
                  (n = [
                    {
                      key: "rules",
                      get: function () {
                        return { block: $, inline: R };
                      },
                    },
                  ]),
                  (s = null) && t(o.prototype, s),
                  n && t(o, n),
                  Object.defineProperty(o, "prototype", { writable: !1 }),
                  i
                );
              })(),
              F = (function () {
                function t(t) {
                  this.options = t || e.defaults;
                }
                var i = t.prototype;
                return (
                  (i.code = function (e, t, i) {
                    var s;
                    t = (t || "").match(/\S*/)[0];
                    return (
                      this.options.highlight &&
                        null != (s = this.options.highlight(e, t)) &&
                        s !== e &&
                        ((i = !0), (e = s)),
                      (e = e.replace(/\n$/, "") + "\n"),
                      t
                        ? '<pre><code class="' +
                          this.options.langPrefix +
                          d(t) +
                          '">' +
                          (i ? e : d(e, !0)) +
                          "</code></pre>\n"
                        : "<pre><code>" + (i ? e : d(e, !0)) + "</code></pre>\n"
                    );
                  }),
                  (i.blockquote = function (e) {
                    return "<blockquote>\n" + e + "</blockquote>\n";
                  }),
                  (i.html = function (e) {
                    return e;
                  }),
                  (i.heading = function (e, t, i, s) {
                    return this.options.headerIds
                      ? "<h" +
                          t +
                          ' id="' +
                          (this.options.headerPrefix + s.slug(i)) +
                          '">' +
                          e +
                          "</h" +
                          t +
                          ">\n"
                      : "<h" + t + ">" + e + "</h" + t + ">\n";
                  }),
                  (i.hr = function () {
                    return this.options.xhtml ? "<hr/>\n" : "<hr>\n";
                  }),
                  (i.list = function (e, t, i) {
                    var s = t ? "ol" : "ul";
                    return (
                      "<" +
                      s +
                      (t && 1 !== i ? ' start="' + i + '"' : "") +
                      ">\n" +
                      e +
                      "</" +
                      s +
                      ">\n"
                    );
                  }),
                  (i.listitem = function (e) {
                    return "<li>" + e + "</li>\n";
                  }),
                  (i.checkbox = function (e) {
                    return (
                      "<input " +
                      (e ? 'checked="" ' : "") +
                      'disabled="" type="checkbox"' +
                      (this.options.xhtml ? " /" : "") +
                      "> "
                    );
                  }),
                  (i.paragraph = function (e) {
                    return "<p>" + e + "</p>\n";
                  }),
                  (i.table = function (e, t) {
                    return (
                      "<table>\n<thead>\n" +
                      e +
                      "</thead>\n" +
                      (t = t && "<tbody>" + t + "</tbody>") +
                      "</table>\n"
                    );
                  }),
                  (i.tablerow = function (e) {
                    return "<tr>\n" + e + "</tr>\n";
                  }),
                  (i.tablecell = function (e, t) {
                    var i = t.header ? "th" : "td";
                    return (
                      (t.align
                        ? "<" + i + ' align="' + t.align + '">'
                        : "<" + i + ">") +
                      e +
                      "</" +
                      i +
                      ">\n"
                    );
                  }),
                  (i.strong = function (e) {
                    return "<strong>" + e + "</strong>";
                  }),
                  (i.em = function (e) {
                    return "<em>" + e + "</em>";
                  }),
                  (i.codespan = function (e) {
                    return "<code>" + e + "</code>";
                  }),
                  (i.br = function () {
                    return this.options.xhtml ? "<br/>" : "<br>";
                  }),
                  (i.del = function (e) {
                    return "<del>" + e + "</del>";
                  }),
                  (i.link = function (e, t, i) {
                    return null ===
                      (e = v(this.options.sanitize, this.options.baseUrl, e))
                      ? i
                      : ((e = '<a target="_blank" href="' + e + '"'),
                        t && (e += ' title="' + t + '"'),
                        e + ">" + i + "</a>");
                  }),
                  (i.image = function (e, t, i) {
                    return null ===
                      (e = v(this.options.sanitize, this.options.baseUrl, e))
                      ? i
                      : ((e = '<img src="' + e + '" alt="' + i + '"'),
                        t && (e += ' title="' + t + '"'),
                        e + (this.options.xhtml ? "/>" : ">"));
                  }),
                  (i.text = function (e) {
                    return e;
                  }),
                  t
                );
              })(),
              U = (function () {
                function e() {}
                var t = e.prototype;
                return (
                  (t.strong = function (e) {
                    return e;
                  }),
                  (t.em = function (e) {
                    return e;
                  }),
                  (t.codespan = function (e) {
                    return e;
                  }),
                  (t.del = function (e) {
                    return e;
                  }),
                  (t.html = function (e) {
                    return e;
                  }),
                  (t.text = function (e) {
                    return e;
                  }),
                  (t.link = function (e, t, i) {
                    return "" + i;
                  }),
                  (t.image = function (e, t, i) {
                    return "" + i;
                  }),
                  (t.br = function () {
                    return "";
                  }),
                  e
                );
              })(),
              N = (function () {
                function e() {
                  this.seen = {};
                }
                var t = e.prototype;
                return (
                  (t.serialize = function (e) {
                    return e
                      .toLowerCase()
                      .trim()
                      .replace(/<[!\/a-z].*?>/gi, "")
                      .replace(
                        /[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,
                        ""
                      )
                      .replace(/\s/g, "-");
                  }),
                  (t.getNextSafeSlug = function (e, t) {
                    var i = e,
                      s = 0;
                    if (this.seen.hasOwnProperty(i))
                      for (
                        s = this.seen[e];
                        (i = e + "-" + ++s), this.seen.hasOwnProperty(i);

                      );
                    return t || ((this.seen[e] = s), (this.seen[i] = 0)), i;
                  }),
                  (t.slug = function (e, t) {
                    return (
                      void 0 === t && (t = {}),
                      (e = this.serialize(e)),
                      this.getNextSafeSlug(e, t.dryrun)
                    );
                  }),
                  e
                );
              })(),
              O = (function () {
                function t(t) {
                  (this.options = t || e.defaults),
                    (this.options.renderer = this.options.renderer || new F()),
                    (this.renderer = this.options.renderer),
                    (this.renderer.options = this.options),
                    (this.textRenderer = new U()),
                    (this.slugger = new N());
                }
                (t.parse = function (e, i) {
                  return new t(i).parse(e);
                }),
                  (t.parseInline = function (e, i) {
                    return new t(i).parseInline(e);
                  });
                var i = t.prototype;
                return (
                  (i.parse = function (e, t) {
                    void 0 === t && (t = !0);
                    for (
                      var i,
                        s,
                        n,
                        o,
                        a,
                        r,
                        l,
                        c,
                        u,
                        d,
                        h,
                        _,
                        m,
                        g,
                        f,
                        v,
                        y = "",
                        w = e.length,
                        C = 0;
                      C < w;
                      C++
                    )
                      if (
                        ((c = e[C]),
                        this.options.extensions &&
                          this.options.extensions.renderers &&
                          this.options.extensions.renderers[c.type] &&
                          (!1 !==
                            (v = this.options.extensions.renderers[c.type].call(
                              { parser: this },
                              c
                            )) ||
                            ![
                              "space",
                              "hr",
                              "heading",
                              "code",
                              "table",
                              "blockquote",
                              "list",
                              "html",
                              "paragraph",
                              "text",
                            ].includes(c.type)))
                      )
                        y += v || "";
                      else
                        switch (c.type) {
                          case "space":
                            continue;
                          case "hr":
                            y += this.renderer.hr();
                            continue;
                          case "heading":
                            y += this.renderer.heading(
                              this.parseInline(c.tokens),
                              c.depth,
                              p(this.parseInline(c.tokens, this.textRenderer)),
                              this.slugger
                            );
                            continue;
                          case "code":
                            y += this.renderer.code(c.text, c.lang, c.escaped);
                            continue;
                          case "table":
                            for (
                              r = u = "", n = c.header.length, i = 0;
                              i < n;
                              i++
                            )
                              r += this.renderer.tablecell(
                                this.parseInline(c.header[i].tokens),
                                { header: !0, align: c.align[i] }
                              );
                            for (
                              u += this.renderer.tablerow(r),
                                l = "",
                                n = c.rows.length,
                                i = 0;
                              i < n;
                              i++
                            ) {
                              for (
                                r = "", o = (a = c.rows[i]).length, s = 0;
                                s < o;
                                s++
                              )
                                r += this.renderer.tablecell(
                                  this.parseInline(a[s].tokens),
                                  { header: !1, align: c.align[s] }
                                );
                              l += this.renderer.tablerow(r);
                            }
                            y += this.renderer.table(u, l);
                            continue;
                          case "blockquote":
                            (l = this.parse(c.tokens)),
                              (y += this.renderer.blockquote(l));
                            continue;
                          case "list":
                            for (
                              u = c.ordered,
                                b = c.start,
                                d = c.loose,
                                n = c.items.length,
                                l = "",
                                i = 0;
                              i < n;
                              i++
                            )
                              (m = (_ = c.items[i]).checked),
                                (g = _.task),
                                (h = ""),
                                _.task &&
                                  ((f = this.renderer.checkbox(m)),
                                  d
                                    ? 0 < _.tokens.length &&
                                      "paragraph" === _.tokens[0].type
                                      ? ((_.tokens[0].text =
                                          f + " " + _.tokens[0].text),
                                        _.tokens[0].tokens &&
                                          0 < _.tokens[0].tokens.length &&
                                          "text" ===
                                            _.tokens[0].tokens[0].type &&
                                          (_.tokens[0].tokens[0].text =
                                            f +
                                            " " +
                                            _.tokens[0].tokens[0].text))
                                      : _.tokens.unshift({
                                          type: "text",
                                          text: f,
                                        })
                                    : (h += f)),
                                (h += this.parse(_.tokens, d)),
                                (l += this.renderer.listitem(h, g, m));
                            y += this.renderer.list(l, u, b);
                            continue;
                          case "html":
                            y += this.renderer.html(c.text);
                            continue;
                          case "paragraph":
                            y += this.renderer.paragraph(
                              this.parseInline(c.tokens)
                            );
                            continue;
                          case "text":
                            for (
                              l = c.tokens
                                ? this.parseInline(c.tokens)
                                : c.text;
                              C + 1 < w && "text" === e[C + 1].type;

                            )
                              l +=
                                "\n" +
                                ((c = e[++C]).tokens
                                  ? this.parseInline(c.tokens)
                                  : c.text);
                            y += t ? this.renderer.paragraph(l) : l;
                            continue;
                          default:
                            var b =
                              'Token with "' + c.type + '" type was not found.';
                            if (this.options.silent)
                              return void console.error(b);
                            throw new Error(b);
                        }
                    return y;
                  }),
                  (i.parseInline = function (e, t) {
                    t = t || this.renderer;
                    for (var i, s, n = "", o = e.length, a = 0; a < o; a++)
                      if (
                        ((i = e[a]),
                        this.options.extensions &&
                          this.options.extensions.renderers &&
                          this.options.extensions.renderers[i.type] &&
                          (!1 !==
                            (s = this.options.extensions.renderers[i.type].call(
                              { parser: this },
                              i
                            )) ||
                            ![
                              "escape",
                              "html",
                              "link",
                              "image",
                              "strong",
                              "em",
                              "codespan",
                              "br",
                              "del",
                              "text",
                            ].includes(i.type)))
                      )
                        n += s || "";
                      else
                        switch (i.type) {
                          case "escape":
                            n += t.text(i.text);
                            break;
                          case "html":
                            n += t.html(i.text);
                            break;
                          case "link":
                            n += t.link(
                              i.href,
                              i.title,
                              this.parseInline(i.tokens, t)
                            );
                            break;
                          case "image":
                            n += t.image(i.href, i.title, i.text);
                            break;
                          case "strong":
                            n += t.strong(this.parseInline(i.tokens, t));
                            break;
                          case "em":
                            n += t.em(this.parseInline(i.tokens, t));
                            break;
                          case "codespan":
                            n += t.codespan(i.text);
                            break;
                          case "br":
                            n += t.br();
                            break;
                          case "del":
                            n += t.del(this.parseInline(i.tokens, t));
                            break;
                          case "text":
                            n += t.text(i.text);
                            break;
                          default:
                            var r =
                              'Token with "' + i.type + '" type was not found.';
                            if (this.options.silent)
                              return void console.error(r);
                            throw new Error(r);
                        }
                    return n;
                  }),
                  t
                );
              })();
            function H(e, t, i) {
              if (null == e)
                throw new Error(
                  "marked(): input parameter is undefined or null"
                );
              if ("string" != typeof e)
                throw new Error(
                  "marked(): input parameter is of type " +
                    Object.prototype.toString.call(e) +
                    ", string expected"
                );
              if (
                ("function" == typeof t && ((i = t), (t = null)),
                A((t = x({}, H.defaults, t || {}))),
                i)
              ) {
                var s,
                  n = t.highlight;
                try {
                  s = I.lex(e, t);
                } catch (e) {
                  return i(e);
                }
                var o,
                  a = function (e) {
                    var o;
                    if (!e)
                      try {
                        t.walkTokens && H.walkTokens(s, t.walkTokens),
                          (o = O.parse(s, t));
                      } catch (o) {
                        e = o;
                      }
                    return (t.highlight = n), e ? i(e) : i(null, o);
                  };
                return !n || n.length < 3
                  ? a()
                  : (delete t.highlight,
                    s.length
                      ? ((o = 0),
                        H.walkTokens(s, function (e) {
                          "code" === e.type &&
                            (o++,
                            setTimeout(function () {
                              n(e.text, e.lang, function (t, i) {
                                if (t) return a(t);
                                null != i &&
                                  i !== e.text &&
                                  ((e.text = i), (e.escaped = !0)),
                                  0 === --o && a();
                              });
                            }, 0));
                        }),
                        void (0 === o && a()))
                      : a());
              }
              function r(e) {
                if (
                  ((e.message +=
                    "\nPlease report this to https://github.com/markedjs/marked."),
                  t.silent)
                )
                  return (
                    "<p>An error occurred:</p><pre>" +
                    d(e.message + "", !0) +
                    "</pre>"
                  );
                throw e;
              }
              try {
                var l = I.lex(e, t);
                if (t.walkTokens) {
                  if (t.async)
                    return Promise.all(H.walkTokens(l, t.walkTokens))
                      .then(function () {
                        return O.parse(l, t);
                      })
                      .catch(r);
                  H.walkTokens(l, t.walkTokens);
                }
                return O.parse(l, t);
              } catch (e) {
                r(e);
              }
            }
            (H.options = H.setOptions =
              function (t) {
                return x(H.defaults, t), (t = H.defaults), (e.defaults = t), H;
              }),
              (H.getDefaults = n),
              (H.defaults = e.defaults),
              (H.use = function () {
                for (
                  var e = H.defaults.extensions || {
                      renderers: {},
                      childTokens: {},
                    },
                    t = arguments.length,
                    i = new Array(t),
                    s = 0;
                  s < t;
                  s++
                )
                  i[s] = arguments[s];
                i.forEach(function (t) {
                  var i,
                    s = x({}, t);
                  if (
                    ((s.async = H.defaults.async || s.async),
                    t.extensions &&
                      (t.extensions.forEach(function (t) {
                        if (!t.name) throw new Error("extension name required");
                        var i;
                        if (
                          (t.renderer &&
                            ((i = e.renderers[t.name]),
                            (e.renderers[t.name] = i
                              ? function () {
                                  for (
                                    var e = arguments.length,
                                      s = new Array(e),
                                      n = 0;
                                    n < e;
                                    n++
                                  )
                                    s[n] = arguments[n];
                                  var o = t.renderer.apply(this, s);
                                  return !1 === o ? i.apply(this, s) : o;
                                }
                              : t.renderer)),
                          t.tokenizer)
                        ) {
                          if (
                            !t.level ||
                            ("block" !== t.level && "inline" !== t.level)
                          )
                            throw new Error(
                              "extension level must be 'block' or 'inline'"
                            );
                          e[t.level]
                            ? e[t.level].unshift(t.tokenizer)
                            : (e[t.level] = [t.tokenizer]),
                            t.start &&
                              ("block" === t.level
                                ? e.startBlock
                                  ? e.startBlock.push(t.start)
                                  : (e.startBlock = [t.start])
                                : "inline" === t.level &&
                                  (e.startInline
                                    ? e.startInline.push(t.start)
                                    : (e.startInline = [t.start])));
                        }
                        t.childTokens &&
                          (e.childTokens[t.name] = t.childTokens);
                      }),
                      (s.extensions = e)),
                    t.renderer)
                  ) {
                    var n,
                      o = H.defaults.renderer || new F();
                    for (n in t.renderer)
                      !(function (e) {
                        var i = o[e];
                        o[e] = function () {
                          for (
                            var s = arguments.length, n = new Array(s), a = 0;
                            a < s;
                            a++
                          )
                            n[a] = arguments[a];
                          var r = t.renderer[e].apply(o, n);
                          return !1 === r ? i.apply(o, n) : r;
                        };
                      })(n);
                    s.renderer = o;
                  }
                  if (t.tokenizer) {
                    var a,
                      r = H.defaults.tokenizer || new B();
                    for (a in t.tokenizer)
                      !(function (e) {
                        var i = r[e];
                        r[e] = function () {
                          for (
                            var s = arguments.length, n = new Array(s), o = 0;
                            o < s;
                            o++
                          )
                            n[o] = arguments[o];
                          var a = t.tokenizer[e].apply(r, n);
                          return !1 === a ? i.apply(r, n) : a;
                        };
                      })(a);
                    s.tokenizer = r;
                  }
                  t.walkTokens &&
                    ((i = H.defaults.walkTokens),
                    (s.walkTokens = function (e) {
                      var s = [];
                      return (
                        s.push(t.walkTokens.call(this, e)),
                        i ? s.concat(i.call(this, e)) : s
                      );
                    })),
                    H.setOptions(s);
                });
              }),
              (H.walkTokens = function (e, t) {
                for (var i, n = [], o = s(e); !(i = o()).done; )
                  !(function () {
                    var e = i.value;
                    switch (((n = n.concat(t.call(H, e))), e.type)) {
                      case "table":
                        for (var o = s(e.header); !(a = o()).done; ) {
                          var a = a.value;
                          n = n.concat(H.walkTokens(a.tokens, t));
                        }
                        for (var r, l = s(e.rows); !(r = l()).done; )
                          for (var c = s(r.value); !(u = c()).done; ) {
                            var u = u.value;
                            n = n.concat(H.walkTokens(u.tokens, t));
                          }
                        break;
                      case "list":
                        n = n.concat(H.walkTokens(e.items, t));
                        break;
                      default:
                        H.defaults.extensions &&
                        H.defaults.extensions.childTokens &&
                        H.defaults.extensions.childTokens[e.type]
                          ? H.defaults.extensions.childTokens[e.type].forEach(
                              function (i) {
                                n = n.concat(H.walkTokens(e[i], t));
                              }
                            )
                          : e.tokens &&
                            (n = n.concat(H.walkTokens(e.tokens, t)));
                    }
                  })();
                return n;
              }),
              (H.parseInline = function (e, t) {
                if (null == e)
                  throw new Error(
                    "marked.parseInline(): input parameter is undefined or null"
                  );
                if ("string" != typeof e)
                  throw new Error(
                    "marked.parseInline(): input parameter is of type " +
                      Object.prototype.toString.call(e) +
                      ", string expected"
                  );
                A((t = x({}, H.defaults, t || {})));
                try {
                  var i = I.lexInline(e, t);
                  return (
                    t.walkTokens && H.walkTokens(i, t.walkTokens),
                    O.parseInline(i, t)
                  );
                } catch (e) {
                  if (
                    ((e.message +=
                      "\nPlease report this to https://github.com/markedjs/marked."),
                    t.silent)
                  )
                    return (
                      "<p>An error occurred:</p><pre>" +
                      d(e.message + "", !0) +
                      "</pre>"
                    );
                  throw e;
                }
              }),
              (H.Parser = O),
              (H.parser = O.parse),
              (H.Renderer = F),
              (H.TextRenderer = U),
              (H.Lexer = I),
              (H.lexer = I.lex),
              (H.Tokenizer = B),
              (H.Slugger = N);
            k = (H.parse = H).options;
            var L = H.setOptions,
              K = H.use,
              z = H.walkTokens,
              q = H.parseInline,
              W = H,
              j = O.parse,
              G = I.lex;
            (e.Lexer = I),
              (e.Parser = O),
              (e.Renderer = F),
              (e.Slugger = N),
              (e.TextRenderer = U),
              (e.Tokenizer = B),
              (e.getDefaults = n),
              (e.lexer = G),
              (e.marked = H),
              (e.options = k),
              (e.parse = W),
              (e.parseInline = q),
              (e.parser = j),
              (e.setOptions = L),
              (e.use = K),
              (e.walkTokens = z);
          });
      },
      44451: function (e, t, i) {
        var s = {
          "./loading-CUHK.svg": 51153,
          "./loading-HKU.svg": 21462,
          "./loading-UST.svg": 39976,
        };
        function n(e) {
          var t = o(e);
          return i(t);
        }
        function o(e) {
          if (!i.o(s, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw ((t.code = "MODULE_NOT_FOUND"), t);
          }
          return s[e];
        }
        (n.keys = function () {
          return Object.keys(s);
        }),
          (n.resolve = o),
          (e.exports = n),
          (n.id = 44451);
      },
      55652: function (e, t, i) {
        var s = {
          "./logo-512.png": 89078,
          "./logo-CUHK.png": 13438,
          "./logo-HKU.png": 86474,
          "./logo-UST.png": 27505,
          "./logo-title-dark.png": 28353,
          "./logo-title-light.png": 22010,
        };
        function n(e) {
          var t = o(e);
          return i(t);
        }
        function o(e) {
          if (!i.o(s, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw ((t.code = "MODULE_NOT_FOUND"), t);
          }
          return s[e];
        }
        (n.keys = function () {
          return Object.keys(s);
        }),
          (n.resolve = o),
          (e.exports = n),
          (n.id = 55652);
      },
      24071: function (e, t, i) {
        var s = {
          "./sharing-author-HKU.svg": 22978,
          "./sharing-author-UST.svg": 17698,
        };
        function n(e) {
          var t = o(e);
          return i(t);
        }
        function o(e) {
          if (!i.o(s, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw ((t.code = "MODULE_NOT_FOUND"), t);
          }
          return s[e];
        }
        (n.keys = function () {
          return Object.keys(s);
        }),
          (n.resolve = o),
          (e.exports = n),
          (n.id = 24071);
      },
      90624: function (e, t, i) {
        var s = {
          "./sharing-tag-CUHK.svg": 81272,
          "./sharing-tag-HKU.svg": 69242,
          "./sharing-tag-UST.svg": 82454,
        };
        function n(e) {
          var t = o(e);
          return i(t);
        }
        function o(e) {
          if (!i.o(s, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw ((t.code = "MODULE_NOT_FOUND"), t);
          }
          return s[e];
        }
        (n.keys = function () {
          return Object.keys(s);
        }),
          (n.resolve = o),
          (e.exports = n),
          (n.id = 90624);
      },
      18276: function (e, t, i) {
        var s = {
          "./sharing-time-CUHK.svg": 62198,
          "./sharing-time-HKU.svg": 5166,
          "./sharing-time-UST.svg": 71480,
        };
        function n(e) {
          var t = o(e);
          return i(t);
        }
        function o(e) {
          if (!i.o(s, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw ((t.code = "MODULE_NOT_FOUND"), t);
          }
          return s[e];
        }
        (n.keys = function () {
          return Object.keys(s);
        }),
          (n.resolve = o),
          (e.exports = n),
          (n.id = 18276);
      },
      1207: function (e, t, i) {
        var s = {
          "./write-CUHK.svg": 48105,
          "./write-HKU.svg": 58943,
          "./write-UST.svg": 57870,
          "./write-arrow.svg": 41709,
          "./write-image-CUHK.svg": 116,
          "./write-image-HKU.svg": 60761,
          "./write-image-UST.svg": 91376,
          "./write-plus-CUHK.svg": 74612,
          "./write-plus-HKU.svg": 22691,
          "./write-plus-UST.svg": 66288,
          "./write-public-CUHK.svg": 63634,
          "./write-public-HKU.svg": 57257,
          "./write-public-UST.svg": 27945,
          "./write-realname-CUHK.svg": 11106,
          "./write-realname-HKU.svg": 22442,
          "./write-realname-UST.svg": 95286,
          "./write-topic-CUHK.svg": 1963,
          "./write-topic-HKU.svg": 39817,
          "./write-topic-UST.svg": 6909,
          "./write-uni-CUHK.svg": 95227,
          "./write-uni-HKU.svg": 70338,
          "./write-uni-UST.svg": 14223,
        };
        function n(e) {
          var t = o(e);
          return i(t);
        }
        function o(e) {
          if (!i.o(s, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw ((t.code = "MODULE_NOT_FOUND"), t);
          }
          return s[e];
        }
        (n.keys = function () {
          return Object.keys(s);
        }),
          (n.resolve = o),
          (e.exports = n),
          (n.id = 1207);
      },
      54523: function (e, t, i) {
        var s = {
          "./write-image-CUHK.svg": 116,
          "./write-image-HKU.svg": 60761,
          "./write-image-UST.svg": 91376,
        };
        function n(e) {
          var t = o(e);
          return i(t);
        }
        function o(e) {
          if (!i.o(s, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw ((t.code = "MODULE_NOT_FOUND"), t);
          }
          return s[e];
        }
        (n.keys = function () {
          return Object.keys(s);
        }),
          (n.resolve = o),
          (e.exports = n),
          (n.id = 54523);
      },
      43006: function (e, t, i) {
        var s = {
          "./write-plus-CUHK.svg": 74612,
          "./write-plus-HKU.svg": 22691,
          "./write-plus-UST.svg": 66288,
        };
        function n(e) {
          var t = o(e);
          return i(t);
        }
        function o(e) {
          if (!i.o(s, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw ((t.code = "MODULE_NOT_FOUND"), t);
          }
          return s[e];
        }
        (n.keys = function () {
          return Object.keys(s);
        }),
          (n.resolve = o),
          (e.exports = n),
          (n.id = 43006);
      },
      87235: function (e, t, i) {
        var s = {
          "./write-public-CUHK.svg": 63634,
          "./write-public-HKU.svg": 57257,
          "./write-public-UST.svg": 27945,
        };
        function n(e) {
          var t = o(e);
          return i(t);
        }
        function o(e) {
          if (!i.o(s, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw ((t.code = "MODULE_NOT_FOUND"), t);
          }
          return s[e];
        }
        (n.keys = function () {
          return Object.keys(s);
        }),
          (n.resolve = o),
          (e.exports = n),
          (n.id = 87235);
      },
      20001: function (e, t, i) {
        var s = {
          "./write-realname-CUHK.svg": 11106,
          "./write-realname-HKU.svg": 22442,
          "./write-realname-UST.svg": 95286,
        };
        function n(e) {
          var t = o(e);
          return i(t);
        }
        function o(e) {
          if (!i.o(s, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw ((t.code = "MODULE_NOT_FOUND"), t);
          }
          return s[e];
        }
        (n.keys = function () {
          return Object.keys(s);
        }),
          (n.resolve = o),
          (e.exports = n),
          (n.id = 20001);
      },
      58953: function (e, t, i) {
        var s = {
          "./write-topic-CUHK.svg": 1963,
          "./write-topic-HKU.svg": 39817,
          "./write-topic-UST.svg": 6909,
        };
        function n(e) {
          var t = o(e);
          return i(t);
        }
        function o(e) {
          if (!i.o(s, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw ((t.code = "MODULE_NOT_FOUND"), t);
          }
          return s[e];
        }
        (n.keys = function () {
          return Object.keys(s);
        }),
          (n.resolve = o),
          (e.exports = n),
          (n.id = 58953);
      },
      4906: function (e, t, i) {
        var s = {
          "./write-uni-CUHK.svg": 95227,
          "./write-uni-HKU.svg": 70338,
          "./write-uni-UST.svg": 14223,
        };
        function n(e) {
          var t = o(e);
          return i(t);
        }
        function o(e) {
          if (!i.o(s, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw ((t.code = "MODULE_NOT_FOUND"), t);
          }
          return s[e];
        }
        (n.keys = function () {
          return Object.keys(s);
        }),
          (n.resolve = o),
          (e.exports = n),
          (n.id = 4906);
      },
      95719: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/arrow.0f316177.svg";
      },
      36195: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/article.add8c7b5.svg";
      },
      6756: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/bilibili.55e66cb0.svg";
      },
      64217: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/delete.fec0f681.svg";
      },
      90346: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/file.ddf9e5d9.svg";
      },
      36945: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/image.4260d0a4.svg";
      },
      51153: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/loading-CUHK.ac9f3a83.svg";
      },
      21462: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/loading-HKU.111e6e4a.svg";
      },
      39976: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/loading-UST.fd4960ed.svg";
      },
      93005: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/loading.da53dea4.svg";
      },
      29983: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/miniapp.487e58ff.svg";
      },
      95812: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/netease.70d76310.svg";
      },
      24492: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/send.029b9e52.svg";
      },
      84193: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sf-comment.a57cc2ab.svg";
      },
      2589: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sf-delete.8836e16f.svg";
      },
      42203: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sf-more.e79344ee.svg";
      },
      98311: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sf-reply.d54b840a.svg";
      },
      62859: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sf-report.28ca7f55.svg";
      },
      30761: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sf-share.88e9c2d3.svg";
      },
      14498: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sf-star-fill.c6ee47ff.svg";
      },
      38510: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sf-star.79d5d2f7.svg";
      },
      22978: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sharing-author-HKU.4af07b46.svg";
      },
      17698: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sharing-author-UST.958e812e.svg";
      },
      81272: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sharing-tag-CUHK.332a0efc.svg";
      },
      69242: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sharing-tag-HKU.bb958c2a.svg";
      },
      82454: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sharing-tag-UST.6ec8f365.svg";
      },
      62198: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sharing-time-CUHK.399d6050.svg";
      },
      5166: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sharing-time-HKU.cc9ad094.svg";
      },
      71480: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/sharing-time-UST.989ce232.svg";
      },
      73537: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/vote.887a3570.svg";
      },
      48105: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-CUHK.722f826f.svg";
      },
      58943: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-HKU.3fbfa873.svg";
      },
      57870: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-UST.c744cf5f.svg";
      },
      41709: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-arrow.33201454.svg";
      },
      116: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-image-CUHK.6248a3eb.svg";
      },
      60761: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-image-HKU.e524bb88.svg";
      },
      91376: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-image-UST.1962a96a.svg";
      },
      74612: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-plus-CUHK.924ccfd4.svg";
      },
      22691: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-plus-HKU.c886c4b3.svg";
      },
      66288: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-plus-UST.d8d27ac5.svg";
      },
      63634: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-public-CUHK.d830a945.svg";
      },
      57257: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-public-HKU.5d0a32f1.svg";
      },
      27945: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-public-UST.2f82630c.svg";
      },
      11106: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-realname-CUHK.df6e74c3.svg";
      },
      22442: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-realname-HKU.785540de.svg";
      },
      95286: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-realname-UST.72425f21.svg";
      },
      1963: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-topic-CUHK.5ddb6b8e.svg";
      },
      39817: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-topic-HKU.0fcdfcb2.svg";
      },
      6909: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-topic-UST.4d0396e4.svg";
      },
      95227: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-uni-CUHK.5fce66b4.svg";
      },
      70338: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-uni-HKU.dc805ba4.svg";
      },
      14223: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/write-uni-UST.5a888ea1.svg";
      },
      35272: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/file-doc.34637e8b.png";
      },
      66475: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/file-pdf.f357c852.png";
      },
      60091: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/file-ppt.0bd7e621.png";
      },
      37453: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/file-unknown.57c8160f.png";
      },
      77180: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/file-xls.80004ce4.png";
      },
      89078: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/logo-512.461b29bd.png";
      },
      13438: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/logo-CUHK.92bdec1a.png";
      },
      86474: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/logo-HKU.b6f849a4.png";
      },
      27505: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/logo-UST.6551b42c.png";
      },
      28353: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/logo-title-dark.25b93c4b.png";
      },
      22010: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/logo-title-light.93fb60a8.png";
      },
      29290: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/qr-CUHK.11bdc042.jpg";
      },
      94020: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/qr-HKU.d062dbd1.jpg";
      },
      39432: function (e, t, i) {
        "use strict";
        e.exports = i.p + "img/qr-UST.35f1f5c8.jpg";
      },
      24654: function () {},
    },
    __webpack_module_cache__ = {};
  function __webpack_require__(e) {
    var t = __webpack_module_cache__[e];
    if (void 0 !== t) return t.exports;
    var i = (__webpack_module_cache__[e] = { exports: {} });
    return (
      __webpack_modules__[e].call(i.exports, i, i.exports, __webpack_require__),
      i.exports
    );
  }
  (__webpack_require__.m = __webpack_modules__),
    (function () {
      var e = [];
      __webpack_require__.O = function (t, i, s, n) {
        if (!i) {
          var o = 1 / 0;
          for (c = 0; c < e.length; c++) {
            (i = e[c][0]), (s = e[c][1]), (n = e[c][2]);
            for (var a = !0, r = 0; r < i.length; r++)
              (!1 & n || o >= n) &&
              Object.keys(__webpack_require__.O).every(function (e) {
                return __webpack_require__.O[e](i[r]);
              })
                ? i.splice(r--, 1)
                : ((a = !1), n < o && (o = n));
            if (a) {
              e.splice(c--, 1);
              var l = s();
              void 0 !== l && (t = l);
            }
          }
          return t;
        }
        n = n || 0;
        for (var c = e.length; c > 0 && e[c - 1][2] > n; c--) e[c] = e[c - 1];
        e[c] = [i, s, n];
      };
    })(),
    (function () {
      __webpack_require__.n = function (e) {
        var t =
          e && e.__esModule
            ? function () {
                return e["default"];
              }
            : function () {
                return e;
              };
        return __webpack_require__.d(t, { a: t }), t;
      };
    })(),
    (function () {
      __webpack_require__.d = function (e, t) {
        for (var i in t)
          __webpack_require__.o(t, i) &&
            !__webpack_require__.o(e, i) &&
            Object.defineProperty(e, i, { enumerable: !0, get: t[i] });
      };
    })(),
    (function () {
      __webpack_require__.g = (function () {
        if ("object" === typeof globalThis) return globalThis;
        try {
          return this || new Function("return this")();
        } catch (e) {
          if ("object" === typeof window) return window;
        }
      })();
    })(),
    (function () {
      __webpack_require__.o = function (e, t) {
        return Object.prototype.hasOwnProperty.call(e, t);
      };
    })(),
    (function () {
      __webpack_require__.r = function (e) {
        "undefined" !== typeof Symbol &&
          Symbol.toStringTag &&
          Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }),
          Object.defineProperty(e, "__esModule", { value: !0 });
      };
    })(),
    (function () {
      __webpack_require__.p = "/";
    })(),
    (function () {
      var e = { 143: 0 };
      __webpack_require__.O.j = function (t) {
        return 0 === e[t];
      };
      var t = function (t, i) {
          var s,
            n,
            o = i[0],
            a = i[1],
            r = i[2],
            l = 0;
          if (
            o.some(function (t) {
              return 0 !== e[t];
            })
          ) {
            for (s in a)
              __webpack_require__.o(a, s) && (__webpack_require__.m[s] = a[s]);
            if (r) var c = r(__webpack_require__);
          }
          for (t && t(i); l < o.length; l++)
            (n = o[l]),
              __webpack_require__.o(e, n) && e[n] && e[n][0](),
              (e[n] = 0);
          return __webpack_require__.O(c);
        },
        i = (self["webpackChunkuni_web"] = self["webpackChunkuni_web"] || []);
      i.forEach(t.bind(null, 0)), (i.push = t.bind(null, i.push.bind(i)));
    })();
  var __webpack_exports__ = __webpack_require__.O(void 0, [998], function () {
    return __webpack_require__(25902);
  });
  __webpack_exports__ = __webpack_require__.O(__webpack_exports__);
})();
//# sourceMappingURL=app.4f3cf818.js.map
